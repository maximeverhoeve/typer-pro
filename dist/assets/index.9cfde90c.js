function cee(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fee(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var OP={},j1={exports:{}},wa={},U={exports:{}},kn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1=Symbol.for("react.element"),hee=Symbol.for("react.portal"),dee=Symbol.for("react.fragment"),pee=Symbol.for("react.strict_mode"),mee=Symbol.for("react.profiler"),gee=Symbol.for("react.provider"),vee=Symbol.for("react.context"),yee=Symbol.for("react.forward_ref"),xee=Symbol.for("react.suspense"),_ee=Symbol.for("react.memo"),wee=Symbol.for("react.lazy"),JN=Symbol.iterator;function See(t){return t===null||typeof t!="object"?null:(t=JN&&t[JN]||t["@@iterator"],typeof t=="function"?t:null)}var f6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h6=Object.assign,d6={};function D0(t,e,n){this.props=t,this.context=e,this.refs=d6,this.updater=n||f6}D0.prototype.isReactComponent={};D0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};D0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p6(){}p6.prototype=D0.prototype;function nk(t,e,n){this.props=t,this.context=e,this.refs=d6,this.updater=n||f6}var rk=nk.prototype=new p6;rk.constructor=nk;h6(rk,D0.prototype);rk.isPureReactComponent=!0;var eF=Array.isArray,m6=Object.prototype.hasOwnProperty,ik={current:null},g6={key:!0,ref:!0,__self:!0,__source:!0};function v6(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)m6.call(e,r)&&!g6.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:q1,type:t,key:s,ref:o,props:i,_owner:ik.current}}function bee(t,e){return{$$typeof:q1,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sk(t){return typeof t=="object"&&t!==null&&t.$$typeof===q1}function Mee(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tF=/\/+/g;function E2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mee(""+t.key):e.toString(36)}function Ib(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case q1:case hee:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+E2(o,0):r,eF(i)?(n="",t!=null&&(n=t.replace(tF,"$&/")+"/"),Ib(i,e,n,"",function(u){return u})):i!=null&&(sk(i)&&(i=bee(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tF,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",eF(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+E2(s,a);o+=Ib(s,e,n,l,i)}else if(l=See(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+E2(s,a++),o+=Ib(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nS(t,e,n){if(t==null)return t;var r=[],i=0;return Ib(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Eee(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xo={current:null},kb={transition:null},Tee={ReactCurrentDispatcher:xo,ReactCurrentBatchConfig:kb,ReactCurrentOwner:ik};kn.Children={map:nS,forEach:function(t,e,n){nS(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nS(t,function(){e++}),e},toArray:function(t){return nS(t,function(e){return e})||[]},only:function(t){if(!sk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};kn.Component=D0;kn.Fragment=dee;kn.Profiler=mee;kn.PureComponent=nk;kn.StrictMode=pee;kn.Suspense=xee;kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tee;kn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h6({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ik.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)m6.call(e,l)&&!g6.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:q1,type:t.type,key:i,ref:s,props:r,_owner:o}};kn.createContext=function(t){return t={$$typeof:vee,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gee,_context:t},t.Consumer=t};kn.createElement=v6;kn.createFactory=function(t){var e=v6.bind(null,t);return e.type=t,e};kn.createRef=function(){return{current:null}};kn.forwardRef=function(t){return{$$typeof:yee,render:t}};kn.isValidElement=sk;kn.lazy=function(t){return{$$typeof:wee,_payload:{_status:-1,_result:t},_init:Eee}};kn.memo=function(t,e){return{$$typeof:_ee,type:t,compare:e===void 0?null:e}};kn.startTransition=function(t){var e=kb.transition;kb.transition={};try{t()}finally{kb.transition=e}};kn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};kn.useCallback=function(t,e){return xo.current.useCallback(t,e)};kn.useContext=function(t){return xo.current.useContext(t)};kn.useDebugValue=function(){};kn.useDeferredValue=function(t){return xo.current.useDeferredValue(t)};kn.useEffect=function(t,e){return xo.current.useEffect(t,e)};kn.useId=function(){return xo.current.useId()};kn.useImperativeHandle=function(t,e,n){return xo.current.useImperativeHandle(t,e,n)};kn.useInsertionEffect=function(t,e){return xo.current.useInsertionEffect(t,e)};kn.useLayoutEffect=function(t,e){return xo.current.useLayoutEffect(t,e)};kn.useMemo=function(t,e){return xo.current.useMemo(t,e)};kn.useReducer=function(t,e,n){return xo.current.useReducer(t,e,n)};kn.useRef=function(t){return xo.current.useRef(t)};kn.useState=function(t){return xo.current.useState(t)};kn.useSyncExternalStore=function(t,e,n){return xo.current.useSyncExternalStore(t,e,n)};kn.useTransition=function(){return xo.current.useTransition()};kn.version="18.2.0";(function(t){t.exports=kn})(U);const Ye=G1(U.exports),Ex=cee({__proto__:null,default:Ye},[U.exports]);var y6={exports:{}},x6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Y){var Z=z.length;z.push(Y);e:for(;0<Z;){var B=Z-1>>>1,G=z[B];if(0<i(G,Y))z[B]=Y,z[Z]=G,Z=B;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],Z=z.pop();if(Z!==Y){z[0]=Z;e:for(var B=0,G=z.length,le=G>>>1;B<le;){var we=2*(B+1)-1,Me=z[we],pe=we+1,We=z[pe];if(0>i(Me,Z))pe<G&&0>i(We,Me)?(z[B]=We,z[pe]=Z,B=pe):(z[B]=Me,z[we]=Z,B=we);else if(pe<G&&0>i(We,Z))z[B]=We,z[pe]=Z,B=pe;else break e}}return Y}function i(z,Y){var Z=z.sortIndex-Y.sortIndex;return Z!==0?Z:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,p=null,m=3,v=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=z)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function T(z){if(x=!1,w(z),!y)if(n(l)!==null)y=!0,ae(A);else{var Y=n(u);Y!==null&&fe(T,Y.startTime-z)}}function A(z,Y){y=!1,x&&(x=!1,b(P),P=-1),v=!0;var Z=m;try{for(w(Y),p=n(l);p!==null&&(!(p.expirationTime>Y)||z&&!H());){var B=p.callback;if(typeof B=="function"){p.callback=null,m=p.priorityLevel;var G=B(p.expirationTime<=Y);Y=t.unstable_now(),typeof G=="function"?p.callback=G:p===n(l)&&r(l),w(Y)}else r(l);p=n(l)}if(p!==null)var le=!0;else{var we=n(u);we!==null&&fe(T,we.startTime-Y),le=!1}return le}finally{p=null,m=Z,v=!1}}var k=!1,L=null,P=-1,O=5,N=-1;function H(){return!(t.unstable_now()-N<O)}function ie(){if(L!==null){var z=t.unstable_now();N=z;var Y=!0;try{Y=L(!0,z)}finally{Y?te():(k=!1,L=null)}}else k=!1}var te;if(typeof M=="function")te=function(){M(ie)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ue=ee.port2;ee.port1.onmessage=ie,te=function(){ue.postMessage(null)}}else te=function(){_(ie,0)};function ae(z){L=z,k||(k=!0,te())}function fe(z,Y){P=_(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,ae(A))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var Z=m;m=Y;try{return z()}finally{m=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=m;m=z;try{return Y()}finally{m=Z}},t.unstable_scheduleCallback=function(z,Y,Z){var B=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?B+Z:B):Z=B,z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,z={id:c++,callback:Y,priorityLevel:z,startTime:Z,expirationTime:G,sortIndex:-1},Z>B?(z.sortIndex=Z,e(u,z),n(l)===null&&z===n(u)&&(x?(b(P),P=-1):x=!0,fe(T,Z-B))):(z.sortIndex=G,e(l,z),y||v||(y=!0,ae(A))),z},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(z){var Y=m;return function(){var Z=m;m=Y;try{return z.apply(this,arguments)}finally{m=Z}}}})(x6);(function(t){t.exports=x6})(y6);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _6=U.exports,ma=y6.exports;function Je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w6=new Set,Tx={};function Bp(t,e){n0(t,e),n0(t+"Capture",e)}function n0(t,e){for(Tx[t]=e,t=0;t<e.length;t++)w6.add(e[t])}var Lc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),NP=Object.prototype.hasOwnProperty,Cee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nF={},rF={};function Aee(t){return NP.call(rF,t)?!0:NP.call(nF,t)?!1:Cee.test(t)?rF[t]=!0:(nF[t]=!0,!1)}function Pee(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ree(t,e,n,r){if(e===null||typeof e>"u"||Pee(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _o(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ws={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ws[t]=new _o(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ws[e]=new _o(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ws[t]=new _o(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ws[t]=new _o(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ws[t]=new _o(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ws[t]=new _o(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ws[t]=new _o(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ws[t]=new _o(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ws[t]=new _o(t,5,!1,t.toLowerCase(),null,!1,!1)});var ok=/[\-:]([a-z])/g;function ak(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ok,ak);ws[e]=new _o(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ok,ak);ws[e]=new _o(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ok,ak);ws[e]=new _o(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ws[t]=new _o(t,1,!1,t.toLowerCase(),null,!1,!1)});ws.xlinkHref=new _o("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ws[t]=new _o(t,1,!1,t.toLowerCase(),null,!0,!0)});function lk(t,e,n,r){var i=ws.hasOwnProperty(e)?ws[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ree(e,n,i,r)&&(n=null),r||i===null?Aee(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qc=_6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rS=Symbol.for("react.element"),mg=Symbol.for("react.portal"),gg=Symbol.for("react.fragment"),uk=Symbol.for("react.strict_mode"),FP=Symbol.for("react.profiler"),S6=Symbol.for("react.provider"),b6=Symbol.for("react.context"),ck=Symbol.for("react.forward_ref"),zP=Symbol.for("react.suspense"),BP=Symbol.for("react.suspense_list"),fk=Symbol.for("react.memo"),zf=Symbol.for("react.lazy"),M6=Symbol.for("react.offscreen"),iF=Symbol.iterator;function Kv(t){return t===null||typeof t!="object"?null:(t=iF&&t[iF]||t["@@iterator"],typeof t=="function"?t:null)}var Hr=Object.assign,T2;function Py(t){if(T2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);T2=e&&e[1]||""}return`
`+T2+t}var C2=!1;function A2(t,e){if(!t||C2)return"";C2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{C2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Py(t):""}function Iee(t){switch(t.tag){case 5:return Py(t.type);case 16:return Py("Lazy");case 13:return Py("Suspense");case 19:return Py("SuspenseList");case 0:case 2:case 15:return t=A2(t.type,!1),t;case 11:return t=A2(t.type.render,!1),t;case 1:return t=A2(t.type,!0),t;default:return""}}function UP(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gg:return"Fragment";case mg:return"Portal";case FP:return"Profiler";case uk:return"StrictMode";case zP:return"Suspense";case BP:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b6:return(t.displayName||"Context")+".Consumer";case S6:return(t._context.displayName||"Context")+".Provider";case ck:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fk:return e=t.displayName||null,e!==null?e:UP(t.type)||"Memo";case zf:e=t._payload,t=t._init;try{return UP(t(e))}catch{}}return null}function kee(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return UP(e);case 8:return e===uk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function E6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lee(t){var e=E6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function iS(t){t._valueTracker||(t._valueTracker=Lee(t))}function T6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=E6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yM(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function VP(t,e){var n=e.checked;return Hr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function sF(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vh(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C6(t,e){e=e.checked,e!=null&&lk(t,"checked",e,!1)}function HP(t,e){C6(t,e);var n=vh(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?WP(t,e.type,n):e.hasOwnProperty("defaultValue")&&WP(t,e.type,vh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oF(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function WP(t,e,n){(e!=="number"||yM(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ry=Array.isArray;function zg(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vh(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $P(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Je(91));return Hr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aF(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Je(92));if(Ry(n)){if(1<n.length)throw Error(Je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vh(n)}}function A6(t,e){var n=vh(e.value),r=vh(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lF(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function P6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function GP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?P6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sS,R6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sS=sS||document.createElement("div"),sS.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sS.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cx(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dee=["Webkit","ms","Moz","O"];Object.keys(Wy).forEach(function(t){Dee.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wy[e]=Wy[t]})});function I6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wy.hasOwnProperty(t)&&Wy[t]?(""+e).trim():e+"px"}function k6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=I6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Oee=Hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jP(t,e){if(e){if(Oee[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Je(62))}}function qP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XP=null;function hk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var YP=null,Bg=null,Ug=null;function uF(t){if(t=Q1(t)){if(typeof YP!="function")throw Error(Je(280));var e=t.stateNode;e&&(e=eT(e),YP(t.stateNode,t.type,e))}}function L6(t){Bg?Ug?Ug.push(t):Ug=[t]:Bg=t}function D6(){if(Bg){var t=Bg,e=Ug;if(Ug=Bg=null,uF(t),e)for(t=0;t<e.length;t++)uF(e[t])}}function O6(t,e){return t(e)}function N6(){}var P2=!1;function F6(t,e,n){if(P2)return t(e,n);P2=!0;try{return O6(t,e,n)}finally{P2=!1,(Bg!==null||Ug!==null)&&(N6(),D6())}}function Ax(t,e){var n=t.stateNode;if(n===null)return null;var r=eT(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Je(231,e,typeof n));return n}var QP=!1;if(Lc)try{var Zv={};Object.defineProperty(Zv,"passive",{get:function(){QP=!0}}),window.addEventListener("test",Zv,Zv),window.removeEventListener("test",Zv,Zv)}catch{QP=!1}function Nee(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var $y=!1,xM=null,_M=!1,KP=null,Fee={onError:function(t){$y=!0,xM=t}};function zee(t,e,n,r,i,s,o,a,l){$y=!1,xM=null,Nee.apply(Fee,arguments)}function Bee(t,e,n,r,i,s,o,a,l){if(zee.apply(this,arguments),$y){if($y){var u=xM;$y=!1,xM=null}else throw Error(Je(198));_M||(_M=!0,KP=u)}}function Up(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function z6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cF(t){if(Up(t)!==t)throw Error(Je(188))}function Uee(t){var e=t.alternate;if(!e){if(e=Up(t),e===null)throw Error(Je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return cF(i),t;if(s===r)return cF(i),e;s=s.sibling}throw Error(Je(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Je(189))}}if(n.alternate!==r)throw Error(Je(190))}if(n.tag!==3)throw Error(Je(188));return n.stateNode.current===n?t:e}function B6(t){return t=Uee(t),t!==null?U6(t):null}function U6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=U6(t);if(e!==null)return e;t=t.sibling}return null}var V6=ma.unstable_scheduleCallback,fF=ma.unstable_cancelCallback,Vee=ma.unstable_shouldYield,Hee=ma.unstable_requestPaint,fi=ma.unstable_now,Wee=ma.unstable_getCurrentPriorityLevel,dk=ma.unstable_ImmediatePriority,H6=ma.unstable_UserBlockingPriority,wM=ma.unstable_NormalPriority,$ee=ma.unstable_LowPriority,W6=ma.unstable_IdlePriority,QE=null,Mu=null;function Gee(t){if(Mu&&typeof Mu.onCommitFiberRoot=="function")try{Mu.onCommitFiberRoot(QE,t,void 0,(t.current.flags&128)===128)}catch{}}var Rl=Math.clz32?Math.clz32:Xee,jee=Math.log,qee=Math.LN2;function Xee(t){return t>>>=0,t===0?32:31-(jee(t)/qee|0)|0}var oS=64,aS=4194304;function Iy(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function SM(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Iy(a):(s&=o,s!==0&&(r=Iy(s)))}else o=n&~i,o!==0?r=Iy(o):s!==0&&(r=Iy(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rl(e),i=1<<n,r|=t[n],e&=~i;return r}function Yee(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qee(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rl(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=Yee(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ZP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $6(){var t=oS;return oS<<=1,(oS&4194240)===0&&(oS=64),t}function R2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function X1(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rl(e),t[e]=n}function Kee(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rl(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function pk(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rl(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var or=0;function G6(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var j6,mk,q6,X6,Y6,JP=!1,lS=[],th=null,nh=null,rh=null,Px=new Map,Rx=new Map,Wf=[],Zee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hF(t,e){switch(t){case"focusin":case"focusout":th=null;break;case"dragenter":case"dragleave":nh=null;break;case"mouseover":case"mouseout":rh=null;break;case"pointerover":case"pointerout":Px.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rx.delete(e.pointerId)}}function Jv(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Q1(e),e!==null&&mk(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jee(t,e,n,r,i){switch(e){case"focusin":return th=Jv(th,t,e,n,r,i),!0;case"dragenter":return nh=Jv(nh,t,e,n,r,i),!0;case"mouseover":return rh=Jv(rh,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Px.set(s,Jv(Px.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rx.set(s,Jv(Rx.get(s)||null,t,e,n,r,i)),!0}return!1}function Q6(t){var e=jd(t.target);if(e!==null){var n=Up(e);if(n!==null){if(e=n.tag,e===13){if(e=z6(n),e!==null){t.blockedOn=e,Y6(t.priority,function(){q6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eR(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);XP=r,n.target.dispatchEvent(r),XP=null}else return e=Q1(n),e!==null&&mk(e),t.blockedOn=n,!1;e.shift()}return!0}function dF(t,e,n){Lb(t)&&n.delete(e)}function ete(){JP=!1,th!==null&&Lb(th)&&(th=null),nh!==null&&Lb(nh)&&(nh=null),rh!==null&&Lb(rh)&&(rh=null),Px.forEach(dF),Rx.forEach(dF)}function ey(t,e){t.blockedOn===e&&(t.blockedOn=null,JP||(JP=!0,ma.unstable_scheduleCallback(ma.unstable_NormalPriority,ete)))}function Ix(t){function e(i){return ey(i,t)}if(0<lS.length){ey(lS[0],t);for(var n=1;n<lS.length;n++){var r=lS[n];r.blockedOn===t&&(r.blockedOn=null)}}for(th!==null&&ey(th,t),nh!==null&&ey(nh,t),rh!==null&&ey(rh,t),Px.forEach(e),Rx.forEach(e),n=0;n<Wf.length;n++)r=Wf[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wf.length&&(n=Wf[0],n.blockedOn===null);)Q6(n),n.blockedOn===null&&Wf.shift()}var Vg=qc.ReactCurrentBatchConfig,bM=!0;function tte(t,e,n,r){var i=or,s=Vg.transition;Vg.transition=null;try{or=1,gk(t,e,n,r)}finally{or=i,Vg.transition=s}}function nte(t,e,n,r){var i=or,s=Vg.transition;Vg.transition=null;try{or=4,gk(t,e,n,r)}finally{or=i,Vg.transition=s}}function gk(t,e,n,r){if(bM){var i=eR(t,e,n,r);if(i===null)U2(t,e,r,MM,n),hF(t,r);else if(Jee(i,t,e,n,r))r.stopPropagation();else if(hF(t,r),e&4&&-1<Zee.indexOf(t)){for(;i!==null;){var s=Q1(i);if(s!==null&&j6(s),s=eR(t,e,n,r),s===null&&U2(t,e,r,MM,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else U2(t,e,r,null,n)}}var MM=null;function eR(t,e,n,r){if(MM=null,t=hk(r),t=jd(t),t!==null)if(e=Up(t),e===null)t=null;else if(n=e.tag,n===13){if(t=z6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return MM=t,null}function K6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wee()){case dk:return 1;case H6:return 4;case wM:case $ee:return 16;case W6:return 536870912;default:return 16}default:return 16}}var Gf=null,vk=null,Db=null;function Z6(){if(Db)return Db;var t,e=vk,n=e.length,r,i="value"in Gf?Gf.value:Gf.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Db=i.slice(t,1<r?1-r:void 0)}function Ob(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uS(){return!0}function pF(){return!1}function Sa(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uS:pF,this.isPropagationStopped=pF,this}return Hr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uS)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uS)},persist:function(){},isPersistent:uS}),e}var O0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yk=Sa(O0),Y1=Hr({},O0,{view:0,detail:0}),rte=Sa(Y1),I2,k2,ty,KE=Hr({},Y1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ty&&(ty&&t.type==="mousemove"?(I2=t.screenX-ty.screenX,k2=t.screenY-ty.screenY):k2=I2=0,ty=t),I2)},movementY:function(t){return"movementY"in t?t.movementY:k2}}),mF=Sa(KE),ite=Hr({},KE,{dataTransfer:0}),ste=Sa(ite),ote=Hr({},Y1,{relatedTarget:0}),L2=Sa(ote),ate=Hr({},O0,{animationName:0,elapsedTime:0,pseudoElement:0}),lte=Sa(ate),ute=Hr({},O0,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cte=Sa(ute),fte=Hr({},O0,{data:0}),gF=Sa(fte),hte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mte(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pte[t])?!!e[t]:!1}function xk(){return mte}var gte=Hr({},Y1,{key:function(t){if(t.key){var e=hte[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ob(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dte[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xk,charCode:function(t){return t.type==="keypress"?Ob(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ob(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vte=Sa(gte),yte=Hr({},KE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vF=Sa(yte),xte=Hr({},Y1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xk}),_te=Sa(xte),wte=Hr({},O0,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ste=Sa(wte),bte=Hr({},KE,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mte=Sa(bte),Ete=[9,13,27,32],_k=Lc&&"CompositionEvent"in window,Gy=null;Lc&&"documentMode"in document&&(Gy=document.documentMode);var Tte=Lc&&"TextEvent"in window&&!Gy,J6=Lc&&(!_k||Gy&&8<Gy&&11>=Gy),yF=String.fromCharCode(32),xF=!1;function e8(t,e){switch(t){case"keyup":return Ete.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vg=!1;function Cte(t,e){switch(t){case"compositionend":return t8(e);case"keypress":return e.which!==32?null:(xF=!0,yF);case"textInput":return t=e.data,t===yF&&xF?null:t;default:return null}}function Ate(t,e){if(vg)return t==="compositionend"||!_k&&e8(t,e)?(t=Z6(),Db=vk=Gf=null,vg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return J6&&e.locale!=="ko"?null:e.data;default:return null}}var Pte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _F(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Pte[t.type]:e==="textarea"}function n8(t,e,n,r){L6(r),e=EM(e,"onChange"),0<e.length&&(n=new yk("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jy=null,kx=null;function Rte(t){d8(t,0)}function ZE(t){var e=_g(t);if(T6(e))return t}function Ite(t,e){if(t==="change")return e}var r8=!1;if(Lc){var D2;if(Lc){var O2="oninput"in document;if(!O2){var wF=document.createElement("div");wF.setAttribute("oninput","return;"),O2=typeof wF.oninput=="function"}D2=O2}else D2=!1;r8=D2&&(!document.documentMode||9<document.documentMode)}function SF(){jy&&(jy.detachEvent("onpropertychange",i8),kx=jy=null)}function i8(t){if(t.propertyName==="value"&&ZE(kx)){var e=[];n8(e,kx,t,hk(t)),F6(Rte,e)}}function kte(t,e,n){t==="focusin"?(SF(),jy=e,kx=n,jy.attachEvent("onpropertychange",i8)):t==="focusout"&&SF()}function Lte(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ZE(kx)}function Dte(t,e){if(t==="click")return ZE(e)}function Ote(t,e){if(t==="input"||t==="change")return ZE(e)}function Nte(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fl=typeof Object.is=="function"?Object.is:Nte;function Lx(t,e){if(Fl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!NP.call(e,i)||!Fl(t[i],e[i]))return!1}return!0}function bF(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function MF(t,e){var n=bF(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bF(n)}}function s8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o8(){for(var t=window,e=yM();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yM(t.document)}return e}function wk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Fte(t){var e=o8(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&s8(n.ownerDocument.documentElement,n)){if(r!==null&&wk(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=MF(n,s);var o=MF(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zte=Lc&&"documentMode"in document&&11>=document.documentMode,yg=null,tR=null,qy=null,nR=!1;function EF(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nR||yg==null||yg!==yM(r)||(r=yg,"selectionStart"in r&&wk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qy&&Lx(qy,r)||(qy=r,r=EM(tR,"onSelect"),0<r.length&&(e=new yk("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yg)))}function cS(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xg={animationend:cS("Animation","AnimationEnd"),animationiteration:cS("Animation","AnimationIteration"),animationstart:cS("Animation","AnimationStart"),transitionend:cS("Transition","TransitionEnd")},N2={},a8={};Lc&&(a8=document.createElement("div").style,"AnimationEvent"in window||(delete xg.animationend.animation,delete xg.animationiteration.animation,delete xg.animationstart.animation),"TransitionEvent"in window||delete xg.transitionend.transition);function JE(t){if(N2[t])return N2[t];if(!xg[t])return t;var e=xg[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in a8)return N2[t]=e[n];return t}var l8=JE("animationend"),u8=JE("animationiteration"),c8=JE("animationstart"),f8=JE("transitionend"),h8=new Map,TF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ah(t,e){h8.set(t,e),Bp(e,[t])}for(var F2=0;F2<TF.length;F2++){var z2=TF[F2],Bte=z2.toLowerCase(),Ute=z2[0].toUpperCase()+z2.slice(1);Ah(Bte,"on"+Ute)}Ah(l8,"onAnimationEnd");Ah(u8,"onAnimationIteration");Ah(c8,"onAnimationStart");Ah("dblclick","onDoubleClick");Ah("focusin","onFocus");Ah("focusout","onBlur");Ah(f8,"onTransitionEnd");n0("onMouseEnter",["mouseout","mouseover"]);n0("onMouseLeave",["mouseout","mouseover"]);n0("onPointerEnter",["pointerout","pointerover"]);n0("onPointerLeave",["pointerout","pointerover"]);Bp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ky="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vte=new Set("cancel close invalid load scroll toggle".split(" ").concat(ky));function CF(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Bee(r,e,void 0,t),t.currentTarget=null}function d8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;CF(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;CF(i,a,u),s=l}}}if(_M)throw t=KP,_M=!1,KP=null,t}function br(t,e){var n=e[aR];n===void 0&&(n=e[aR]=new Set);var r=t+"__bubble";n.has(r)||(p8(e,t,2,!1),n.add(r))}function B2(t,e,n){var r=0;e&&(r|=4),p8(n,t,r,e)}var fS="_reactListening"+Math.random().toString(36).slice(2);function Dx(t){if(!t[fS]){t[fS]=!0,w6.forEach(function(n){n!=="selectionchange"&&(Vte.has(n)||B2(n,!1,t),B2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fS]||(e[fS]=!0,B2("selectionchange",!1,e))}}function p8(t,e,n,r){switch(K6(e)){case 1:var i=tte;break;case 4:i=nte;break;default:i=gk}n=i.bind(null,e,n,t),i=void 0,!QP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function U2(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=jd(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}F6(function(){var u=s,c=hk(n),p=[];e:{var m=h8.get(t);if(m!==void 0){var v=yk,y=t;switch(t){case"keypress":if(Ob(n)===0)break e;case"keydown":case"keyup":v=vte;break;case"focusin":y="focus",v=L2;break;case"focusout":y="blur",v=L2;break;case"beforeblur":case"afterblur":v=L2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=mF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ste;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=_te;break;case l8:case u8:case c8:v=lte;break;case f8:v=Ste;break;case"scroll":v=rte;break;case"wheel":v=Mte;break;case"copy":case"cut":case"paste":v=cte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=vF}var x=(e&4)!==0,_=!x&&t==="scroll",b=x?m!==null?m+"Capture":null:m;x=[];for(var M=u,w;M!==null;){w=M;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,b!==null&&(T=Ax(M,b),T!=null&&x.push(Ox(M,T,w)))),_)break;M=M.return}0<x.length&&(m=new v(m,y,null,n,c),p.push({event:m,listeners:x}))}}if((e&7)===0){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==XP&&(y=n.relatedTarget||n.fromElement)&&(jd(y)||y[Dc]))break e;if((v||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?jd(y):null,y!==null&&(_=Up(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(x=mF,T="onMouseLeave",b="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(x=vF,T="onPointerLeave",b="onPointerEnter",M="pointer"),_=v==null?m:_g(v),w=y==null?m:_g(y),m=new x(T,M+"leave",v,n,c),m.target=_,m.relatedTarget=w,T=null,jd(c)===u&&(x=new x(b,M+"enter",y,n,c),x.target=w,x.relatedTarget=_,T=x),_=T,v&&y)t:{for(x=v,b=y,M=0,w=x;w;w=Vm(w))M++;for(w=0,T=b;T;T=Vm(T))w++;for(;0<M-w;)x=Vm(x),M--;for(;0<w-M;)b=Vm(b),w--;for(;M--;){if(x===b||b!==null&&x===b.alternate)break t;x=Vm(x),b=Vm(b)}x=null}else x=null;v!==null&&AF(p,m,v,x,!1),y!==null&&_!==null&&AF(p,_,y,x,!0)}}e:{if(m=u?_g(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var A=Ite;else if(_F(m))if(r8)A=Ote;else{A=Lte;var k=kte}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=Dte);if(A&&(A=A(t,u))){n8(p,A,n,c);break e}k&&k(t,m,u),t==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&WP(m,"number",m.value)}switch(k=u?_g(u):window,t){case"focusin":(_F(k)||k.contentEditable==="true")&&(yg=k,tR=u,qy=null);break;case"focusout":qy=tR=yg=null;break;case"mousedown":nR=!0;break;case"contextmenu":case"mouseup":case"dragend":nR=!1,EF(p,n,c);break;case"selectionchange":if(zte)break;case"keydown":case"keyup":EF(p,n,c)}var L;if(_k)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else vg?e8(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(J6&&n.locale!=="ko"&&(vg||P!=="onCompositionStart"?P==="onCompositionEnd"&&vg&&(L=Z6()):(Gf=c,vk="value"in Gf?Gf.value:Gf.textContent,vg=!0)),k=EM(u,P),0<k.length&&(P=new gF(P,t,null,n,c),p.push({event:P,listeners:k}),L?P.data=L:(L=t8(n),L!==null&&(P.data=L)))),(L=Tte?Cte(t,n):Ate(t,n))&&(u=EM(u,"onBeforeInput"),0<u.length&&(c=new gF("onBeforeInput","beforeinput",null,n,c),p.push({event:c,listeners:u}),c.data=L))}d8(p,e)})}function Ox(t,e,n){return{instance:t,listener:e,currentTarget:n}}function EM(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ax(t,n),s!=null&&r.unshift(Ox(t,s,i)),s=Ax(t,e),s!=null&&r.push(Ox(t,s,i))),t=t.return}return r}function Vm(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function AF(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ax(n,s),l!=null&&o.unshift(Ox(n,l,a))):i||(l=Ax(n,s),l!=null&&o.push(Ox(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Hte=/\r\n?/g,Wte=/\u0000|\uFFFD/g;function PF(t){return(typeof t=="string"?t:""+t).replace(Hte,`
`).replace(Wte,"")}function hS(t,e,n){if(e=PF(e),PF(t)!==e&&n)throw Error(Je(425))}function TM(){}var rR=null,iR=null;function sR(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oR=typeof setTimeout=="function"?setTimeout:void 0,$te=typeof clearTimeout=="function"?clearTimeout:void 0,RF=typeof Promise=="function"?Promise:void 0,Gte=typeof queueMicrotask=="function"?queueMicrotask:typeof RF<"u"?function(t){return RF.resolve(null).then(t).catch(jte)}:oR;function jte(t){setTimeout(function(){throw t})}function V2(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ix(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ix(e)}function ih(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function IF(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var N0=Math.random().toString(36).slice(2),Su="__reactFiber$"+N0,Nx="__reactProps$"+N0,Dc="__reactContainer$"+N0,aR="__reactEvents$"+N0,qte="__reactListeners$"+N0,Xte="__reactHandles$"+N0;function jd(t){var e=t[Su];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dc]||n[Su]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=IF(t);t!==null;){if(n=t[Su])return n;t=IF(t)}return e}t=n,n=t.parentNode}return null}function Q1(t){return t=t[Su]||t[Dc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _g(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Je(33))}function eT(t){return t[Nx]||null}var lR=[],wg=-1;function Ph(t){return{current:t}}function Tr(t){0>wg||(t.current=lR[wg],lR[wg]=null,wg--)}function xr(t,e){wg++,lR[wg]=t.current,t.current=e}var yh={},js=Ph(yh),Oo=Ph(!1),wp=yh;function r0(t,e){var n=t.type.contextTypes;if(!n)return yh;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function No(t){return t=t.childContextTypes,t!=null}function CM(){Tr(Oo),Tr(js)}function kF(t,e,n){if(js.current!==yh)throw Error(Je(168));xr(js,e),xr(Oo,n)}function m8(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Je(108,kee(t)||"Unknown",i));return Hr({},n,r)}function AM(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yh,wp=js.current,xr(js,t),xr(Oo,Oo.current),!0}function LF(t,e,n){var r=t.stateNode;if(!r)throw Error(Je(169));n?(t=m8(t,e,wp),r.__reactInternalMemoizedMergedChildContext=t,Tr(Oo),Tr(js),xr(js,t)):Tr(Oo),xr(Oo,n)}var xc=null,tT=!1,H2=!1;function g8(t){xc===null?xc=[t]:xc.push(t)}function Yte(t){tT=!0,g8(t)}function Rh(){if(!H2&&xc!==null){H2=!0;var t=0,e=or;try{var n=xc;for(or=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xc=null,tT=!1}catch(i){throw xc!==null&&(xc=xc.slice(t+1)),V6(dk,Rh),i}finally{or=e,H2=!1}}return null}var Sg=[],bg=0,PM=null,RM=0,Va=[],Ha=0,Sp=null,Mc=1,Ec="";function Ld(t,e){Sg[bg++]=RM,Sg[bg++]=PM,PM=t,RM=e}function v8(t,e,n){Va[Ha++]=Mc,Va[Ha++]=Ec,Va[Ha++]=Sp,Sp=t;var r=Mc;t=Ec;var i=32-Rl(r)-1;r&=~(1<<i),n+=1;var s=32-Rl(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mc=1<<32-Rl(e)+i|n<<i|r,Ec=s+t}else Mc=1<<s|n<<i|r,Ec=t}function Sk(t){t.return!==null&&(Ld(t,1),v8(t,1,0))}function bk(t){for(;t===PM;)PM=Sg[--bg],Sg[bg]=null,RM=Sg[--bg],Sg[bg]=null;for(;t===Sp;)Sp=Va[--Ha],Va[Ha]=null,Ec=Va[--Ha],Va[Ha]=null,Mc=Va[--Ha],Va[Ha]=null}var fa=null,ua=null,Ar=!1,Tl=null;function y8(t,e){var n=ja(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function DF(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fa=t,ua=ih(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fa=t,ua=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Sp!==null?{id:Mc,overflow:Ec}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ja(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fa=t,ua=null,!0):!1;default:return!1}}function uR(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cR(t){if(Ar){var e=ua;if(e){var n=e;if(!DF(t,e)){if(uR(t))throw Error(Je(418));e=ih(n.nextSibling);var r=fa;e&&DF(t,e)?y8(r,n):(t.flags=t.flags&-4097|2,Ar=!1,fa=t)}}else{if(uR(t))throw Error(Je(418));t.flags=t.flags&-4097|2,Ar=!1,fa=t}}}function OF(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fa=t}function dS(t){if(t!==fa)return!1;if(!Ar)return OF(t),Ar=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sR(t.type,t.memoizedProps)),e&&(e=ua)){if(uR(t))throw x8(),Error(Je(418));for(;e;)y8(t,e),e=ih(e.nextSibling)}if(OF(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ua=ih(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ua=null}}else ua=fa?ih(t.stateNode.nextSibling):null;return!0}function x8(){for(var t=ua;t;)t=ih(t.nextSibling)}function i0(){ua=fa=null,Ar=!1}function Mk(t){Tl===null?Tl=[t]:Tl.push(t)}var Qte=qc.ReactCurrentBatchConfig;function bl(t,e){if(t&&t.defaultProps){e=Hr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var IM=Ph(null),kM=null,Mg=null,Ek=null;function Tk(){Ek=Mg=kM=null}function Ck(t){var e=IM.current;Tr(IM),t._currentValue=e}function fR(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hg(t,e){kM=t,Ek=Mg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Lo=!0),t.firstContext=null)}function Za(t){var e=t._currentValue;if(Ek!==t)if(t={context:t,memoizedValue:e,next:null},Mg===null){if(kM===null)throw Error(Je(308));Mg=t,kM.dependencies={lanes:0,firstContext:t}}else Mg=Mg.next=t;return e}var qd=null;function Ak(t){qd===null?qd=[t]:qd.push(t)}function _8(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ak(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oc(t,r)}function Oc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bf=!1;function Pk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sh(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Vn&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oc(t,n)}return i=r.interleaved,i===null?(e.next=e,Ak(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oc(t,n)}function Nb(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pk(t,n)}}function NF(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function LM(t,e,n,r){var i=t.updateQueue;Bf=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,c=u=l=null,a=s;do{var m=a.lane,v=a.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(m=e,v=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){p=y.call(v,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(v,p,m):y,m==null)break e;p=Hr({},p,m);break e;case 2:Bf=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=p):c=c.next=v,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(c===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Mp|=o,t.lanes=o,t.memoizedState=p}}function FF(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Je(191,i));i.call(r)}}}var S8=new _6.Component().refs;function hR(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Hr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nT={isMounted:function(t){return(t=t._reactInternals)?Up(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vo(),i=ah(t),s=Pc(r,i);s.payload=e,n!=null&&(s.callback=n),e=sh(t,s,i),e!==null&&(Il(e,t,i,r),Nb(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vo(),i=ah(t),s=Pc(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=sh(t,s,i),e!==null&&(Il(e,t,i,r),Nb(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vo(),r=ah(t),i=Pc(n,r);i.tag=2,e!=null&&(i.callback=e),e=sh(t,i,r),e!==null&&(Il(e,t,r,n),Nb(e,t,r))}};function zF(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Lx(n,r)||!Lx(i,s):!0}function b8(t,e,n){var r=!1,i=yh,s=e.contextType;return typeof s=="object"&&s!==null?s=Za(s):(i=No(e)?wp:js.current,r=e.contextTypes,s=(r=r!=null)?r0(t,i):yh),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nT,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function BF(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nT.enqueueReplaceState(e,e.state,null)}function dR(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=S8,Pk(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Za(s):(s=No(e)?wp:js.current,i.context=r0(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hR(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nT.enqueueReplaceState(i,i.state,null),LM(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ny(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Je(309));var r=n.stateNode}if(!r)throw Error(Je(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===S8&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Je(284));if(!n._owner)throw Error(Je(290,t))}return t}function pS(t,e){throw t=Object.prototype.toString.call(e),Error(Je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UF(t){var e=t._init;return e(t._payload)}function M8(t){function e(b,M){if(t){var w=b.deletions;w===null?(b.deletions=[M],b.flags|=16):w.push(M)}}function n(b,M){if(!t)return null;for(;M!==null;)e(b,M),M=M.sibling;return null}function r(b,M){for(b=new Map;M!==null;)M.key!==null?b.set(M.key,M):b.set(M.index,M),M=M.sibling;return b}function i(b,M){return b=lh(b,M),b.index=0,b.sibling=null,b}function s(b,M,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<M?(b.flags|=2,M):w):(b.flags|=2,M)):(b.flags|=1048576,M)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,M,w,T){return M===null||M.tag!==6?(M=Y2(w,b.mode,T),M.return=b,M):(M=i(M,w),M.return=b,M)}function l(b,M,w,T){var A=w.type;return A===gg?c(b,M,w.props.children,T,w.key):M!==null&&(M.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===zf&&UF(A)===M.type)?(T=i(M,w.props),T.ref=ny(b,M,w),T.return=b,T):(T=Hb(w.type,w.key,w.props,null,b.mode,T),T.ref=ny(b,M,w),T.return=b,T)}function u(b,M,w,T){return M===null||M.tag!==4||M.stateNode.containerInfo!==w.containerInfo||M.stateNode.implementation!==w.implementation?(M=Q2(w,b.mode,T),M.return=b,M):(M=i(M,w.children||[]),M.return=b,M)}function c(b,M,w,T,A){return M===null||M.tag!==7?(M=lp(w,b.mode,T,A),M.return=b,M):(M=i(M,w),M.return=b,M)}function p(b,M,w){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Y2(""+M,b.mode,w),M.return=b,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case rS:return w=Hb(M.type,M.key,M.props,null,b.mode,w),w.ref=ny(b,null,M),w.return=b,w;case mg:return M=Q2(M,b.mode,w),M.return=b,M;case zf:var T=M._init;return p(b,T(M._payload),w)}if(Ry(M)||Kv(M))return M=lp(M,b.mode,w,null),M.return=b,M;pS(b,M)}return null}function m(b,M,w,T){var A=M!==null?M.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return A!==null?null:a(b,M,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rS:return w.key===A?l(b,M,w,T):null;case mg:return w.key===A?u(b,M,w,T):null;case zf:return A=w._init,m(b,M,A(w._payload),T)}if(Ry(w)||Kv(w))return A!==null?null:c(b,M,w,T,null);pS(b,w)}return null}function v(b,M,w,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return b=b.get(w)||null,a(M,b,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case rS:return b=b.get(T.key===null?w:T.key)||null,l(M,b,T,A);case mg:return b=b.get(T.key===null?w:T.key)||null,u(M,b,T,A);case zf:var k=T._init;return v(b,M,w,k(T._payload),A)}if(Ry(T)||Kv(T))return b=b.get(w)||null,c(M,b,T,A,null);pS(M,T)}return null}function y(b,M,w,T){for(var A=null,k=null,L=M,P=M=0,O=null;L!==null&&P<w.length;P++){L.index>P?(O=L,L=null):O=L.sibling;var N=m(b,L,w[P],T);if(N===null){L===null&&(L=O);break}t&&L&&N.alternate===null&&e(b,L),M=s(N,M,P),k===null?A=N:k.sibling=N,k=N,L=O}if(P===w.length)return n(b,L),Ar&&Ld(b,P),A;if(L===null){for(;P<w.length;P++)L=p(b,w[P],T),L!==null&&(M=s(L,M,P),k===null?A=L:k.sibling=L,k=L);return Ar&&Ld(b,P),A}for(L=r(b,L);P<w.length;P++)O=v(L,b,P,w[P],T),O!==null&&(t&&O.alternate!==null&&L.delete(O.key===null?P:O.key),M=s(O,M,P),k===null?A=O:k.sibling=O,k=O);return t&&L.forEach(function(H){return e(b,H)}),Ar&&Ld(b,P),A}function x(b,M,w,T){var A=Kv(w);if(typeof A!="function")throw Error(Je(150));if(w=A.call(w),w==null)throw Error(Je(151));for(var k=A=null,L=M,P=M=0,O=null,N=w.next();L!==null&&!N.done;P++,N=w.next()){L.index>P?(O=L,L=null):O=L.sibling;var H=m(b,L,N.value,T);if(H===null){L===null&&(L=O);break}t&&L&&H.alternate===null&&e(b,L),M=s(H,M,P),k===null?A=H:k.sibling=H,k=H,L=O}if(N.done)return n(b,L),Ar&&Ld(b,P),A;if(L===null){for(;!N.done;P++,N=w.next())N=p(b,N.value,T),N!==null&&(M=s(N,M,P),k===null?A=N:k.sibling=N,k=N);return Ar&&Ld(b,P),A}for(L=r(b,L);!N.done;P++,N=w.next())N=v(L,b,P,N.value,T),N!==null&&(t&&N.alternate!==null&&L.delete(N.key===null?P:N.key),M=s(N,M,P),k===null?A=N:k.sibling=N,k=N);return t&&L.forEach(function(ie){return e(b,ie)}),Ar&&Ld(b,P),A}function _(b,M,w,T){if(typeof w=="object"&&w!==null&&w.type===gg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case rS:e:{for(var A=w.key,k=M;k!==null;){if(k.key===A){if(A=w.type,A===gg){if(k.tag===7){n(b,k.sibling),M=i(k,w.props.children),M.return=b,b=M;break e}}else if(k.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===zf&&UF(A)===k.type){n(b,k.sibling),M=i(k,w.props),M.ref=ny(b,k,w),M.return=b,b=M;break e}n(b,k);break}else e(b,k);k=k.sibling}w.type===gg?(M=lp(w.props.children,b.mode,T,w.key),M.return=b,b=M):(T=Hb(w.type,w.key,w.props,null,b.mode,T),T.ref=ny(b,M,w),T.return=b,b=T)}return o(b);case mg:e:{for(k=w.key;M!==null;){if(M.key===k)if(M.tag===4&&M.stateNode.containerInfo===w.containerInfo&&M.stateNode.implementation===w.implementation){n(b,M.sibling),M=i(M,w.children||[]),M.return=b,b=M;break e}else{n(b,M);break}else e(b,M);M=M.sibling}M=Q2(w,b.mode,T),M.return=b,b=M}return o(b);case zf:return k=w._init,_(b,M,k(w._payload),T)}if(Ry(w))return y(b,M,w,T);if(Kv(w))return x(b,M,w,T);pS(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,M!==null&&M.tag===6?(n(b,M.sibling),M=i(M,w),M.return=b,b=M):(n(b,M),M=Y2(w,b.mode,T),M.return=b,b=M),o(b)):n(b,M)}return _}var s0=M8(!0),E8=M8(!1),K1={},Eu=Ph(K1),Fx=Ph(K1),zx=Ph(K1);function Xd(t){if(t===K1)throw Error(Je(174));return t}function Rk(t,e){switch(xr(zx,e),xr(Fx,t),xr(Eu,K1),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:GP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=GP(e,t)}Tr(Eu),xr(Eu,e)}function o0(){Tr(Eu),Tr(Fx),Tr(zx)}function T8(t){Xd(zx.current);var e=Xd(Eu.current),n=GP(e,t.type);e!==n&&(xr(Fx,t),xr(Eu,n))}function Ik(t){Fx.current===t&&(Tr(Eu),Tr(Fx))}var Br=Ph(0);function DM(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var W2=[];function kk(){for(var t=0;t<W2.length;t++)W2[t]._workInProgressVersionPrimary=null;W2.length=0}var Fb=qc.ReactCurrentDispatcher,$2=qc.ReactCurrentBatchConfig,bp=0,Vr=null,Ri=null,Zi=null,OM=!1,Xy=!1,Bx=0,Kte=0;function Is(){throw Error(Je(321))}function Lk(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fl(t[n],e[n]))return!1;return!0}function Dk(t,e,n,r,i,s){if(bp=s,Vr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fb.current=t===null||t.memoizedState===null?tne:nne,t=n(r,i),Xy){s=0;do{if(Xy=!1,Bx=0,25<=s)throw Error(Je(301));s+=1,Zi=Ri=null,e.updateQueue=null,Fb.current=rne,t=n(r,i)}while(Xy)}if(Fb.current=NM,e=Ri!==null&&Ri.next!==null,bp=0,Zi=Ri=Vr=null,OM=!1,e)throw Error(Je(300));return t}function Ok(){var t=Bx!==0;return Bx=0,t}function gu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zi===null?Vr.memoizedState=Zi=t:Zi=Zi.next=t,Zi}function Ja(){if(Ri===null){var t=Vr.alternate;t=t!==null?t.memoizedState:null}else t=Ri.next;var e=Zi===null?Vr.memoizedState:Zi.next;if(e!==null)Zi=e,Ri=t;else{if(t===null)throw Error(Je(310));Ri=t,t={memoizedState:Ri.memoizedState,baseState:Ri.baseState,baseQueue:Ri.baseQueue,queue:Ri.queue,next:null},Zi===null?Vr.memoizedState=Zi=t:Zi=Zi.next=t}return Zi}function Ux(t,e){return typeof e=="function"?e(t):e}function G2(t){var e=Ja(),n=e.queue;if(n===null)throw Error(Je(311));n.lastRenderedReducer=t;var r=Ri,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((bp&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Vr.lanes|=c,Mp|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Fl(r,e.memoizedState)||(Lo=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Vr.lanes|=s,Mp|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function j2(t){var e=Ja(),n=e.queue;if(n===null)throw Error(Je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Fl(s,e.memoizedState)||(Lo=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function C8(){}function A8(t,e){var n=Vr,r=Ja(),i=e(),s=!Fl(r.memoizedState,i);if(s&&(r.memoizedState=i,Lo=!0),r=r.queue,Nk(I8.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Zi!==null&&Zi.memoizedState.tag&1){if(n.flags|=2048,Vx(9,R8.bind(null,n,r,i,e),void 0,null),es===null)throw Error(Je(349));(bp&30)!==0||P8(n,e,i)}return i}function P8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Vr.updateQueue,e===null?(e={lastEffect:null,stores:null},Vr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function R8(t,e,n,r){e.value=n,e.getSnapshot=r,k8(e)&&L8(t)}function I8(t,e,n){return n(function(){k8(e)&&L8(t)})}function k8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fl(t,n)}catch{return!0}}function L8(t){var e=Oc(t,1);e!==null&&Il(e,t,1,-1)}function VF(t){var e=gu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ux,lastRenderedState:t},e.queue=t,t=t.dispatch=ene.bind(null,Vr,t),[e.memoizedState,t]}function Vx(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Vr.updateQueue,e===null?(e={lastEffect:null,stores:null},Vr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function D8(){return Ja().memoizedState}function zb(t,e,n,r){var i=gu();Vr.flags|=t,i.memoizedState=Vx(1|e,n,void 0,r===void 0?null:r)}function rT(t,e,n,r){var i=Ja();r=r===void 0?null:r;var s=void 0;if(Ri!==null){var o=Ri.memoizedState;if(s=o.destroy,r!==null&&Lk(r,o.deps)){i.memoizedState=Vx(e,n,s,r);return}}Vr.flags|=t,i.memoizedState=Vx(1|e,n,s,r)}function HF(t,e){return zb(8390656,8,t,e)}function Nk(t,e){return rT(2048,8,t,e)}function O8(t,e){return rT(4,2,t,e)}function N8(t,e){return rT(4,4,t,e)}function F8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function z8(t,e,n){return n=n!=null?n.concat([t]):null,rT(4,4,F8.bind(null,e,t),n)}function Fk(){}function B8(t,e){var n=Ja();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lk(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function U8(t,e){var n=Ja();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lk(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function V8(t,e,n){return(bp&21)===0?(t.baseState&&(t.baseState=!1,Lo=!0),t.memoizedState=n):(Fl(n,e)||(n=$6(),Vr.lanes|=n,Mp|=n,t.baseState=!0),e)}function Zte(t,e){var n=or;or=n!==0&&4>n?n:4,t(!0);var r=$2.transition;$2.transition={};try{t(!1),e()}finally{or=n,$2.transition=r}}function H8(){return Ja().memoizedState}function Jte(t,e,n){var r=ah(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W8(t))$8(e,n);else if(n=_8(t,e,n,r),n!==null){var i=vo();Il(n,t,r,i),G8(n,e,r)}}function ene(t,e,n){var r=ah(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W8(t))$8(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fl(a,o)){var l=e.interleaved;l===null?(i.next=i,Ak(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_8(t,e,i,r),n!==null&&(i=vo(),Il(n,t,r,i),G8(n,e,r))}}function W8(t){var e=t.alternate;return t===Vr||e!==null&&e===Vr}function $8(t,e){Xy=OM=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function G8(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pk(t,n)}}var NM={readContext:Za,useCallback:Is,useContext:Is,useEffect:Is,useImperativeHandle:Is,useInsertionEffect:Is,useLayoutEffect:Is,useMemo:Is,useReducer:Is,useRef:Is,useState:Is,useDebugValue:Is,useDeferredValue:Is,useTransition:Is,useMutableSource:Is,useSyncExternalStore:Is,useId:Is,unstable_isNewReconciler:!1},tne={readContext:Za,useCallback:function(t,e){return gu().memoizedState=[t,e===void 0?null:e],t},useContext:Za,useEffect:HF,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zb(4194308,4,F8.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zb(4194308,4,t,e)},useInsertionEffect:function(t,e){return zb(4,2,t,e)},useMemo:function(t,e){var n=gu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gu();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Jte.bind(null,Vr,t),[r.memoizedState,t]},useRef:function(t){var e=gu();return t={current:t},e.memoizedState=t},useState:VF,useDebugValue:Fk,useDeferredValue:function(t){return gu().memoizedState=t},useTransition:function(){var t=VF(!1),e=t[0];return t=Zte.bind(null,t[1]),gu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Vr,i=gu();if(Ar){if(n===void 0)throw Error(Je(407));n=n()}else{if(n=e(),es===null)throw Error(Je(349));(bp&30)!==0||P8(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,HF(I8.bind(null,r,s,t),[t]),r.flags|=2048,Vx(9,R8.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gu(),e=es.identifierPrefix;if(Ar){var n=Ec,r=Mc;n=(r&~(1<<32-Rl(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bx++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Kte++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nne={readContext:Za,useCallback:B8,useContext:Za,useEffect:Nk,useImperativeHandle:z8,useInsertionEffect:O8,useLayoutEffect:N8,useMemo:U8,useReducer:G2,useRef:D8,useState:function(){return G2(Ux)},useDebugValue:Fk,useDeferredValue:function(t){var e=Ja();return V8(e,Ri.memoizedState,t)},useTransition:function(){var t=G2(Ux)[0],e=Ja().memoizedState;return[t,e]},useMutableSource:C8,useSyncExternalStore:A8,useId:H8,unstable_isNewReconciler:!1},rne={readContext:Za,useCallback:B8,useContext:Za,useEffect:Nk,useImperativeHandle:z8,useInsertionEffect:O8,useLayoutEffect:N8,useMemo:U8,useReducer:j2,useRef:D8,useState:function(){return j2(Ux)},useDebugValue:Fk,useDeferredValue:function(t){var e=Ja();return Ri===null?e.memoizedState=t:V8(e,Ri.memoizedState,t)},useTransition:function(){var t=j2(Ux)[0],e=Ja().memoizedState;return[t,e]},useMutableSource:C8,useSyncExternalStore:A8,useId:H8,unstable_isNewReconciler:!1};function a0(t,e){try{var n="",r=e;do n+=Iee(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function q2(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function pR(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ine=typeof WeakMap=="function"?WeakMap:Map;function j8(t,e,n){n=Pc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zM||(zM=!0,MR=r),pR(t,e)},n}function q8(t,e,n){n=Pc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pR(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pR(t,e),typeof r!="function"&&(oh===null?oh=new Set([this]):oh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function WF(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ine;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yne.bind(null,t,e,n),e.then(t,t))}function $F(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GF(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pc(-1,1),e.tag=2,sh(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var sne=qc.ReactCurrentOwner,Lo=!1;function po(t,e,n,r){e.child=t===null?E8(e,null,n,r):s0(e,t.child,n,r)}function jF(t,e,n,r,i){n=n.render;var s=e.ref;return Hg(e,i),r=Dk(t,e,n,r,s,i),n=Ok(),t!==null&&!Lo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nc(t,e,i)):(Ar&&n&&Sk(e),e.flags|=1,po(t,e,r,i),e.child)}function qF(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Gk(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,X8(t,e,s,r,i)):(t=Hb(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Lx,n(o,r)&&t.ref===e.ref)return Nc(t,e,i)}return e.flags|=1,t=lh(s,r),t.ref=e.ref,t.return=e,e.child=t}function X8(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Lx(s,r)&&t.ref===e.ref)if(Lo=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Lo=!0);else return e.lanes=t.lanes,Nc(t,e,i)}return mR(t,e,n,r,i)}function Y8(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xr(Tg,aa),aa|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xr(Tg,aa),aa|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xr(Tg,aa),aa|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xr(Tg,aa),aa|=r;return po(t,e,i,n),e.child}function Q8(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mR(t,e,n,r,i){var s=No(n)?wp:js.current;return s=r0(e,s),Hg(e,i),n=Dk(t,e,n,r,s,i),r=Ok(),t!==null&&!Lo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nc(t,e,i)):(Ar&&r&&Sk(e),e.flags|=1,po(t,e,n,i),e.child)}function XF(t,e,n,r,i){if(No(n)){var s=!0;AM(e)}else s=!1;if(Hg(e,i),e.stateNode===null)Bb(t,e),b8(e,n,r),dR(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Za(u):(u=No(n)?wp:js.current,u=r0(e,u));var c=n.getDerivedStateFromProps,p=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&BF(e,o,r,u),Bf=!1;var m=e.memoizedState;o.state=m,LM(e,r,o,i),l=e.memoizedState,a!==r||m!==l||Oo.current||Bf?(typeof c=="function"&&(hR(e,n,c,r),l=e.memoizedState),(a=Bf||zF(e,n,a,r,m,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,w8(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:bl(e.type,a),o.props=u,p=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Za(l):(l=No(n)?wp:js.current,l=r0(e,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==l)&&BF(e,o,r,l),Bf=!1,m=e.memoizedState,o.state=m,LM(e,r,o,i);var y=e.memoizedState;a!==p||m!==y||Oo.current||Bf?(typeof v=="function"&&(hR(e,n,v,r),y=e.memoizedState),(u=Bf||zF(e,n,u,r,m,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return gR(t,e,n,r,s,i)}function gR(t,e,n,r,i,s){Q8(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&LF(e,n,!1),Nc(t,e,s);r=e.stateNode,sne.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=s0(e,t.child,null,s),e.child=s0(e,null,a,s)):po(t,e,a,s),e.memoizedState=r.state,i&&LF(e,n,!0),e.child}function K8(t){var e=t.stateNode;e.pendingContext?kF(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kF(t,e.context,!1),Rk(t,e.containerInfo)}function YF(t,e,n,r,i){return i0(),Mk(i),e.flags|=256,po(t,e,n,r),e.child}var vR={dehydrated:null,treeContext:null,retryLane:0};function yR(t){return{baseLanes:t,cachePool:null,transitions:null}}function Z8(t,e,n){var r=e.pendingProps,i=Br.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xr(Br,i&1),t===null)return cR(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=oT(o,r,0,null),t=lp(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yR(n),e.memoizedState=vR,t):zk(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return one(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=lh(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=lh(a,s):(s=lp(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yR(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=vR,r}return s=t.child,t=s.sibling,r=lh(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zk(t,e){return e=oT({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mS(t,e,n,r){return r!==null&&Mk(r),s0(e,t.child,null,n),t=zk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function one(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=q2(Error(Je(422))),mS(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=oT({mode:"visible",children:r.children},i,0,null),s=lp(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&s0(e,t.child,null,o),e.child.memoizedState=yR(o),e.memoizedState=vR,s);if((e.mode&1)===0)return mS(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Je(419)),r=q2(s,r,void 0),mS(t,e,o,r)}if(a=(o&t.childLanes)!==0,Lo||a){if(r=es,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Oc(t,i),Il(r,t,i,-1))}return $k(),r=q2(Error(Je(421))),mS(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xne.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ua=ih(i.nextSibling),fa=e,Ar=!0,Tl=null,t!==null&&(Va[Ha++]=Mc,Va[Ha++]=Ec,Va[Ha++]=Sp,Mc=t.id,Ec=t.overflow,Sp=e),e=zk(e,r.children),e.flags|=4096,e)}function QF(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fR(t.return,e,n)}function X2(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function J8(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(po(t,e,r.children,n),r=Br.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QF(t,n,e);else if(t.tag===19)QF(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xr(Br,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&DM(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),X2(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&DM(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}X2(e,!0,n,null,s);break;case"together":X2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bb(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mp|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(Je(153));if(e.child!==null){for(t=e.child,n=lh(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=lh(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ane(t,e,n){switch(e.tag){case 3:K8(e),i0();break;case 5:T8(e);break;case 1:No(e.type)&&AM(e);break;case 4:Rk(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xr(IM,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xr(Br,Br.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?Z8(t,e,n):(xr(Br,Br.current&1),t=Nc(t,e,n),t!==null?t.sibling:null);xr(Br,Br.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return J8(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xr(Br,Br.current),r)break;return null;case 22:case 23:return e.lanes=0,Y8(t,e,n)}return Nc(t,e,n)}var eH,xR,tH,nH;eH=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xR=function(){};tH=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xd(Eu.current);var s=null;switch(n){case"input":i=VP(t,i),r=VP(t,r),s=[];break;case"select":i=Hr({},i,{value:void 0}),r=Hr({},r,{value:void 0}),s=[];break;case"textarea":i=$P(t,i),r=$P(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=TM)}jP(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tx.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tx.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&br("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};nH=function(t,e,n,r){n!==r&&(e.flags|=4)};function ry(t,e){if(!Ar)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ks(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lne(t,e,n){var r=e.pendingProps;switch(bk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ks(e),null;case 1:return No(e.type)&&CM(),ks(e),null;case 3:return r=e.stateNode,o0(),Tr(Oo),Tr(js),kk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dS(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Tl!==null&&(CR(Tl),Tl=null))),xR(t,e),ks(e),null;case 5:Ik(e);var i=Xd(zx.current);if(n=e.type,t!==null&&e.stateNode!=null)tH(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Je(166));return ks(e),null}if(t=Xd(Eu.current),dS(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Su]=e,r[Nx]=s,t=(e.mode&1)!==0,n){case"dialog":br("cancel",r),br("close",r);break;case"iframe":case"object":case"embed":br("load",r);break;case"video":case"audio":for(i=0;i<ky.length;i++)br(ky[i],r);break;case"source":br("error",r);break;case"img":case"image":case"link":br("error",r),br("load",r);break;case"details":br("toggle",r);break;case"input":sF(r,s),br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},br("invalid",r);break;case"textarea":aF(r,s),br("invalid",r)}jP(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&hS(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hS(r.textContent,a,t),i=["children",""+a]):Tx.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&br("scroll",r)}switch(n){case"input":iS(r),oF(r,s,!0);break;case"textarea":iS(r),lF(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=TM)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=P6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Su]=e,t[Nx]=r,eH(t,e,!1,!1),e.stateNode=t;e:{switch(o=qP(n,r),n){case"dialog":br("cancel",t),br("close",t),i=r;break;case"iframe":case"object":case"embed":br("load",t),i=r;break;case"video":case"audio":for(i=0;i<ky.length;i++)br(ky[i],t);i=r;break;case"source":br("error",t),i=r;break;case"img":case"image":case"link":br("error",t),br("load",t),i=r;break;case"details":br("toggle",t),i=r;break;case"input":sF(t,r),i=VP(t,r),br("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Hr({},r,{value:void 0}),br("invalid",t);break;case"textarea":aF(t,r),i=$P(t,r),br("invalid",t);break;default:i=r}jP(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?k6(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&R6(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cx(t,l):typeof l=="number"&&Cx(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tx.hasOwnProperty(s)?l!=null&&s==="onScroll"&&br("scroll",t):l!=null&&lk(t,s,l,o))}switch(n){case"input":iS(t),oF(t,r,!1);break;case"textarea":iS(t),lF(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vh(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?zg(t,!!r.multiple,s,!1):r.defaultValue!=null&&zg(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=TM)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ks(e),null;case 6:if(t&&e.stateNode!=null)nH(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Je(166));if(n=Xd(zx.current),Xd(Eu.current),dS(e)){if(r=e.stateNode,n=e.memoizedProps,r[Su]=e,(s=r.nodeValue!==n)&&(t=fa,t!==null))switch(t.tag){case 3:hS(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hS(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Su]=e,e.stateNode=r}return ks(e),null;case 13:if(Tr(Br),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ar&&ua!==null&&(e.mode&1)!==0&&(e.flags&128)===0)x8(),i0(),e.flags|=98560,s=!1;else if(s=dS(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Je(317));s[Su]=e}else i0(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ks(e),s=!1}else Tl!==null&&(CR(Tl),Tl=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Br.current&1)!==0?Ii===0&&(Ii=3):$k())),e.updateQueue!==null&&(e.flags|=4),ks(e),null);case 4:return o0(),xR(t,e),t===null&&Dx(e.stateNode.containerInfo),ks(e),null;case 10:return Ck(e.type._context),ks(e),null;case 17:return No(e.type)&&CM(),ks(e),null;case 19:if(Tr(Br),s=e.memoizedState,s===null)return ks(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ry(s,!1);else{if(Ii!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=DM(t),o!==null){for(e.flags|=128,ry(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xr(Br,Br.current&1|2),e.child}t=t.sibling}s.tail!==null&&fi()>l0&&(e.flags|=128,r=!0,ry(s,!1),e.lanes=4194304)}else{if(!r)if(t=DM(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ry(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ar)return ks(e),null}else 2*fi()-s.renderingStartTime>l0&&n!==1073741824&&(e.flags|=128,r=!0,ry(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=fi(),e.sibling=null,n=Br.current,xr(Br,r?n&1|2:n&1),e):(ks(e),null);case 22:case 23:return Wk(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(aa&1073741824)!==0&&(ks(e),e.subtreeFlags&6&&(e.flags|=8192)):ks(e),null;case 24:return null;case 25:return null}throw Error(Je(156,e.tag))}function une(t,e){switch(bk(e),e.tag){case 1:return No(e.type)&&CM(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return o0(),Tr(Oo),Tr(js),kk(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Ik(e),null;case 13:if(Tr(Br),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Je(340));i0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tr(Br),null;case 4:return o0(),null;case 10:return Ck(e.type._context),null;case 22:case 23:return Wk(),null;case 24:return null;default:return null}}var gS=!1,zs=!1,cne=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Eg(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qr(t,e,r)}else n.current=null}function _R(t,e,n){try{n()}catch(r){Qr(t,e,r)}}var KF=!1;function fne(t,e){if(rR=bM,t=o8(),wk(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,p=t,m=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++c===r&&(l=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(iR={focusedElem:t,selectionRange:n},bM=!1,vt=e;vt!==null;)if(e=vt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,vt=t;else for(;vt!==null;){e=vt;try{var y=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,_=y.memoizedState,b=e.stateNode,M=b.getSnapshotBeforeUpdate(e.elementType===e.type?x:bl(e.type,x),_);b.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Je(163))}}catch(T){Qr(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,vt=t;break}vt=e.return}return y=KF,KF=!1,y}function Yy(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_R(e,n,s)}i=i.next}while(i!==r)}}function iT(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wR(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rH(t){var e=t.alternate;e!==null&&(t.alternate=null,rH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Su],delete e[Nx],delete e[aR],delete e[qte],delete e[Xte])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iH(t){return t.tag===5||t.tag===3||t.tag===4}function ZF(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function SR(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=TM));else if(r!==4&&(t=t.child,t!==null))for(SR(t,e,n),t=t.sibling;t!==null;)SR(t,e,n),t=t.sibling}function bR(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bR(t,e,n),t=t.sibling;t!==null;)bR(t,e,n),t=t.sibling}var hs=null,Ml=!1;function Tf(t,e,n){for(n=n.child;n!==null;)sH(t,e,n),n=n.sibling}function sH(t,e,n){if(Mu&&typeof Mu.onCommitFiberUnmount=="function")try{Mu.onCommitFiberUnmount(QE,n)}catch{}switch(n.tag){case 5:zs||Eg(n,e);case 6:var r=hs,i=Ml;hs=null,Tf(t,e,n),hs=r,Ml=i,hs!==null&&(Ml?(t=hs,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hs.removeChild(n.stateNode));break;case 18:hs!==null&&(Ml?(t=hs,n=n.stateNode,t.nodeType===8?V2(t.parentNode,n):t.nodeType===1&&V2(t,n),Ix(t)):V2(hs,n.stateNode));break;case 4:r=hs,i=Ml,hs=n.stateNode.containerInfo,Ml=!0,Tf(t,e,n),hs=r,Ml=i;break;case 0:case 11:case 14:case 15:if(!zs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&_R(n,e,o),i=i.next}while(i!==r)}Tf(t,e,n);break;case 1:if(!zs&&(Eg(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qr(n,e,a)}Tf(t,e,n);break;case 21:Tf(t,e,n);break;case 22:n.mode&1?(zs=(r=zs)||n.memoizedState!==null,Tf(t,e,n),zs=r):Tf(t,e,n);break;default:Tf(t,e,n)}}function JF(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cne),e.forEach(function(r){var i=_ne.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ml(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:hs=a.stateNode,Ml=!1;break e;case 3:hs=a.stateNode.containerInfo,Ml=!0;break e;case 4:hs=a.stateNode.containerInfo,Ml=!0;break e}a=a.return}if(hs===null)throw Error(Je(160));sH(s,o,i),hs=null,Ml=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Qr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oH(e,t),e=e.sibling}function oH(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),pu(t),r&4){try{Yy(3,t,t.return),iT(3,t)}catch(x){Qr(t,t.return,x)}try{Yy(5,t,t.return)}catch(x){Qr(t,t.return,x)}}break;case 1:ml(e,t),pu(t),r&512&&n!==null&&Eg(n,n.return);break;case 5:if(ml(e,t),pu(t),r&512&&n!==null&&Eg(n,n.return),t.flags&32){var i=t.stateNode;try{Cx(i,"")}catch(x){Qr(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&C6(i,s),qP(a,o);var u=qP(a,s);for(o=0;o<l.length;o+=2){var c=l[o],p=l[o+1];c==="style"?k6(i,p):c==="dangerouslySetInnerHTML"?R6(i,p):c==="children"?Cx(i,p):lk(i,c,p,u)}switch(a){case"input":HP(i,s);break;case"textarea":A6(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?zg(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?zg(i,!!s.multiple,s.defaultValue,!0):zg(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nx]=s}catch(x){Qr(t,t.return,x)}}break;case 6:if(ml(e,t),pu(t),r&4){if(t.stateNode===null)throw Error(Je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Qr(t,t.return,x)}}break;case 3:if(ml(e,t),pu(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ix(e.containerInfo)}catch(x){Qr(t,t.return,x)}break;case 4:ml(e,t),pu(t);break;case 13:ml(e,t),pu(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Vk=fi())),r&4&&JF(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(zs=(u=zs)||c,ml(e,t),zs=u):ml(e,t),pu(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(vt=t,c=t.child;c!==null;){for(p=vt=c;vt!==null;){switch(m=vt,v=m.child,m.tag){case 0:case 11:case 14:case 15:Yy(4,m,m.return);break;case 1:Eg(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Qr(r,n,x)}}break;case 5:Eg(m,m.return);break;case 22:if(m.memoizedState!==null){t4(p);continue}}v!==null?(v.return=m,vt=v):t4(p)}c=c.sibling}e:for(c=null,p=t;;){if(p.tag===5){if(c===null){c=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=I6("display",o))}catch(x){Qr(t,t.return,x)}}}else if(p.tag===6){if(c===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){Qr(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;c===p&&(c=null),p=p.return}c===p&&(c=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(e,t),pu(t),r&4&&JF(t);break;case 21:break;default:ml(e,t),pu(t)}}function pu(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iH(n)){var r=n;break e}n=n.return}throw Error(Je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cx(i,""),r.flags&=-33);var s=ZF(t);bR(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ZF(t);SR(t,a,o);break;default:throw Error(Je(161))}}catch(l){Qr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hne(t,e,n){vt=t,aH(t)}function aH(t,e,n){for(var r=(t.mode&1)!==0;vt!==null;){var i=vt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gS;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||zs;a=gS;var u=zs;if(gS=o,(zs=l)&&!u)for(vt=i;vt!==null;)o=vt,l=o.child,o.tag===22&&o.memoizedState!==null?n4(i):l!==null?(l.return=o,vt=l):n4(i);for(;s!==null;)vt=s,aH(s),s=s.sibling;vt=i,gS=a,zs=u}e4(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,vt=s):e4(t)}}function e4(t){for(;vt!==null;){var e=vt;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:zs||iT(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zs)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:bl(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&FF(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}FF(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var p=c.dehydrated;p!==null&&Ix(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Je(163))}zs||e.flags&512&&wR(e)}catch(m){Qr(e,e.return,m)}}if(e===t){vt=null;break}if(n=e.sibling,n!==null){n.return=e.return,vt=n;break}vt=e.return}}function t4(t){for(;vt!==null;){var e=vt;if(e===t){vt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,vt=n;break}vt=e.return}}function n4(t){for(;vt!==null;){var e=vt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iT(4,e)}catch(l){Qr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qr(e,i,l)}}var s=e.return;try{wR(e)}catch(l){Qr(e,s,l)}break;case 5:var o=e.return;try{wR(e)}catch(l){Qr(e,o,l)}}}catch(l){Qr(e,e.return,l)}if(e===t){vt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,vt=a;break}vt=e.return}}var dne=Math.ceil,FM=qc.ReactCurrentDispatcher,Bk=qc.ReactCurrentOwner,Qa=qc.ReactCurrentBatchConfig,Vn=0,es=null,Mi=null,ys=0,aa=0,Tg=Ph(0),Ii=0,Hx=null,Mp=0,sT=0,Uk=0,Qy=null,ko=null,Vk=0,l0=1/0,vc=null,zM=!1,MR=null,oh=null,vS=!1,jf=null,BM=0,Ky=0,ER=null,Ub=-1,Vb=0;function vo(){return(Vn&6)!==0?fi():Ub!==-1?Ub:Ub=fi()}function ah(t){return(t.mode&1)===0?1:(Vn&2)!==0&&ys!==0?ys&-ys:Qte.transition!==null?(Vb===0&&(Vb=$6()),Vb):(t=or,t!==0||(t=window.event,t=t===void 0?16:K6(t.type)),t)}function Il(t,e,n,r){if(50<Ky)throw Ky=0,ER=null,Error(Je(185));X1(t,n,r),((Vn&2)===0||t!==es)&&(t===es&&((Vn&2)===0&&(sT|=n),Ii===4&&$f(t,ys)),Fo(t,r),n===1&&Vn===0&&(e.mode&1)===0&&(l0=fi()+500,tT&&Rh()))}function Fo(t,e){var n=t.callbackNode;Qee(t,e);var r=SM(t,t===es?ys:0);if(r===0)n!==null&&fF(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fF(n),e===1)t.tag===0?Yte(r4.bind(null,t)):g8(r4.bind(null,t)),Gte(function(){(Vn&6)===0&&Rh()}),n=null;else{switch(G6(r)){case 1:n=dk;break;case 4:n=H6;break;case 16:n=wM;break;case 536870912:n=W6;break;default:n=wM}n=mH(n,lH.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lH(t,e){if(Ub=-1,Vb=0,(Vn&6)!==0)throw Error(Je(327));var n=t.callbackNode;if(Wg()&&t.callbackNode!==n)return null;var r=SM(t,t===es?ys:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=UM(t,r);else{e=r;var i=Vn;Vn|=2;var s=cH();(es!==t||ys!==e)&&(vc=null,l0=fi()+500,ap(t,e));do try{gne();break}catch(a){uH(t,a)}while(1);Tk(),FM.current=s,Vn=i,Mi!==null?e=0:(es=null,ys=0,e=Ii)}if(e!==0){if(e===2&&(i=ZP(t),i!==0&&(r=i,e=TR(t,i))),e===1)throw n=Hx,ap(t,0),$f(t,r),Fo(t,fi()),n;if(e===6)$f(t,r);else{if(i=t.current.alternate,(r&30)===0&&!pne(i)&&(e=UM(t,r),e===2&&(s=ZP(t),s!==0&&(r=s,e=TR(t,s))),e===1))throw n=Hx,ap(t,0),$f(t,r),Fo(t,fi()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Je(345));case 2:Dd(t,ko,vc);break;case 3:if($f(t,r),(r&130023424)===r&&(e=Vk+500-fi(),10<e)){if(SM(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=oR(Dd.bind(null,t,ko,vc),e);break}Dd(t,ko,vc);break;case 4:if($f(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Rl(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=fi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dne(r/1960))-r,10<r){t.timeoutHandle=oR(Dd.bind(null,t,ko,vc),r);break}Dd(t,ko,vc);break;case 5:Dd(t,ko,vc);break;default:throw Error(Je(329))}}}return Fo(t,fi()),t.callbackNode===n?lH.bind(null,t):null}function TR(t,e){var n=Qy;return t.current.memoizedState.isDehydrated&&(ap(t,e).flags|=256),t=UM(t,e),t!==2&&(e=ko,ko=n,e!==null&&CR(e)),t}function CR(t){ko===null?ko=t:ko.push.apply(ko,t)}function pne(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fl(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $f(t,e){for(e&=~Uk,e&=~sT,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rl(e),r=1<<n;t[n]=-1,e&=~r}}function r4(t){if((Vn&6)!==0)throw Error(Je(327));Wg();var e=SM(t,0);if((e&1)===0)return Fo(t,fi()),null;var n=UM(t,e);if(t.tag!==0&&n===2){var r=ZP(t);r!==0&&(e=r,n=TR(t,r))}if(n===1)throw n=Hx,ap(t,0),$f(t,e),Fo(t,fi()),n;if(n===6)throw Error(Je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dd(t,ko,vc),Fo(t,fi()),null}function Hk(t,e){var n=Vn;Vn|=1;try{return t(e)}finally{Vn=n,Vn===0&&(l0=fi()+500,tT&&Rh())}}function Ep(t){jf!==null&&jf.tag===0&&(Vn&6)===0&&Wg();var e=Vn;Vn|=1;var n=Qa.transition,r=or;try{if(Qa.transition=null,or=1,t)return t()}finally{or=r,Qa.transition=n,Vn=e,(Vn&6)===0&&Rh()}}function Wk(){aa=Tg.current,Tr(Tg)}function ap(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$te(n)),Mi!==null)for(n=Mi.return;n!==null;){var r=n;switch(bk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&CM();break;case 3:o0(),Tr(Oo),Tr(js),kk();break;case 5:Ik(r);break;case 4:o0();break;case 13:Tr(Br);break;case 19:Tr(Br);break;case 10:Ck(r.type._context);break;case 22:case 23:Wk()}n=n.return}if(es=t,Mi=t=lh(t.current,null),ys=aa=e,Ii=0,Hx=null,Uk=sT=Mp=0,ko=Qy=null,qd!==null){for(e=0;e<qd.length;e++)if(n=qd[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qd=null}return t}function uH(t,e){do{var n=Mi;try{if(Tk(),Fb.current=NM,OM){for(var r=Vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}OM=!1}if(bp=0,Zi=Ri=Vr=null,Xy=!1,Bx=0,Bk.current=null,n===null||n.return===null){Ii=1,Hx=e,Mi=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ys,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,p=c.tag;if((c.mode&1)===0&&(p===0||p===11||p===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=$F(o);if(v!==null){v.flags&=-257,GF(v,o,a,s,e),v.mode&1&&WF(s,u,e),e=v,l=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if((e&1)===0){WF(s,u,e),$k();break e}l=Error(Je(426))}}else if(Ar&&a.mode&1){var _=$F(o);if(_!==null){(_.flags&65536)===0&&(_.flags|=256),GF(_,o,a,s,e),Mk(a0(l,a));break e}}s=l=a0(l,a),Ii!==4&&(Ii=2),Qy===null?Qy=[s]:Qy.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=j8(s,l,e);NF(s,b);break e;case 1:a=l;var M=s.type,w=s.stateNode;if((s.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(oh===null||!oh.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=q8(s,a,e);NF(s,T);break e}}s=s.return}while(s!==null)}hH(n)}catch(A){e=A,Mi===n&&n!==null&&(Mi=n=n.return);continue}break}while(1)}function cH(){var t=FM.current;return FM.current=NM,t===null?NM:t}function $k(){(Ii===0||Ii===3||Ii===2)&&(Ii=4),es===null||(Mp&268435455)===0&&(sT&268435455)===0||$f(es,ys)}function UM(t,e){var n=Vn;Vn|=2;var r=cH();(es!==t||ys!==e)&&(vc=null,ap(t,e));do try{mne();break}catch(i){uH(t,i)}while(1);if(Tk(),Vn=n,FM.current=r,Mi!==null)throw Error(Je(261));return es=null,ys=0,Ii}function mne(){for(;Mi!==null;)fH(Mi)}function gne(){for(;Mi!==null&&!Vee();)fH(Mi)}function fH(t){var e=pH(t.alternate,t,aa);t.memoizedProps=t.pendingProps,e===null?hH(t):Mi=e,Bk.current=null}function hH(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=lne(n,e,aa),n!==null){Mi=n;return}}else{if(n=une(n,e),n!==null){n.flags&=32767,Mi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ii=6,Mi=null;return}}if(e=e.sibling,e!==null){Mi=e;return}Mi=e=t}while(e!==null);Ii===0&&(Ii=5)}function Dd(t,e,n){var r=or,i=Qa.transition;try{Qa.transition=null,or=1,vne(t,e,n,r)}finally{Qa.transition=i,or=r}return null}function vne(t,e,n,r){do Wg();while(jf!==null);if((Vn&6)!==0)throw Error(Je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Je(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Kee(t,s),t===es&&(Mi=es=null,ys=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||vS||(vS=!0,mH(wM,function(){return Wg(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Qa.transition,Qa.transition=null;var o=or;or=1;var a=Vn;Vn|=4,Bk.current=null,fne(t,n),oH(n,t),Fte(iR),bM=!!rR,iR=rR=null,t.current=n,hne(n),Hee(),Vn=a,or=o,Qa.transition=s}else t.current=n;if(vS&&(vS=!1,jf=t,BM=i),s=t.pendingLanes,s===0&&(oh=null),Gee(n.stateNode),Fo(t,fi()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zM)throw zM=!1,t=MR,MR=null,t;return(BM&1)!==0&&t.tag!==0&&Wg(),s=t.pendingLanes,(s&1)!==0?t===ER?Ky++:(Ky=0,ER=t):Ky=0,Rh(),null}function Wg(){if(jf!==null){var t=G6(BM),e=Qa.transition,n=or;try{if(Qa.transition=null,or=16>t?16:t,jf===null)var r=!1;else{if(t=jf,jf=null,BM=0,(Vn&6)!==0)throw Error(Je(331));var i=Vn;for(Vn|=4,vt=t.current;vt!==null;){var s=vt,o=s.child;if((vt.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(vt=u;vt!==null;){var c=vt;switch(c.tag){case 0:case 11:case 15:Yy(8,c,s)}var p=c.child;if(p!==null)p.return=c,vt=p;else for(;vt!==null;){c=vt;var m=c.sibling,v=c.return;if(rH(c),c===u){vt=null;break}if(m!==null){m.return=v,vt=m;break}vt=v}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}vt=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,vt=o;else e:for(;vt!==null;){if(s=vt,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Yy(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,vt=b;break e}vt=s.return}}var M=t.current;for(vt=M;vt!==null;){o=vt;var w=o.child;if((o.subtreeFlags&2064)!==0&&w!==null)w.return=o,vt=w;else e:for(o=M;vt!==null;){if(a=vt,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:iT(9,a)}}catch(A){Qr(a,a.return,A)}if(a===o){vt=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,vt=T;break e}vt=a.return}}if(Vn=i,Rh(),Mu&&typeof Mu.onPostCommitFiberRoot=="function")try{Mu.onPostCommitFiberRoot(QE,t)}catch{}r=!0}return r}finally{or=n,Qa.transition=e}}return!1}function i4(t,e,n){e=a0(n,e),e=j8(t,e,1),t=sh(t,e,1),e=vo(),t!==null&&(X1(t,1,e),Fo(t,e))}function Qr(t,e,n){if(t.tag===3)i4(t,t,n);else for(;e!==null;){if(e.tag===3){i4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oh===null||!oh.has(r))){t=a0(n,t),t=q8(e,t,1),e=sh(e,t,1),t=vo(),e!==null&&(X1(e,1,t),Fo(e,t));break}}e=e.return}}function yne(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vo(),t.pingedLanes|=t.suspendedLanes&n,es===t&&(ys&n)===n&&(Ii===4||Ii===3&&(ys&130023424)===ys&&500>fi()-Vk?ap(t,0):Uk|=n),Fo(t,e)}function dH(t,e){e===0&&((t.mode&1)===0?e=1:(e=aS,aS<<=1,(aS&130023424)===0&&(aS=4194304)));var n=vo();t=Oc(t,e),t!==null&&(X1(t,e,n),Fo(t,n))}function xne(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dH(t,n)}function _ne(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Je(314))}r!==null&&r.delete(e),dH(t,n)}var pH;pH=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oo.current)Lo=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Lo=!1,ane(t,e,n);Lo=(t.flags&131072)!==0}else Lo=!1,Ar&&(e.flags&1048576)!==0&&v8(e,RM,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bb(t,e),t=e.pendingProps;var i=r0(e,js.current);Hg(e,n),i=Dk(null,e,r,t,i,n);var s=Ok();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,No(r)?(s=!0,AM(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pk(e),i.updater=nT,e.stateNode=i,i._reactInternals=e,dR(e,r,t,n),e=gR(null,e,r,!0,s,n)):(e.tag=0,Ar&&s&&Sk(e),po(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bb(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Sne(r),t=bl(r,t),i){case 0:e=mR(null,e,r,t,n);break e;case 1:e=XF(null,e,r,t,n);break e;case 11:e=jF(null,e,r,t,n);break e;case 14:e=qF(null,e,r,bl(r.type,t),n);break e}throw Error(Je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bl(r,i),mR(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bl(r,i),XF(t,e,r,i,n);case 3:e:{if(K8(e),t===null)throw Error(Je(387));r=e.pendingProps,s=e.memoizedState,i=s.element,w8(t,e),LM(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=a0(Error(Je(423)),e),e=YF(t,e,r,n,i);break e}else if(r!==i){i=a0(Error(Je(424)),e),e=YF(t,e,r,n,i);break e}else for(ua=ih(e.stateNode.containerInfo.firstChild),fa=e,Ar=!0,Tl=null,n=E8(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(i0(),r===i){e=Nc(t,e,n);break e}po(t,e,r,n)}e=e.child}return e;case 5:return T8(e),t===null&&cR(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sR(r,i)?o=null:s!==null&&sR(r,s)&&(e.flags|=32),Q8(t,e),po(t,e,o,n),e.child;case 6:return t===null&&cR(e),null;case 13:return Z8(t,e,n);case 4:return Rk(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=s0(e,null,r,n):po(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bl(r,i),jF(t,e,r,i,n);case 7:return po(t,e,e.pendingProps,n),e.child;case 8:return po(t,e,e.pendingProps.children,n),e.child;case 12:return po(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xr(IM,r._currentValue),r._currentValue=o,s!==null)if(Fl(s.value,o)){if(s.children===i.children&&!Oo.current){e=Nc(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pc(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),fR(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Je(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fR(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}po(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hg(e,n),i=Za(i),r=r(i),e.flags|=1,po(t,e,r,n),e.child;case 14:return r=e.type,i=bl(r,e.pendingProps),i=bl(r.type,i),qF(t,e,r,i,n);case 15:return X8(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bl(r,i),Bb(t,e),e.tag=1,No(r)?(t=!0,AM(e)):t=!1,Hg(e,n),b8(e,r,i),dR(e,r,i,n),gR(null,e,r,!0,t,n);case 19:return J8(t,e,n);case 22:return Y8(t,e,n)}throw Error(Je(156,e.tag))};function mH(t,e){return V6(t,e)}function wne(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(t,e,n,r){return new wne(t,e,n,r)}function Gk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sne(t){if(typeof t=="function")return Gk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ck)return 11;if(t===fk)return 14}return 2}function lh(t,e){var n=t.alternate;return n===null?(n=ja(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hb(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Gk(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gg:return lp(n.children,i,s,e);case uk:o=8,i|=8;break;case FP:return t=ja(12,n,e,i|2),t.elementType=FP,t.lanes=s,t;case zP:return t=ja(13,n,e,i),t.elementType=zP,t.lanes=s,t;case BP:return t=ja(19,n,e,i),t.elementType=BP,t.lanes=s,t;case M6:return oT(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S6:o=10;break e;case b6:o=9;break e;case ck:o=11;break e;case fk:o=14;break e;case zf:o=16,r=null;break e}throw Error(Je(130,t==null?t:typeof t,""))}return e=ja(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function lp(t,e,n,r){return t=ja(7,t,r,e),t.lanes=n,t}function oT(t,e,n,r){return t=ja(22,t,r,e),t.elementType=M6,t.lanes=n,t.stateNode={isHidden:!1},t}function Y2(t,e,n){return t=ja(6,t,null,e),t.lanes=n,t}function Q2(t,e,n){return e=ja(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bne(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R2(0),this.expirationTimes=R2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R2(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jk(t,e,n,r,i,s,o,a,l){return t=new bne(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ja(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pk(s),t}function Mne(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mg,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gH(t){if(!t)return yh;t=t._reactInternals;e:{if(Up(t)!==t||t.tag!==1)throw Error(Je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(No(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Je(171))}if(t.tag===1){var n=t.type;if(No(n))return m8(t,n,e)}return e}function vH(t,e,n,r,i,s,o,a,l){return t=jk(n,r,!0,t,i,s,o,a,l),t.context=gH(null),n=t.current,r=vo(),i=ah(n),s=Pc(r,i),s.callback=e!=null?e:null,sh(n,s,i),t.current.lanes=i,X1(t,i,r),Fo(t,r),t}function aT(t,e,n,r){var i=e.current,s=vo(),o=ah(i);return n=gH(n),e.context===null?e.context=n:e.pendingContext=n,e=Pc(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sh(i,e,o),t!==null&&(Il(t,i,o,s),Nb(t,i,o)),o}function VM(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function s4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qk(t,e){s4(t,e),(t=t.alternate)&&s4(t,e)}function Ene(){return null}var yH=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xk(t){this._internalRoot=t}lT.prototype.render=Xk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Je(409));aT(t,e,null,null)};lT.prototype.unmount=Xk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ep(function(){aT(null,t,null,null)}),e[Dc]=null}};function lT(t){this._internalRoot=t}lT.prototype.unstable_scheduleHydration=function(t){if(t){var e=X6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wf.length&&e!==0&&e<Wf[n].priority;n++);Wf.splice(n,0,t),n===0&&Q6(t)}};function Yk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function o4(){}function Tne(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=VM(o);s.call(u)}}var o=vH(e,r,t,0,null,!1,!1,"",o4);return t._reactRootContainer=o,t[Dc]=o.current,Dx(t.nodeType===8?t.parentNode:t),Ep(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=VM(l);a.call(u)}}var l=jk(t,0,!1,null,null,!1,!1,"",o4);return t._reactRootContainer=l,t[Dc]=l.current,Dx(t.nodeType===8?t.parentNode:t),Ep(function(){aT(e,l,n,r)}),l}function cT(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=VM(o);a.call(l)}}aT(e,o,t,i)}else o=Tne(n,e,t,i,r);return VM(o)}j6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Iy(e.pendingLanes);n!==0&&(pk(e,n|1),Fo(e,fi()),(Vn&6)===0&&(l0=fi()+500,Rh()))}break;case 13:Ep(function(){var r=Oc(t,1);if(r!==null){var i=vo();Il(r,t,1,i)}}),qk(t,1)}};mk=function(t){if(t.tag===13){var e=Oc(t,134217728);if(e!==null){var n=vo();Il(e,t,134217728,n)}qk(t,134217728)}};q6=function(t){if(t.tag===13){var e=ah(t),n=Oc(t,e);if(n!==null){var r=vo();Il(n,t,e,r)}qk(t,e)}};X6=function(){return or};Y6=function(t,e){var n=or;try{return or=t,e()}finally{or=n}};YP=function(t,e,n){switch(e){case"input":if(HP(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=eT(r);if(!i)throw Error(Je(90));T6(r),HP(r,i)}}}break;case"textarea":A6(t,n);break;case"select":e=n.value,e!=null&&zg(t,!!n.multiple,e,!1)}};O6=Hk;N6=Ep;var Cne={usingClientEntryPoint:!1,Events:[Q1,_g,eT,L6,D6,Hk]},iy={findFiberByHostInstance:jd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ane={bundleType:iy.bundleType,version:iy.version,rendererPackageName:iy.rendererPackageName,rendererConfig:iy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=B6(t),t===null?null:t.stateNode},findFiberByHostInstance:iy.findFiberByHostInstance||Ene,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yS.isDisabled&&yS.supportsFiber)try{QE=yS.inject(Ane),Mu=yS}catch{}}wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cne;wa.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yk(e))throw Error(Je(200));return Mne(t,e,null,n)};wa.createRoot=function(t,e){if(!Yk(t))throw Error(Je(299));var n=!1,r="",i=yH;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jk(t,1,!1,null,null,n,!1,r,i),t[Dc]=e.current,Dx(t.nodeType===8?t.parentNode:t),new Xk(e)};wa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Je(188)):(t=Object.keys(t).join(","),Error(Je(268,t)));return t=B6(e),t=t===null?null:t.stateNode,t};wa.flushSync=function(t){return Ep(t)};wa.hydrate=function(t,e,n){if(!uT(e))throw Error(Je(200));return cT(null,t,e,!0,n)};wa.hydrateRoot=function(t,e,n){if(!Yk(t))throw Error(Je(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yH;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vH(e,null,t,1,n!=null?n:null,i,!1,s,o),t[Dc]=e.current,Dx(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new lT(e)};wa.render=function(t,e,n){if(!uT(e))throw Error(Je(200));return cT(null,t,e,!1,n)};wa.unmountComponentAtNode=function(t){if(!uT(t))throw Error(Je(40));return t._reactRootContainer?(Ep(function(){cT(null,null,t,!1,function(){t._reactRootContainer=null,t[Dc]=null})}),!0):!1};wa.unstable_batchedUpdates=Hk;wa.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!uT(n))throw Error(Je(200));if(t==null||t._reactInternals===void 0)throw Error(Je(38));return cT(t,e,n,!1,r)};wa.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=wa})(j1);const Pne=G1(j1.exports);var a4=j1.exports;OP.createRoot=a4.createRoot,OP.hydrateRoot=a4.hydrateRoot;var HM=Boolean(globalThis==null?void 0:globalThis.document)?U.exports.useLayoutEffect:U.exports.useEffect,fT={exports:{}},hT={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rne=U.exports,Ine=Symbol.for("react.element"),kne=Symbol.for("react.fragment"),Lne=Object.prototype.hasOwnProperty,Dne=Rne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,One={key:!0,ref:!0,__self:!0,__source:!0};function xH(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Lne.call(e,r)&&!One.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ine,type:t,key:s,ref:o,props:i,_owner:Dne.current}}hT.Fragment=kne;hT.jsx=xH;hT.jsxs=xH;(function(t){t.exports=hT})(fT);const ga=fT.exports.Fragment,J=fT.exports.jsx,jt=fT.exports.jsxs;var Qk=U.exports.createContext({});Qk.displayName="ColorModeContext";function Kk(){const t=U.exports.useContext(Qk);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}var xS={light:"chakra-ui-light",dark:"chakra-ui-dark"};function Nne(t={}){const{preventTransition:e=!0}=t,n={setDataset:r=>{const i=e?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?xS.dark:xS.light),document.body.classList.remove(r?xS.light:xS.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var s;return((s=n.query().matches)!=null?s:r==="dark")?"dark":"light"},addListener(r){const i=n.query(),s=o=>{r(o.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(s):i.addEventListener("change",s),()=>{typeof i.removeListener=="function"?i.removeListener(s):i.removeEventListener("change",s)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var Fne="chakra-ui-color-mode";function zne(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}var Bne=zne(Fne),l4=()=>{};function u4(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}function _H(t){const{value:e,children:n,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:s}={},colorModeManager:o=Bne}=t,a=i==="dark"?"dark":"light",[l,u]=U.exports.useState(()=>u4(o,a)),[c,p]=U.exports.useState(()=>u4(o)),{getSystemTheme:m,setClassName:v,setDataset:y,addListener:x}=U.exports.useMemo(()=>Nne({preventTransition:s}),[s]),_=i==="system"&&!l?c:l,b=U.exports.useCallback(T=>{const A=T==="system"?m():T;u(A),v(A==="dark"),y(A),o.set(A)},[o,m,v,y]);HM(()=>{i==="system"&&p(m())},[]),U.exports.useEffect(()=>{const T=o.get();if(T){b(T);return}if(i==="system"){b("system");return}b(a)},[o,a,i,b]);const M=U.exports.useCallback(()=>{b(_==="dark"?"light":"dark")},[_,b]);U.exports.useEffect(()=>{if(!!r)return x(b)},[r,x,b]);const w=U.exports.useMemo(()=>({colorMode:e!=null?e:_,toggleColorMode:e?l4:M,setColorMode:e?l4:b,forced:e!==void 0}),[_,M,b,e]);return J(Qk.Provider,{value:w,children:n})}_H.displayName="ColorModeProvider";var AR={exports:{}};(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",p="[object Date]",m="[object Error]",v="[object Function]",y="[object GeneratorFunction]",x="[object Map]",_="[object Number]",b="[object Null]",M="[object Object]",w="[object Proxy]",T="[object RegExp]",A="[object Set]",k="[object String]",L="[object Undefined]",P="[object WeakMap]",O="[object ArrayBuffer]",N="[object DataView]",H="[object Float32Array]",ie="[object Float64Array]",te="[object Int8Array]",ee="[object Int16Array]",ue="[object Int32Array]",ae="[object Uint8Array]",fe="[object Uint8ClampedArray]",z="[object Uint16Array]",Y="[object Uint32Array]",Z=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,le={};le[H]=le[ie]=le[te]=le[ee]=le[ue]=le[ae]=le[fe]=le[z]=le[Y]=!0,le[a]=le[l]=le[O]=le[c]=le[N]=le[p]=le[m]=le[v]=le[x]=le[_]=le[M]=le[T]=le[A]=le[k]=le[P]=!1;var we=typeof _c=="object"&&_c&&_c.Object===Object&&_c,Me=typeof self=="object"&&self&&self.Object===Object&&self,pe=we||Me||Function("return this")(),We=e&&!e.nodeType&&e,Be=We&&!0&&t&&!t.nodeType&&t,Qe=Be&&Be.exports===We,Fe=Qe&&we.process,pt=function(){try{var j=Be&&Be.require&&Be.require("util").types;return j||Fe&&Fe.binding&&Fe.binding("util")}catch{}}(),Ie=pt&&pt.isTypedArray;function Ae(j,ce,Se){switch(Se.length){case 0:return j.call(ce);case 1:return j.call(ce,Se[0]);case 2:return j.call(ce,Se[0],Se[1]);case 3:return j.call(ce,Se[0],Se[1],Se[2])}return j.apply(ce,Se)}function qe(j,ce){for(var Se=-1,ht=Array(j);++Se<j;)ht[Se]=ce(Se);return ht}function ct(j){return function(ce){return j(ce)}}function rt(j,ce){return j==null?void 0:j[ce]}function St(j,ce){return function(Se){return j(ce(Se))}}var bt=Array.prototype,Mt=Function.prototype,zt=Object.prototype,Nt=pe["__core-js_shared__"],Q=Mt.toString,W=zt.hasOwnProperty,be=function(){var j=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}(),$e=zt.toString,Ke=Q.call(Object),nt=RegExp("^"+Q.call(W).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=Qe?pe.Buffer:void 0,it=pe.Symbol,De=pe.Uint8Array,yt=_t?_t.allocUnsafe:void 0,re=St(Object.getPrototypeOf,Object),Te=Object.create,je=zt.propertyIsEnumerable,et=bt.splice,wt=it?it.toStringTag:void 0,Kt=function(){try{var j=Wu(Object,"defineProperty");return j({},"",{}),j}catch{}}(),tr=_t?_t.isBuffer:void 0,de=Math.max,Pe=Date.now,Ve=Wu(pe,"Map"),at=Wu(Object,"create"),Tt=function(){function j(){}return function(ce){if(!Zs(ce))return{};if(Te)return Te(ce);j.prototype=ce;var Se=new j;return j.prototype=void 0,Se}}();function ln(j){var ce=-1,Se=j==null?0:j.length;for(this.clear();++ce<Se;){var ht=j[ce];this.set(ht[0],ht[1])}}function wr(){this.__data__=at?at(null):{},this.size=0}function Wr(j){var ce=this.has(j)&&delete this.__data__[j];return this.size-=ce?1:0,ce}function Xs(j){var ce=this.__data__;if(at){var Se=ce[j];return Se===r?void 0:Se}return W.call(ce,j)?ce[j]:void 0}function Wn(j){var ce=this.__data__;return at?ce[j]!==void 0:W.call(ce,j)}function Ms(j,ce){var Se=this.__data__;return this.size+=this.has(j)?0:1,Se[j]=at&&ce===void 0?r:ce,this}ln.prototype.clear=wr,ln.prototype.delete=Wr,ln.prototype.get=Xs,ln.prototype.has=Wn,ln.prototype.set=Ms;function pr(j){var ce=-1,Se=j==null?0:j.length;for(this.clear();++ce<Se;){var ht=j[ce];this.set(ht[0],ht[1])}}function Hl(){this.__data__=[],this.size=0}function Vh(j){var ce=this.__data__,Se=On(ce,j);if(Se<0)return!1;var ht=ce.length-1;return Se==ht?ce.pop():et.call(ce,Se,1),--this.size,!0}function Wl(j){var ce=this.__data__,Se=On(ce,j);return Se<0?void 0:ce[Se][1]}function Uu(j){return On(this.__data__,j)>-1}function q(j,ce){var Se=this.__data__,ht=On(Se,j);return ht<0?(++this.size,Se.push([j,ce])):Se[ht][1]=ce,this}pr.prototype.clear=Hl,pr.prototype.delete=Vh,pr.prototype.get=Wl,pr.prototype.has=Uu,pr.prototype.set=q;function ye(j){var ce=-1,Se=j==null?0:j.length;for(this.clear();++ce<Se;){var ht=j[ce];this.set(ht[0],ht[1])}}function Le(){this.size=0,this.__data__={hash:new ln,map:new(Ve||pr),string:new ln}}function xe(j){var ce=sl(this,j).delete(j);return this.size-=ce?1:0,ce}function Oe(j){return sl(this,j).get(j)}function kt(j){return sl(this,j).has(j)}function qt(j,ce){var Se=sl(this,j),ht=Se.size;return Se.set(j,ce),this.size+=Se.size==ht?0:1,this}ye.prototype.clear=Le,ye.prototype.delete=xe,ye.prototype.get=Oe,ye.prototype.has=kt,ye.prototype.set=qt;function Ht(j){var ce=this.__data__=new pr(j);this.size=ce.size}function un(){this.__data__=new pr,this.size=0}function En(j){var ce=this.__data__,Se=ce.delete(j);return this.size=ce.size,Se}function _n(j){return this.__data__.get(j)}function wn(j){return this.__data__.has(j)}function mr(j,ce){var Se=this.__data__;if(Se instanceof pr){var ht=Se.__data__;if(!Ve||ht.length<n-1)return ht.push([j,ce]),this.size=++Se.size,this;Se=this.__data__=new ye(ht)}return Se.set(j,ce),this.size=Se.size,this}Ht.prototype.clear=un,Ht.prototype.delete=En,Ht.prototype.get=_n,Ht.prototype.has=wn,Ht.prototype.set=mr;function Ei(j,ce){var Se=Qc(j),ht=!Se&&Cn(j),Qt=!Se&&!ht&&um(j),$n=!Se&&!ht&&!Qt&&cm(j),Zt=Se||ht||Qt||$n,yn=Zt?qe(j.length,String):[],sn=yn.length;for(var gi in j)(ce||W.call(j,gi))&&!(Zt&&(gi=="length"||Qt&&(gi=="offset"||gi=="parent")||$n&&(gi=="buffer"||gi=="byteLength"||gi=="byteOffset")||im(gi,sn)))&&yn.push(gi);return yn}function mi(j,ce,Se){(Se!==void 0&&!Xl(j[ce],Se)||Se===void 0&&!(ce in j))&&Jt(j,ce,Se)}function Ho(j,ce,Se){var ht=j[ce];(!(W.call(j,ce)&&Xl(ht,Se))||Se===void 0&&!(ce in j))&&Jt(j,ce,Se)}function On(j,ce){for(var Se=j.length;Se--;)if(Xl(j[Se][0],ce))return Se;return-1}function Jt(j,ce,Se){ce=="__proto__"&&Kt?Kt(j,ce,{configurable:!0,enumerable:!0,value:Se,writable:!0}):j[ce]=Se}var rl=Hh();function nr(j){return j==null?j===void 0?L:b:wt&&wt in Object(j)?Cs(j):om(j)}function Ys(j){return Gu(j)&&nr(j)==a}function il(j){if(!Zs(j)||Gl(j))return!1;var ce=$h(j)?nt:B;return ce.test(am(j))}function os(j){return Gu(j)&&Dr(j.length)&&!!le[nr(j)]}function Es(j){if(!Zs(j))return $u(j);var ce=Ks(j),Se=[];for(var ht in j)ht=="constructor"&&(ce||!W.call(j,ht))||Se.push(ht);return Se}function en(j,ce,Se,ht,Qt){j!==ce&&rl(ce,function($n,Zt){if(Qt||(Qt=new Ht),Zs($n))Tn(j,ce,Zt,Se,en,ht,Qt);else{var yn=ht?ht(jl(j,Zt),$n,Zt+"",j,ce,Qt):void 0;yn===void 0&&(yn=$n),mi(j,Zt,yn)}},Js)}function Tn(j,ce,Se,ht,Qt,$n,Zt){var yn=jl(j,Se),sn=jl(ce,Se),gi=Zt.get(sn);if(gi){mi(j,Se,gi);return}var $r=$n?$n(yn,sn,Se+"",j,ce,Zt):void 0,Sr=$r===void 0;if(Sr){var Ql=Qc(sn),Kl=!Ql&&um(sn),Zc=!Ql&&!Kl&&cm(sn);$r=sn,Ql||Kl||Zc?Qc(yn)?$r=yn:lm(yn)?$r=Bi(yn):Kl?(Sr=!1,$r=Lr(sn,!0)):Zc?(Sr=!1,$r=Qs(sn,!0)):$r=[]:Gh(sn)||Cn(sn)?($r=yn,Cn(yn)?$r=Kc(yn):(!Zs(yn)||$h(yn))&&($r=Wh(sn))):Sr=!1}Sr&&(Zt.set(sn,$r),Qt($r,sn,ht,$n,Zt),Zt.delete(sn)),mi(j,Se,$r)}function Ts(j,ce){return Yc(fv(j,ce,eo),j+"")}var Ln=Kt?function(j,ce){return Kt(j,"toString",{configurable:!0,enumerable:!1,value:Xn(ce),writable:!0})}:eo;function Lr(j,ce){if(ce)return j.slice();var Se=j.length,ht=yt?yt(Se):new j.constructor(Se);return j.copy(ht),ht}function bo(j){var ce=new j.constructor(j.byteLength);return new De(ce).set(new De(j)),ce}function Qs(j,ce){var Se=ce?bo(j.buffer):j.buffer;return new j.constructor(Se,j.byteOffset,j.length)}function Bi(j,ce){var Se=-1,ht=j.length;for(ce||(ce=Array(ht));++Se<ht;)ce[Se]=j[Se];return ce}function Vu(j,ce,Se,ht){var Qt=!Se;Se||(Se={});for(var $n=-1,Zt=ce.length;++$n<Zt;){var yn=ce[$n],sn=ht?ht(Se[yn],j[yn],yn,Se,j):void 0;sn===void 0&&(sn=j[yn]),Qt?Jt(Se,yn,sn):Ho(Se,yn,sn)}return Se}function Hu(j){return Ts(function(ce,Se){var ht=-1,Qt=Se.length,$n=Qt>1?Se[Qt-1]:void 0,Zt=Qt>2?Se[2]:void 0;for($n=j.length>3&&typeof $n=="function"?(Qt--,$n):void 0,Zt&&sm(Se[0],Se[1],Zt)&&($n=Qt<3?void 0:$n,Qt=1),ce=Object(ce);++ht<Qt;){var yn=Se[ht];yn&&j(ce,yn,ht,$n)}return ce})}function Hh(j){return function(ce,Se,ht){for(var Qt=-1,$n=Object(ce),Zt=ht(ce),yn=Zt.length;yn--;){var sn=Zt[j?yn:++Qt];if(Se($n[sn],sn,$n)===!1)break}return ce}}function sl(j,ce){var Se=j.__data__;return $l(ce)?Se[typeof ce=="string"?"string":"hash"]:Se.map}function Wu(j,ce){var Se=rt(j,ce);return il(Se)?Se:void 0}function Cs(j){var ce=W.call(j,wt),Se=j[wt];try{j[wt]=void 0;var ht=!0}catch{}var Qt=$e.call(j);return ht&&(ce?j[wt]=Se:delete j[wt]),Qt}function Wh(j){return typeof j.constructor=="function"&&!Ks(j)?Tt(re(j)):{}}function im(j,ce){var Se=typeof j;return ce=ce==null?o:ce,!!ce&&(Se=="number"||Se!="symbol"&&G.test(j))&&j>-1&&j%1==0&&j<ce}function sm(j,ce,Se){if(!Zs(Se))return!1;var ht=typeof ce;return(ht=="number"?Yl(Se)&&im(ce,Se.length):ht=="string"&&ce in Se)?Xl(Se[ce],j):!1}function $l(j){var ce=typeof j;return ce=="string"||ce=="number"||ce=="symbol"||ce=="boolean"?j!=="__proto__":j===null}function Gl(j){return!!be&&be in j}function Ks(j){var ce=j&&j.constructor,Se=typeof ce=="function"&&ce.prototype||zt;return j===Se}function $u(j){var ce=[];if(j!=null)for(var Se in Object(j))ce.push(Se);return ce}function om(j){return $e.call(j)}function fv(j,ce,Se){return ce=de(ce===void 0?j.length-1:ce,0),function(){for(var ht=arguments,Qt=-1,$n=de(ht.length-ce,0),Zt=Array($n);++Qt<$n;)Zt[Qt]=ht[ce+Qt];Qt=-1;for(var yn=Array(ce+1);++Qt<ce;)yn[Qt]=ht[Qt];return yn[ce]=Se(Zt),Ae(j,this,yn)}}function jl(j,ce){if(!(ce==="constructor"&&typeof j[ce]=="function")&&ce!="__proto__")return j[ce]}var Yc=ql(Ln);function ql(j){var ce=0,Se=0;return function(){var ht=Pe(),Qt=s-(ht-Se);if(Se=ht,Qt>0){if(++ce>=i)return arguments[0]}else ce=0;return j.apply(void 0,arguments)}}function am(j){if(j!=null){try{return Q.call(j)}catch{}try{return j+""}catch{}}return""}function Xl(j,ce){return j===ce||j!==j&&ce!==ce}var Cn=Ys(function(){return arguments}())?Ys:function(j){return Gu(j)&&W.call(j,"callee")&&!je.call(j,"callee")},Qc=Array.isArray;function Yl(j){return j!=null&&Dr(j.length)&&!$h(j)}function lm(j){return Gu(j)&&Yl(j)}var um=tr||Wo;function $h(j){if(!Zs(j))return!1;var ce=nr(j);return ce==v||ce==y||ce==u||ce==w}function Dr(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=o}function Zs(j){var ce=typeof j;return j!=null&&(ce=="object"||ce=="function")}function Gu(j){return j!=null&&typeof j=="object"}function Gh(j){if(!Gu(j)||nr(j)!=M)return!1;var ce=re(j);if(ce===null)return!0;var Se=W.call(ce,"constructor")&&ce.constructor;return typeof Se=="function"&&Se instanceof Se&&Q.call(Se)==Ke}var cm=Ie?ct(Ie):os;function Kc(j){return Vu(j,Js(j))}function Js(j){return Yl(j)?Ei(j,!0):Es(j)}var rr=Hu(function(j,ce,Se,ht){en(j,ce,Se,ht)});function Xn(j){return function(){return j}}function eo(j){return j}function Wo(){return!1}t.exports=rr})(AR,AR.exports);const qa=AR.exports;function kl(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}function Yd(t,...e){return Une(t)?t(...e):t}var Une=t=>typeof t=="function",Vne=t=>/!(important)?$/.test(t),c4=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,PR=(t,e)=>n=>{const r=String(e),i=Vne(r),s=c4(r),o=t?`${t}.${s}`:s;let a=kl(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:e;return a=c4(a),i?`${a} !important`:a};function Wx(t){const{scale:e,transform:n,compose:r}=t;return(s,o)=>{var u;const a=PR(e,s)(o);let l=(u=n==null?void 0:n(a,o))!=null?u:a;return r&&(l=r(l,o)),l}}var _S=(...t)=>e=>t.reduce((n,r)=>r(n),e);function gl(t,e){return n=>{const r={property:n,scale:t};return r.transform=Wx({scale:t,transform:e}),r}}var Hne=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function Wne(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:Hne(e),transform:n?Wx({scale:n,compose:r}):r}}var wH=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function $ne(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...wH].join(" ")}function Gne(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...wH].join(" ")}var jne={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},qne={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function Xne(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var Yne={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},SH="& > :not(style) ~ :not(style)",Qne={[SH]:{marginInlineStart:"calc(var(--chakra-space-x) * calc(1 - var(--chakra-space-x-reverse)))",marginInlineEnd:"calc(var(--chakra-space-x) * var(--chakra-space-x-reverse))"}},Kne={[SH]:{marginTop:"calc(var(--chakra-space-y) * calc(1 - var(--chakra-space-y-reverse)))",marginBottom:"calc(var(--chakra-space-y) * var(--chakra-space-y-reverse))"}},RR={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},Zne=new Set(Object.values(RR)),bH=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Jne=t=>t.trim();function ere(t,e){var p;var n;if(t==null||bH.has(t))return t;const r=/(?<type>^[a-z-A-Z]+)\((?<values>(.*))\)/g,{type:i,values:s}=(p=(n=r.exec(t))==null?void 0:n.groups)!=null?p:{};if(!i||!s)return t;const o=i.includes("-gradient")?i:`${i}-gradient`,[a,...l]=s.split(",").map(Jne).filter(Boolean);if((l==null?void 0:l.length)===0)return t;const u=a in RR?RR[a]:a;l.unshift(u);const c=l.map(m=>{if(Zne.has(m))return m;const v=m.indexOf(" "),[y,x]=v!==-1?[m.substr(0,v),m.substr(v+1)]:[m],_=MH(x)?x:x&&x.split(" "),b=`colors.${y}`,M=b in e.__cssMap?e.__cssMap[b].varRef:y;return _?[M,...Array.isArray(_)?_:[_]].join(" "):M});return`${o}(${c.join(", ")})`}var MH=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),tre=(t,e)=>ere(t,e!=null?e:{});function nre(t){return/^var\(--.+\)$/.test(t)}var rre=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},mu=t=>e=>`${t}(${e})`,Bn={filter(t){return t!=="auto"?t:jne},backdropFilter(t){return t!=="auto"?t:qne},ring(t){return Xne(Bn.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?$ne():t==="auto-gpu"?Gne():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=rre(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(nre(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:tre,blur:mu("blur"),opacity:mu("opacity"),brightness:mu("brightness"),contrast:mu("contrast"),dropShadow:mu("drop-shadow"),grayscale:mu("grayscale"),hueRotate:mu("hue-rotate"),invert:mu("invert"),saturate:mu("saturate"),sepia:mu("sepia"),bgImage(t){return t==null||MH(t)||bH.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var i;const{space:e,divide:n}=(i=Yne[t])!=null?i:{},r={flexDirection:t};return e&&(r[e]=1),n&&(r[n]=1),r}},me={borderWidths:gl("borderWidths"),borderStyles:gl("borderStyles"),colors:gl("colors"),borders:gl("borders"),radii:gl("radii",Bn.px),space:gl("space",_S(Bn.vh,Bn.px)),spaceT:gl("space",_S(Bn.vh,Bn.px)),degreeT(t){return{property:t,transform:Bn.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:Wx({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:gl("sizes",_S(Bn.vh,Bn.px)),sizesT:gl("sizes",_S(Bn.vh,Bn.fraction)),shadows:gl("shadows"),logical:Wne,blur:gl("blur",Bn.blur)},Wb={background:me.colors("background"),backgroundColor:me.colors("backgroundColor"),backgroundImage:me.propT("backgroundImage",Bn.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Bn.bgClip},bgSize:me.prop("backgroundSize"),bgPosition:me.prop("backgroundPosition"),bg:me.colors("background"),bgColor:me.colors("backgroundColor"),bgPos:me.prop("backgroundPosition"),bgRepeat:me.prop("backgroundRepeat"),bgAttachment:me.prop("backgroundAttachment"),bgGradient:me.propT("backgroundImage",Bn.gradient),bgClip:{transform:Bn.bgClip}};Object.assign(Wb,{bgImage:Wb.backgroundImage,bgImg:Wb.backgroundImage});var Gn={border:me.borders("border"),borderWidth:me.borderWidths("borderWidth"),borderStyle:me.borderStyles("borderStyle"),borderColor:me.colors("borderColor"),borderRadius:me.radii("borderRadius"),borderTop:me.borders("borderTop"),borderBlockStart:me.borders("borderBlockStart"),borderTopLeftRadius:me.radii("borderTopLeftRadius"),borderStartStartRadius:me.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:me.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:me.radii("borderTopRightRadius"),borderStartEndRadius:me.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:me.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:me.borders("borderRight"),borderInlineEnd:me.borders("borderInlineEnd"),borderBottom:me.borders("borderBottom"),borderBlockEnd:me.borders("borderBlockEnd"),borderBottomLeftRadius:me.radii("borderBottomLeftRadius"),borderBottomRightRadius:me.radii("borderBottomRightRadius"),borderLeft:me.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:me.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:me.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:me.borders(["borderLeft","borderRight"]),borderInline:me.borders("borderInline"),borderY:me.borders(["borderTop","borderBottom"]),borderBlock:me.borders("borderBlock"),borderTopWidth:me.borderWidths("borderTopWidth"),borderBlockStartWidth:me.borderWidths("borderBlockStartWidth"),borderTopColor:me.colors("borderTopColor"),borderBlockStartColor:me.colors("borderBlockStartColor"),borderTopStyle:me.borderStyles("borderTopStyle"),borderBlockStartStyle:me.borderStyles("borderBlockStartStyle"),borderBottomWidth:me.borderWidths("borderBottomWidth"),borderBlockEndWidth:me.borderWidths("borderBlockEndWidth"),borderBottomColor:me.colors("borderBottomColor"),borderBlockEndColor:me.colors("borderBlockEndColor"),borderBottomStyle:me.borderStyles("borderBottomStyle"),borderBlockEndStyle:me.borderStyles("borderBlockEndStyle"),borderLeftWidth:me.borderWidths("borderLeftWidth"),borderInlineStartWidth:me.borderWidths("borderInlineStartWidth"),borderLeftColor:me.colors("borderLeftColor"),borderInlineStartColor:me.colors("borderInlineStartColor"),borderLeftStyle:me.borderStyles("borderLeftStyle"),borderInlineStartStyle:me.borderStyles("borderInlineStartStyle"),borderRightWidth:me.borderWidths("borderRightWidth"),borderInlineEndWidth:me.borderWidths("borderInlineEndWidth"),borderRightColor:me.colors("borderRightColor"),borderInlineEndColor:me.colors("borderInlineEndColor"),borderRightStyle:me.borderStyles("borderRightStyle"),borderInlineEndStyle:me.borderStyles("borderInlineEndStyle"),borderTopRadius:me.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:me.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:me.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:me.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Gn,{rounded:Gn.borderRadius,roundedTop:Gn.borderTopRadius,roundedTopLeft:Gn.borderTopLeftRadius,roundedTopRight:Gn.borderTopRightRadius,roundedTopStart:Gn.borderStartStartRadius,roundedTopEnd:Gn.borderStartEndRadius,roundedBottom:Gn.borderBottomRadius,roundedBottomLeft:Gn.borderBottomLeftRadius,roundedBottomRight:Gn.borderBottomRightRadius,roundedBottomStart:Gn.borderEndStartRadius,roundedBottomEnd:Gn.borderEndEndRadius,roundedLeft:Gn.borderLeftRadius,roundedRight:Gn.borderRightRadius,roundedStart:Gn.borderInlineStartRadius,roundedEnd:Gn.borderInlineEndRadius,borderStart:Gn.borderInlineStart,borderEnd:Gn.borderInlineEnd,borderTopStartRadius:Gn.borderStartStartRadius,borderTopEndRadius:Gn.borderStartEndRadius,borderBottomStartRadius:Gn.borderEndStartRadius,borderBottomEndRadius:Gn.borderEndEndRadius,borderStartRadius:Gn.borderInlineStartRadius,borderEndRadius:Gn.borderInlineEndRadius,borderStartWidth:Gn.borderInlineStartWidth,borderEndWidth:Gn.borderInlineEndWidth,borderStartColor:Gn.borderInlineStartColor,borderEndColor:Gn.borderInlineEndColor,borderStartStyle:Gn.borderInlineStartStyle,borderEndStyle:Gn.borderInlineEndStyle});var ire={color:me.colors("color"),textColor:me.colors("color"),fill:me.colors("fill"),stroke:me.colors("stroke")},IR={boxShadow:me.shadows("boxShadow"),mixBlendMode:!0,blendMode:me.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:me.prop("backgroundBlendMode"),opacity:!0};Object.assign(IR,{shadow:IR.boxShadow});var sre={filter:{transform:Bn.filter},blur:me.blur("--chakra-blur"),brightness:me.propT("--chakra-brightness",Bn.brightness),contrast:me.propT("--chakra-contrast",Bn.contrast),hueRotate:me.degreeT("--chakra-hue-rotate"),invert:me.propT("--chakra-invert",Bn.invert),saturate:me.propT("--chakra-saturate",Bn.saturate),dropShadow:me.propT("--chakra-drop-shadow",Bn.dropShadow),backdropFilter:{transform:Bn.backdropFilter},backdropBlur:me.blur("--chakra-backdrop-blur"),backdropBrightness:me.propT("--chakra-backdrop-brightness",Bn.brightness),backdropContrast:me.propT("--chakra-backdrop-contrast",Bn.contrast),backdropHueRotate:me.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:me.propT("--chakra-backdrop-invert",Bn.invert),backdropSaturate:me.propT("--chakra-backdrop-saturate",Bn.saturate)},WM={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Bn.flexDirection},experimental_spaceX:{static:Qne,transform:Wx({scale:"space",transform:t=>t!==null?{"--chakra-space-x":t}:null})},experimental_spaceY:{static:Kne,transform:Wx({scale:"space",transform:t=>t!=null?{"--chakra-space-y":t}:null})},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:me.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:me.space("gap"),rowGap:me.space("rowGap"),columnGap:me.space("columnGap")};Object.assign(WM,{flexDir:WM.flexDirection});var EH={gridGap:me.space("gridGap"),gridColumnGap:me.space("gridColumnGap"),gridRowGap:me.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},ore={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Bn.outline},outlineOffset:!0,outlineColor:me.colors("outlineColor")},za={width:me.sizesT("width"),inlineSize:me.sizesT("inlineSize"),height:me.sizes("height"),blockSize:me.sizes("blockSize"),boxSize:me.sizes(["width","height"]),minWidth:me.sizes("minWidth"),minInlineSize:me.sizes("minInlineSize"),minHeight:me.sizes("minHeight"),minBlockSize:me.sizes("minBlockSize"),maxWidth:me.sizes("maxWidth"),maxInlineSize:me.sizes("maxInlineSize"),maxHeight:me.sizes("maxHeight"),maxBlockSize:me.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:me.propT("float",Bn.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(za,{w:za.width,h:za.height,minW:za.minWidth,maxW:za.maxWidth,minH:za.minHeight,maxH:za.maxHeight,overscroll:za.overscrollBehavior,overscrollX:za.overscrollBehaviorX,overscrollY:za.overscrollBehaviorY});var are={listStyleType:!0,listStylePosition:!0,listStylePos:me.prop("listStylePosition"),listStyleImage:!0,listStyleImg:me.prop("listStyleImage")};function lre(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var ure=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},cre=ure(lre),fre={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},hre={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},K2=(t,e,n)=>{const r={},i=cre(t,e,{});for(const s in i)s in n&&n[s]!=null||(r[s]=i[s]);return r},dre={srOnly:{transform(t){return t===!0?fre:t==="focusable"?hre:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>K2(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>K2(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>K2(e,t,n)}},Zy={position:!0,pos:me.prop("position"),zIndex:me.prop("zIndex","zIndices"),inset:me.spaceT("inset"),insetX:me.spaceT(["left","right"]),insetInline:me.spaceT("insetInline"),insetY:me.spaceT(["top","bottom"]),insetBlock:me.spaceT("insetBlock"),top:me.spaceT("top"),insetBlockStart:me.spaceT("insetBlockStart"),bottom:me.spaceT("bottom"),insetBlockEnd:me.spaceT("insetBlockEnd"),left:me.spaceT("left"),insetInlineStart:me.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:me.spaceT("right"),insetInlineEnd:me.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Zy,{insetStart:Zy.insetInlineStart,insetEnd:Zy.insetInlineEnd});var pre={ring:{transform:Bn.ring},ringColor:me.colors("--chakra-ring-color"),ringOffset:me.prop("--chakra-ring-offset-width"),ringOffsetColor:me.colors("--chakra-ring-offset-color"),ringInset:me.prop("--chakra-ring-inset")},Mr={margin:me.spaceT("margin"),marginTop:me.spaceT("marginTop"),marginBlockStart:me.spaceT("marginBlockStart"),marginRight:me.spaceT("marginRight"),marginInlineEnd:me.spaceT("marginInlineEnd"),marginBottom:me.spaceT("marginBottom"),marginBlockEnd:me.spaceT("marginBlockEnd"),marginLeft:me.spaceT("marginLeft"),marginInlineStart:me.spaceT("marginInlineStart"),marginX:me.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:me.spaceT("marginInline"),marginY:me.spaceT(["marginTop","marginBottom"]),marginBlock:me.spaceT("marginBlock"),padding:me.space("padding"),paddingTop:me.space("paddingTop"),paddingBlockStart:me.space("paddingBlockStart"),paddingRight:me.space("paddingRight"),paddingBottom:me.space("paddingBottom"),paddingBlockEnd:me.space("paddingBlockEnd"),paddingLeft:me.space("paddingLeft"),paddingInlineStart:me.space("paddingInlineStart"),paddingInlineEnd:me.space("paddingInlineEnd"),paddingX:me.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:me.space("paddingInline"),paddingY:me.space(["paddingTop","paddingBottom"]),paddingBlock:me.space("paddingBlock")};Object.assign(Mr,{m:Mr.margin,mt:Mr.marginTop,mr:Mr.marginRight,me:Mr.marginInlineEnd,marginEnd:Mr.marginInlineEnd,mb:Mr.marginBottom,ml:Mr.marginLeft,ms:Mr.marginInlineStart,marginStart:Mr.marginInlineStart,mx:Mr.marginX,my:Mr.marginY,p:Mr.padding,pt:Mr.paddingTop,py:Mr.paddingY,px:Mr.paddingX,pb:Mr.paddingBottom,pl:Mr.paddingLeft,ps:Mr.paddingInlineStart,paddingStart:Mr.paddingInlineStart,pr:Mr.paddingRight,pe:Mr.paddingInlineEnd,paddingEnd:Mr.paddingInlineEnd});var mre={textDecorationColor:me.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:me.shadows("textShadow")},gre={clipPath:!0,transform:me.propT("transform",Bn.transform),transformOrigin:!0,translateX:me.spaceT("--chakra-translate-x"),translateY:me.spaceT("--chakra-translate-y"),skewX:me.degreeT("--chakra-skew-x"),skewY:me.degreeT("--chakra-skew-y"),scaleX:me.prop("--chakra-scale-x"),scaleY:me.prop("--chakra-scale-y"),scale:me.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:me.degreeT("--chakra-rotate")},vre={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:me.prop("transitionDuration","transition.duration"),transitionProperty:me.prop("transitionProperty","transition.property"),transitionTimingFunction:me.prop("transitionTimingFunction","transition.easing")},yre={fontFamily:me.prop("fontFamily","fonts"),fontSize:me.prop("fontSize","fontSizes",Bn.px),fontWeight:me.prop("fontWeight","fontWeights"),lineHeight:me.prop("lineHeight","lineHeights"),letterSpacing:me.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},xre={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:me.spaceT("scrollMargin"),scrollMarginTop:me.spaceT("scrollMarginTop"),scrollMarginBottom:me.spaceT("scrollMarginBottom"),scrollMarginLeft:me.spaceT("scrollMarginLeft"),scrollMarginRight:me.spaceT("scrollMarginRight"),scrollMarginX:me.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:me.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:me.spaceT("scrollPadding"),scrollPaddingTop:me.spaceT("scrollPaddingTop"),scrollPaddingBottom:me.spaceT("scrollPaddingBottom"),scrollPaddingLeft:me.spaceT("scrollPaddingLeft"),scrollPaddingRight:me.spaceT("scrollPaddingRight"),scrollPaddingX:me.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:me.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function TH(t){return kl(t)&&t.reference?t.reference:String(t)}var dT=(t,...e)=>e.map(TH).join(` ${t} `).replace(/calc/g,""),f4=(...t)=>`calc(${dT("+",...t)})`,h4=(...t)=>`calc(${dT("-",...t)})`,kR=(...t)=>`calc(${dT("*",...t)})`,d4=(...t)=>`calc(${dT("/",...t)})`,p4=t=>{const e=TH(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:kR(e,-1)},Vd=Object.assign(t=>({add:(...e)=>Vd(f4(t,...e)),subtract:(...e)=>Vd(h4(t,...e)),multiply:(...e)=>Vd(kR(t,...e)),divide:(...e)=>Vd(d4(t,...e)),negate:()=>Vd(p4(t)),toString:()=>t.toString()}),{add:f4,subtract:h4,multiply:kR,divide:d4,negate:p4});function _re(t,e="-"){return t.replace(/\s+/g,e)}function wre(t){const e=_re(t.toString());return bre(Sre(e))}function Sre(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function bre(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function Mre(t,e=""){return[e,t].filter(Boolean).join("-")}function Ere(t,e){return`var(${t}${e?`, ${e}`:""})`}function Tre(t,e=""){return wre(`--${Mre(t,e)}`)}function Ih(t,e,n){const r=Tre(t,n);return{variable:r,reference:Ere(r,e)}}function Cre(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function Are(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function LR(t){if(t==null)return t;const{unitless:e}=Are(t);return e||typeof t=="number"?`${t}px`:t}var CH=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,Zk=t=>Object.fromEntries(Object.entries(t).sort(CH));function m4(t){const e=Zk(t);return Object.assign(Object.values(e),e)}function Pre(t){const e=Object.keys(Zk(t));return new Set(e)}function g4(t){var n;if(!t)return t;t=(n=LR(t))!=null?n:t;const e=t.endsWith("px")?-1:-.0625;return typeof t=="number"?`${t+e}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+e}`)}function Ly(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${LR(t)})`),e&&n.push("and",`(max-width: ${LR(e)})`),n.join(" ")}function Rre(t){var s;if(!t)return null;t.base=(s=t.base)!=null?s:"0px";const e=m4(t),n=Object.entries(t).sort(CH).map(([o,a],l,u)=>{var p;let[,c]=(p=u[l+1])!=null?p:[];return c=parseFloat(c)>0?g4(c):void 0,{_minW:g4(a),breakpoint:o,minW:a,maxW:c,maxWQuery:Ly(null,c),minWQuery:Ly(a),minMaxQuery:Ly(a,c)}}),r=Pre(t),i=Array.from(r.values());return{keys:r,normalized:e,isResponsive(o){const a=Object.keys(o);return a.length>0&&a.every(l=>r.has(l))},asObject:Zk(t),asArray:m4(t),details:n,media:[null,...e.map(o=>Ly(o)).slice(1)],toArrayValue(o){if(!kl(o))throw new Error("toArrayValue: value must be an object");const a=i.map(l=>{var u;return(u=o[l])!=null?u:null});for(;Cre(a)===null;)a.pop();return a},toObjectValue(o){if(!Array.isArray(o))throw new Error("toObjectValue: value must be an array");return o.reduce((a,l,u)=>{const c=i[u];return c!=null&&l!=null&&(a[c]=l),a},{})}}}var cs={hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,indeterminate:(t,e)=>`${t}:indeterminate ${e}, ${t}[aria-checked=mixed] ${e}, ${t}[data-indeterminate] ${e}`,readOnly:(t,e)=>`${t}:read-only ${e}, ${t}[readonly] ${e}, ${t}[data-read-only] ${e}`,expanded:(t,e)=>`${t}:read-only ${e}, ${t}[aria-expanded=true] ${e}, ${t}[data-expanded] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},Cf=t=>AH(e=>t(e,"&"),"[role=group]","[data-group]",".group"),lc=t=>AH(e=>t(e,"~ &"),"[data-peer]",".peer"),AH=(t,...e)=>e.map(t).join(", "),pT={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Cf(cs.hover),_peerHover:lc(cs.hover),_groupFocus:Cf(cs.focus),_peerFocus:lc(cs.focus),_groupFocusVisible:Cf(cs.focusVisible),_peerFocusVisible:lc(cs.focusVisible),_groupActive:Cf(cs.active),_peerActive:lc(cs.active),_groupDisabled:Cf(cs.disabled),_peerDisabled:lc(cs.disabled),_groupInvalid:Cf(cs.invalid),_peerInvalid:lc(cs.invalid),_groupChecked:Cf(cs.checked),_peerChecked:lc(cs.checked),_groupFocusWithin:Cf(cs.focusWithin),_peerFocusWithin:lc(cs.focusWithin),_peerPlaceholderShown:lc(cs.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},Ire=Object.keys(pT);function v4(t,e){return Ih(String(t).replace(/\./g,"-"),void 0,e)}function kre(t,e){let n={};const r={};for(const[i,s]of Object.entries(t)){const{isSemantic:o,value:a}=s,{variable:l,reference:u}=v4(i,e==null?void 0:e.cssVarPrefix);if(!o){if(i.startsWith("space")){const m=i.split("."),[v,...y]=m,x=`${v}.-${y.join(".")}`,_=Vd.negate(a),b=Vd.negate(u);r[x]={value:_,var:l,varRef:b}}n[l]=a,r[i]={value:a,var:l,varRef:u};continue}const c=m=>{const y=[String(i).split(".")[0],m].join(".");if(!t[y])return m;const{reference:_}=v4(y,e==null?void 0:e.cssVarPrefix);return _},p=kl(a)?a:{default:a};n=qa(n,Object.entries(p).reduce((m,[v,y])=>{var M;var x;const _=c(y);if(v==="default")return m[l]=_,m;const b=(M=(x=pT)==null?void 0:x[v])!=null?M:v;return m[b]={[l]:_},m},{})),r[i]={value:u,var:l,varRef:u}}return{cssVars:n,cssMap:r}}function Lre(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function Dre(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}var Ore=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur"];function Nre(t){return Dre(t,Ore)}function Fre(t){return t.semanticTokens}function zre(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...i}=t;return i}function Bre({tokens:t,semanticTokens:e}){var i,s;const n=Object.entries((i=DR(t))!=null?i:{}).map(([o,a])=>[o,{isSemantic:!1,value:a}]),r=Object.entries((s=DR(e,1))!=null?s:{}).map(([o,a])=>[o,{isSemantic:!0,value:a}]);return Object.fromEntries([...n,...r])}function DR(t,e=1/0){return!kl(t)&&!Array.isArray(t)||!e?t:Object.entries(t).reduce((n,[r,i])=>(kl(i)||Array.isArray(i)?Object.entries(DR(i,e-1)).forEach(([s,o])=>{n[`${r}.${s}`]=o}):n[r]=i,n),{})}function Ure(t){var e;const n=zre(t),r=Nre(n),i=Fre(n),s=Bre({tokens:r,semanticTokens:i}),o=(e=n.config)==null?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=kre(s,{cssVarPrefix:o});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:Rre(n.breakpoints)}),n}var Jk=qa({},Wb,Gn,ire,WM,za,sre,pre,ore,EH,dre,Zy,IR,Mr,xre,yre,mre,gre,are,vre);Object.assign({},Mr,za,WM,EH,Zy);var Vre=[...Object.keys(Jk),...Ire],Hre={...Jk,...pT},Wre=t=>t in Hre,$re=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const o in t){let a=Yd(t[o],e);if(a==null)continue;if(a=kl(a)&&n(a)?r(a):a,!Array.isArray(a)){s[o]=a;continue}const l=a.slice(0,i.length).length;for(let u=0;u<l;u+=1){const c=i==null?void 0:i[u];if(!c){s[o]=a[u];continue}s[c]=s[c]||{},a[u]!=null&&(s[c][o]=a[u])}}return s};function Gre(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const s=t[i];s==="("?(r=!0,n+=s):s===")"?(r=!1,n+=s):s===","&&!r?(e.push(n),n=""):n+=s}return n=n.trim(),n&&e.push(n),e}function jre(t){return/^var\(--.+\)$/.test(t)}var qre=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!jre(e),Xre=(t,e)=>{var o,a;if(e==null)return e;const n=l=>{var u,c;return(c=(u=t.__cssMap)==null?void 0:u[l])==null?void 0:c.varRef},r=l=>{var u;return(u=n(l))!=null?u:l},[i,s]=Gre(e);return e=(a=(o=n(i))!=null?o:r(s))!=null?a:r(e),e};function Yre(t){const{configs:e={},pseudos:n={},theme:r}=t,i=(s,o=!1)=>{var p,m;var a;const l=Yd(s,r),u=$re(l)(r);let c={};for(let v in u){const y=u[v];let x=Yd(y,r);v in n&&(v=n[v]),qre(v,x)&&(x=Xre(r,x));let _=e[v];if(_===!0&&(_={property:v}),kl(x)){c[v]=(p=c[v])!=null?p:{},c[v]=qa({},c[v],i(x,!0));continue}let b=(m=(a=_==null?void 0:_.transform)==null?void 0:a.call(_,x,r,l))!=null?m:x;b=_!=null&&_.processResult?i(b,!0):b;const M=Yd(_==null?void 0:_.property,r);if(!o&&(_==null?void 0:_.static)){const w=Yd(_.static,r);c=qa({},c,w)}if(M&&Array.isArray(M)){for(const w of M)c[w]=b;continue}if(M){M==="&"&&kl(b)?c=qa({},c,b):c[M]=b;continue}if(kl(b)){c=qa({},c,b);continue}c[v]=b}return c};return i}var PH=t=>e=>Yre({theme:e,pseudos:pT,configs:Jk})(t);function kr(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function Qre(t,e){if(Array.isArray(t))return t;if(kl(t))return e(t);if(t!=null)return[t]}function Kre(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function Zre(t){const e=t.__breakpoints;return function(r,i,s,o){var a,l;if(!e)return;const u={},c=Qre(s,e.toArrayValue);if(!c)return u;const p=c.length,m=p===1,v=!!r.parts;for(let y=0;y<p;y++){const x=e.details[y],_=e.details[Kre(c,y)],b=Ly(x.minW,_==null?void 0:_._minW),M=Yd((a=r[i])==null?void 0:a[c[y]],o);if(!!M){if(v){(l=r.parts)==null||l.forEach(w=>{qa(u,{[w]:m?M[w]:{[b]:M[w]}})});continue}if(!v){m?qa(u,M):u[b]=M;continue}u[b]=M}}return u}}function Jre(t){return e=>{var o;const{variant:n,size:r,theme:i}=e,s=Zre(i);return qa({},Yd((o=t.baseStyle)!=null?o:{},e),s(t,"sizes",r,e),s(t,"variants",n,e))}}function eie(t,e,n){var s;var r,i;return(s=(i=(r=t.__cssMap)==null?void 0:r[`${e}.${n}`])==null?void 0:i.varRef)!=null?s:n}function di(t){return Lre(t,["styleConfig","size","variant","colorScheme"])}function tie(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function nie(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var rie=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(nie(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=tie(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ds="-ms-",$M="-moz-",jn="-webkit-",RH="comm",eL="rule",tL="decl",iie="@import",IH="@keyframes",sie=Math.abs,mT=String.fromCharCode,oie=Object.assign;function aie(t,e){return(((e<<2^Io(t,0))<<2^Io(t,1))<<2^Io(t,2))<<2^Io(t,3)}function kH(t){return t.trim()}function lie(t,e){return(t=e.exec(t))?t[0]:t}function Kn(t,e,n){return t.replace(e,n)}function OR(t,e){return t.indexOf(e)}function Io(t,e){return t.charCodeAt(e)|0}function $x(t,e,n){return t.slice(e,n)}function xu(t){return t.length}function nL(t){return t.length}function wS(t,e){return e.push(t),t}function uie(t,e){return t.map(e).join("")}var gT=1,u0=1,LH=0,Uo=0,bi=0,F0="";function vT(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:gT,column:u0,length:o,return:""}}function sy(t,e){return oie(vT("",null,null,"",null,null,0),t,{length:-t.length},e)}function cie(){return bi}function fie(){return bi=Uo>0?Io(F0,--Uo):0,u0--,bi===10&&(u0=1,gT--),bi}function ha(){return bi=Uo<LH?Io(F0,Uo++):0,u0++,bi===10&&(u0=1,gT++),bi}function Tu(){return Io(F0,Uo)}function $b(){return Uo}function Z1(t,e){return $x(F0,t,e)}function Gx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DH(t){return gT=u0=1,LH=xu(F0=t),Uo=0,[]}function OH(t){return F0="",t}function Gb(t){return kH(Z1(Uo-1,NR(t===91?t+2:t===40?t+1:t)))}function hie(t){for(;(bi=Tu())&&bi<33;)ha();return Gx(t)>2||Gx(bi)>3?"":" "}function die(t,e){for(;--e&&ha()&&!(bi<48||bi>102||bi>57&&bi<65||bi>70&&bi<97););return Z1(t,$b()+(e<6&&Tu()==32&&ha()==32))}function NR(t){for(;ha();)switch(bi){case t:return Uo;case 34:case 39:t!==34&&t!==39&&NR(bi);break;case 40:t===41&&NR(t);break;case 92:ha();break}return Uo}function pie(t,e){for(;ha()&&t+bi!==47+10;)if(t+bi===42+42&&Tu()===47)break;return"/*"+Z1(e,Uo-1)+"*"+mT(t===47?t:ha())}function mie(t){for(;!Gx(Tu());)ha();return Z1(t,Uo)}function gie(t){return OH(jb("",null,null,null,[""],t=DH(t),0,[0],t))}function jb(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,p=o,m=0,v=0,y=0,x=1,_=1,b=1,M=0,w="",T=i,A=s,k=r,L=w;_;)switch(y=M,M=ha()){case 40:if(y!=108&&L.charCodeAt(p-1)==58){OR(L+=Kn(Gb(M),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:L+=Gb(M);break;case 9:case 10:case 13:case 32:L+=hie(y);break;case 92:L+=die($b()-1,7);continue;case 47:switch(Tu()){case 42:case 47:wS(vie(pie(ha(),$b()),e,n),l);break;default:L+="/"}break;case 123*x:a[u++]=xu(L)*b;case 125*x:case 59:case 0:switch(M){case 0:case 125:_=0;case 59+c:v>0&&xu(L)-p&&wS(v>32?x4(L+";",r,n,p-1):x4(Kn(L," ","")+";",r,n,p-2),l);break;case 59:L+=";";default:if(wS(k=y4(L,e,n,u,c,i,a,w,T=[],A=[],p),s),M===123)if(c===0)jb(L,e,k,k,T,s,p,a,A);else switch(m){case 100:case 109:case 115:jb(t,k,k,r&&wS(y4(t,k,k,0,0,i,a,w,i,T=[],p),A),i,A,p,a,r?T:A);break;default:jb(L,k,k,k,[""],A,0,a,A)}}u=c=v=0,x=b=1,w=L="",p=o;break;case 58:p=1+xu(L),v=y;default:if(x<1){if(M==123)--x;else if(M==125&&x++==0&&fie()==125)continue}switch(L+=mT(M),M*x){case 38:b=c>0?1:(L+="\f",-1);break;case 44:a[u++]=(xu(L)-1)*b,b=1;break;case 64:Tu()===45&&(L+=Gb(ha())),m=Tu(),c=p=xu(w=L+=mie($b())),M++;break;case 45:y===45&&xu(L)==2&&(x=0)}}return s}function y4(t,e,n,r,i,s,o,a,l,u,c){for(var p=i-1,m=i===0?s:[""],v=nL(m),y=0,x=0,_=0;y<r;++y)for(var b=0,M=$x(t,p+1,p=sie(x=o[y])),w=t;b<v;++b)(w=kH(x>0?m[b]+" "+M:Kn(M,/&\f/g,m[b])))&&(l[_++]=w);return vT(t,e,n,i===0?eL:a,l,u,c)}function vie(t,e,n){return vT(t,e,n,RH,mT(cie()),$x(t,2,-2),0)}function x4(t,e,n,r){return vT(t,e,n,tL,$x(t,0,r),$x(t,r+1,-1),r)}function NH(t,e){switch(aie(t,e)){case 5103:return jn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return jn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return jn+t+$M+t+Ds+t+t;case 6828:case 4268:return jn+t+Ds+t+t;case 6165:return jn+t+Ds+"flex-"+t+t;case 5187:return jn+t+Kn(t,/(\w+).+(:[^]+)/,jn+"box-$1$2"+Ds+"flex-$1$2")+t;case 5443:return jn+t+Ds+"flex-item-"+Kn(t,/flex-|-self/,"")+t;case 4675:return jn+t+Ds+"flex-line-pack"+Kn(t,/align-content|flex-|-self/,"")+t;case 5548:return jn+t+Ds+Kn(t,"shrink","negative")+t;case 5292:return jn+t+Ds+Kn(t,"basis","preferred-size")+t;case 6060:return jn+"box-"+Kn(t,"-grow","")+jn+t+Ds+Kn(t,"grow","positive")+t;case 4554:return jn+Kn(t,/([^-])(transform)/g,"$1"+jn+"$2")+t;case 6187:return Kn(Kn(Kn(t,/(zoom-|grab)/,jn+"$1"),/(image-set)/,jn+"$1"),t,"")+t;case 5495:case 3959:return Kn(t,/(image-set\([^]*)/,jn+"$1$`$1");case 4968:return Kn(Kn(t,/(.+:)(flex-)?(.*)/,jn+"box-pack:$3"+Ds+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+jn+t+t;case 4095:case 3583:case 4068:case 2532:return Kn(t,/(.+)-inline(.+)/,jn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xu(t)-1-e>6)switch(Io(t,e+1)){case 109:if(Io(t,e+4)!==45)break;case 102:return Kn(t,/(.+:)(.+)-([^]+)/,"$1"+jn+"$2-$3$1"+$M+(Io(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~OR(t,"stretch")?NH(Kn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Io(t,e+1)!==115)break;case 6444:switch(Io(t,xu(t)-3-(~OR(t,"!important")&&10))){case 107:return Kn(t,":",":"+jn)+t;case 101:return Kn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+jn+(Io(t,14)===45?"inline-":"")+"box$3$1"+jn+"$2$3$1"+Ds+"$2box$3")+t}break;case 5936:switch(Io(t,e+11)){case 114:return jn+t+Ds+Kn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return jn+t+Ds+Kn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return jn+t+Ds+Kn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return jn+t+Ds+t+t}return t}function $g(t,e){for(var n="",r=nL(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function yie(t,e,n,r){switch(t.type){case iie:case tL:return t.return=t.return||t.value;case RH:return"";case IH:return t.return=t.value+"{"+$g(t.children,r)+"}";case eL:t.value=t.props.join(",")}return xu(n=$g(t.children,r))?t.return=t.value+"{"+n+"}":""}function xie(t){var e=nL(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function _ie(t){return function(e){e.root||(e=e.return)&&t(e)}}function wie(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case tL:t.return=NH(t.value,t.length);break;case IH:return $g([sy(t,{value:Kn(t.value,"@","@"+jn)})],r);case eL:if(t.length)return uie(t.props,function(i){switch(lie(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $g([sy(t,{props:[Kn(i,/:(read-\w+)/,":"+$M+"$1")]})],r);case"::placeholder":return $g([sy(t,{props:[Kn(i,/:(plac\w+)/,":"+jn+"input-$1")]}),sy(t,{props:[Kn(i,/:(plac\w+)/,":"+$M+"$1")]}),sy(t,{props:[Kn(i,/:(plac\w+)/,Ds+"input-$1")]})],r)}return""})}}var _4=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function FH(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Sie=function(e,n,r){for(var i=0,s=0;i=s,s=Tu(),i===38&&s===12&&(n[r]=1),!Gx(s);)ha();return Z1(e,Uo)},bie=function(e,n){var r=-1,i=44;do switch(Gx(i)){case 0:i===38&&Tu()===12&&(n[r]=1),e[r]+=Sie(Uo-1,n,r);break;case 2:e[r]+=Gb(i);break;case 4:if(i===44){e[++r]=Tu()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=mT(i)}while(i=ha());return e},Mie=function(e,n){return OH(bie(DH(e),n))},w4=new WeakMap,Eie=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!w4.get(r))&&!i){w4.set(e,!0);for(var s=[],o=Mie(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},Tie=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},Cie=[wie],Aie=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var _=x.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||Cie,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var _=x.getAttribute("data-emotion").split(" "),b=1;b<_.length;b++)s[_[b]]=!0;a.push(x)});var l,u=[Eie,Tie];{var c,p=[yie,_ie(function(x){c.insert(x)})],m=xie(u.concat(i,p)),v=function(_){return $g(gie(_),m)};l=function(_,b,M,w){c=M,v(_?_+"{"+b.styles+"}":b.styles),w&&(y.inserted[b.name]=!0)}}var y={key:n,sheet:new rie({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y};function Un(){return Un=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Un.apply(this,arguments)}var zH={exports:{}},lr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=typeof Symbol=="function"&&Symbol.for,rL=ss?Symbol.for("react.element"):60103,iL=ss?Symbol.for("react.portal"):60106,yT=ss?Symbol.for("react.fragment"):60107,xT=ss?Symbol.for("react.strict_mode"):60108,_T=ss?Symbol.for("react.profiler"):60114,wT=ss?Symbol.for("react.provider"):60109,ST=ss?Symbol.for("react.context"):60110,sL=ss?Symbol.for("react.async_mode"):60111,bT=ss?Symbol.for("react.concurrent_mode"):60111,MT=ss?Symbol.for("react.forward_ref"):60112,ET=ss?Symbol.for("react.suspense"):60113,Pie=ss?Symbol.for("react.suspense_list"):60120,TT=ss?Symbol.for("react.memo"):60115,CT=ss?Symbol.for("react.lazy"):60116,Rie=ss?Symbol.for("react.block"):60121,Iie=ss?Symbol.for("react.fundamental"):60117,kie=ss?Symbol.for("react.responder"):60118,Lie=ss?Symbol.for("react.scope"):60119;function ba(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case rL:switch(t=t.type,t){case sL:case bT:case yT:case _T:case xT:case ET:return t;default:switch(t=t&&t.$$typeof,t){case ST:case MT:case CT:case TT:case wT:return t;default:return e}}case iL:return e}}}function BH(t){return ba(t)===bT}lr.AsyncMode=sL;lr.ConcurrentMode=bT;lr.ContextConsumer=ST;lr.ContextProvider=wT;lr.Element=rL;lr.ForwardRef=MT;lr.Fragment=yT;lr.Lazy=CT;lr.Memo=TT;lr.Portal=iL;lr.Profiler=_T;lr.StrictMode=xT;lr.Suspense=ET;lr.isAsyncMode=function(t){return BH(t)||ba(t)===sL};lr.isConcurrentMode=BH;lr.isContextConsumer=function(t){return ba(t)===ST};lr.isContextProvider=function(t){return ba(t)===wT};lr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===rL};lr.isForwardRef=function(t){return ba(t)===MT};lr.isFragment=function(t){return ba(t)===yT};lr.isLazy=function(t){return ba(t)===CT};lr.isMemo=function(t){return ba(t)===TT};lr.isPortal=function(t){return ba(t)===iL};lr.isProfiler=function(t){return ba(t)===_T};lr.isStrictMode=function(t){return ba(t)===xT};lr.isSuspense=function(t){return ba(t)===ET};lr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yT||t===bT||t===_T||t===xT||t===ET||t===Pie||typeof t=="object"&&t!==null&&(t.$$typeof===CT||t.$$typeof===TT||t.$$typeof===wT||t.$$typeof===ST||t.$$typeof===MT||t.$$typeof===Iie||t.$$typeof===kie||t.$$typeof===Lie||t.$$typeof===Rie)};lr.typeOf=ba;(function(t){t.exports=lr})(zH);var UH=zH.exports,Die={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Oie={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},VH={};VH[UH.ForwardRef]=Die;VH[UH.Memo]=Oie;var Nie=!0;function Fie(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var HH=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Nie===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},WH=function(e,n,r){HH(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function zie(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Bie={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Uie=/[A-Z]|^ms/g,Vie=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$H=function(e){return e.charCodeAt(1)===45},S4=function(e){return e!=null&&typeof e!="boolean"},Z2=FH(function(t){return $H(t)?t:t.replace(Uie,"-$&").toLowerCase()}),b4=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Vie,function(r,i,s){return _u={name:i,styles:s,next:_u},i})}return Bie[e]!==1&&!$H(e)&&typeof n=="number"&&n!==0?n+"px":n};function jx(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return _u={name:n.name,styles:n.styles,next:_u},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)_u={name:r.name,styles:r.styles,next:_u},r=r.next;var i=n.styles+";";return i}return Hie(t,e,n)}case"function":{if(t!==void 0){var s=_u,o=n(t);return _u=s,jx(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function Hie(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=jx(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":S4(o)&&(r+=Z2(s)+":"+b4(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)S4(o[a])&&(r+=Z2(s)+":"+b4(s,o[a])+";");else{var l=jx(t,e,o);switch(s){case"animation":case"animationName":{r+=Z2(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var M4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,_u,oL=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";_u=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=jx(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=jx(r,n,e[a]),i&&(s+=o[a]);M4.lastIndex=0;for(var l="",u;(u=M4.exec(s))!==null;)l+="-"+u[1];var c=zie(s)+l;return{name:c,styles:s,next:_u}},Wie=function(e){return e()},GH=Ex["useInsertionEffect"]?Ex["useInsertionEffect"]:!1,$ie=GH||Wie,E4=GH||U.exports.useLayoutEffect,jH=U.exports.createContext(typeof HTMLElement<"u"?Aie({key:"css"}):null);jH.Provider;var qH=function(e){return U.exports.forwardRef(function(n,r){var i=U.exports.useContext(jH);return e(n,i,r)})},qx=U.exports.createContext({}),Gie=function(e,n){if(typeof n=="function"){var r=n(e);return r}return Un({},e,n)},jie=_4(function(t){return _4(function(e){return Gie(t,e)})}),qie=function(e){var n=U.exports.useContext(qx);return e.theme!==n&&(n=jie(n)(e.theme)),U.exports.createElement(qx.Provider,{value:n},e.children)},AT=qH(function(t,e){var n=t.styles,r=oL([n],void 0,U.exports.useContext(qx)),i=U.exports.useRef();return E4(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),E4(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&WH(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Xie(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return oL(e)}var Yie=function(){var e=Xie.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Cg(t){return typeof t=="function"}function Qie(t,e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),n}function Kie(t,e,n,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&t;r+=1)t=t[i[r]];return t===void 0?n:t}var Zie=t=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return t(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=t(r,i,s,o);return a.set(i,l),l}},XH=Zie(Kie);function YH(t,e){const n={};return Object.keys(t).forEach(r=>{const i=t[r];e(i,r,t)&&(n[r]=i)}),n}var QH=t=>YH(t,e=>e!=null);function KH(t,...e){return Cg(t)?t(...e):t}var Jie=(...t)=>e=>t.reduce((n,r)=>r(n),e);Object.freeze(["base","sm","md","lg","xl","2xl"]);function ese(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=t,i=U.exports.createContext(void 0);i.displayName=r;function s(){var o;const a=U.exports.useContext(i);if(!a&&e){const l=new Error(n);throw l.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,l,s),l}return a}return[i.Provider,s,i]}var tse=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nse=FH(function(t){return tse.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),rse=nse,ise=function(e){return e!=="theme"},T4=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?rse:ise},C4=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},sse=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return HH(n,r,i),$ie(function(){return WH(n,r,i)}),null},ose=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=C4(e,n,r),l=a||T4(i),u=!l("as");return function(){var c=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)p.push.apply(p,c);else{p.push(c[0][0]);for(var m=c.length,v=1;v<m;v++)p.push(c[v],c[0][v])}var y=qH(function(x,_,b){var M=u&&x.as||i,w="",T=[],A=x;if(x.theme==null){A={};for(var k in x)A[k]=x[k];A.theme=U.exports.useContext(qx)}typeof x.className=="string"?w=Fie(_.registered,T,x.className):x.className!=null&&(w=x.className+" ");var L=oL(p.concat(T),_.registered,A);w+=_.key+"-"+L.name,o!==void 0&&(w+=" "+o);var P=u&&a===void 0?T4(M):l,O={};for(var N in x)u&&N==="as"||P(N)&&(O[N]=x[N]);return O.className=w,O.ref=b,U.exports.createElement(U.exports.Fragment,null,U.exports.createElement(sse,{cache:_,serialized:L,isStringTag:typeof M=="string"}),U.exports.createElement(M,O))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=p,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(x,_){return t(x,Un({},n,_,{shouldForwardProp:C4(y,_,!0)})).apply(void 0,p)},y}},ase=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],FR=ose.bind();ase.forEach(function(t){FR[t]=FR(t)});var lse=typeof Element<"u",use=typeof Map=="function",cse=typeof Set=="function",fse=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function qb(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!qb(t[r],e[r]))return!1;return!0}var s;if(use&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!qb(r.value[1],e.get(r.value[0])))return!1;return!0}if(cse&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(fse&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(lse&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!qb(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var hse=function(e,n){try{return qb(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};function aL(){const t=U.exports.useContext(qx);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}function dse(){const t=Kk(),e=aL();return{...t,theme:e}}function pse(t,e,n){var i,s;if(e==null)return e;const r=o=>{var a,l;return(l=(a=t.__breakpoints)==null?void 0:a.asArray)==null?void 0:l[o]};return(s=(i=r(e))!=null?i:r(n))!=null?s:n}function mse(t,e,n){var i,s;if(e==null)return e;const r=o=>{var a,l;return(l=(a=t.__cssMap)==null?void 0:a[o])==null?void 0:l.value};return(s=(i=r(e))!=null?i:r(n))!=null?s:n}function gse(t,e,n){const r=Array.isArray(e)?e:[e],i=Array.isArray(n)?n:[n];return s=>{const o=i.filter(Boolean),a=r.map((l,u)=>{var p,m;if(t==="breakpoints")return pse(s,l,(p=o[u])!=null?p:l);const c=`${t}.${l}`;return mse(s,c,(m=o[u])!=null?m:l)});return Array.isArray(e)?a:a[0]}}function vse(t){const{cssVarsRoot:e,theme:n,children:r}=t,i=U.exports.useMemo(()=>Ure(n),[n]);return jt(qie,{theme:i,children:[J(yse,{root:e}),r]})}function yse({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return J(AT,{styles:n=>({[e]:n.__cssVars})})}ese({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function xse(){const{colorMode:t}=Kk();return J(AT,{styles:e=>{const n=XH(e,"styles.global"),r=KH(n,{theme:e,colorMode:t});return r?PH(r)(e):void 0}})}var _se=new Set([...Vre,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),wse=new Set(["htmlWidth","htmlHeight","htmlSize"]);function Sse(t){return wse.has(t)||!_se.has(t)}var bse=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:i,sx:s,...o}=e,a=YH(o,(p,m)=>Wre(m)),l=KH(t,e),u=Object.assign({},i,l,QH(a),s),c=PH(u)(e.theme);return r?[c,r]:c};function J2(t,e){const{baseStyle:n,...r}=e!=null?e:{};r.shouldForwardProp||(r.shouldForwardProp=Sse);const i=bse({baseStyle:n}),s=FR(t,r)(i);return Ye.forwardRef(function(l,u){const{colorMode:c,forced:p}=Kk();return Ye.createElement(s,{ref:u,"data-theme":p?c:void 0,...l})})}function Et(t){return U.exports.forwardRef(t)}function ZH(t,e={}){var c;const{styleConfig:n,...r}=e,{theme:i,colorMode:s}=dse(),o=XH(i,`components.${t}`),a=n||o,l=qa({theme:i,colorMode:s},(c=a==null?void 0:a.defaultProps)!=null?c:{},QH(Qie(r,["children"]))),u=U.exports.useRef({});if(a){const m=Jre(a)(l);hse(u.current,m)||(u.current=m)}return u.current}function Vo(t,e={}){return ZH(t,e)}function Vp(t,e={}){return ZH(t,e)}function Mse(){const t=new Map;return new Proxy(J2,{apply(e,n,r){return J2(...r)},get(e,n){return t.has(n)||t.set(n,J2(n)),t.get(n)}})}var xt=Mse();function Ese(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Bl(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s}=t,o=U.exports.createContext(void 0);o.displayName=e;function a(){var l;const u=U.exports.useContext(o);if(!u&&n){const c=new Error(s!=null?s:Ese(r,i));throw c.name="ContextError",(l=Error.captureStackTrace)==null||l.call(Error,c,a),c}return u}return[o.Provider,a,o]}function Tse(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function c0(...t){return e=>{t.forEach(n=>{Tse(n,e)})}}function Cse(...t){return U.exports.useMemo(()=>c0(...t),t)}var pi=(...t)=>t.filter(Boolean).join(" "),A4={path:jt("g",{stroke:"currentColor",strokeWidth:"1.5",children:[J("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),J("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),J("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Hp=Et((t,e)=>{const{as:n,viewBox:r,color:i="currentColor",focusable:s=!1,children:o,className:a,__css:l,...u}=t,c=pi("chakra-icon",a),p={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l},m={ref:e,focusable:s,className:c,__css:p},v=r!=null?r:A4.viewBox;if(n&&typeof n!="string")return Ye.createElement(xt.svg,{as:n,...m,...u});const y=o!=null?o:A4.path;return Ye.createElement(xt.svg,{verticalAlign:"middle",viewBox:v,...m,...u},y)});Hp.displayName="Icon";function GM(t,e=[]){const n=U.exports.useRef(t);return U.exports.useEffect(()=>{n.current=t}),U.exports.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}const lL=U.exports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),PT=U.exports.createContext({});function Ase(){return U.exports.useContext(PT).visualElement}const z0=U.exports.createContext(null),Wp=typeof document<"u",jM=Wp?U.exports.useLayoutEffect:U.exports.useEffect,JH=U.exports.createContext({strict:!1});function Pse(t,e,n,r){const i=Ase(),s=U.exports.useContext(JH),o=U.exports.useContext(z0),a=U.exports.useContext(lL).reducedMotion,l=U.exports.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceId:o?o.id:void 0,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return jM(()=>{u&&u.render()}),U.exports.useEffect(()=>{u&&u.animationState&&u.animationState.animateChanges()}),jM(()=>()=>u&&u.notify("Unmount"),[]),u}function Ag(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Rse(t,e,n){return U.exports.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ag(n)&&(n.current=r))},[e])}function Xx(t){return typeof t=="string"||Array.isArray(t)}function RT(t){return typeof t=="object"&&typeof t.start=="function"}const Ise=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function IT(t){return RT(t.animate)||Ise.some(e=>Xx(t[e]))}function eW(t){return Boolean(IT(t)||t.variants)}function kse(t,e){if(IT(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Xx(n)?n:void 0,animate:Xx(r)?r:void 0}}return t.inherit!==!1?e:{}}function Lse(t){const{initial:e,animate:n}=kse(t,U.exports.useContext(PT));return U.exports.useMemo(()=>({initial:e,animate:n}),[P4(e),P4(n)])}function P4(t){return Array.isArray(t)?t.join(" "):t}const uc=t=>({isEnabled:e=>t.some(n=>!!e[n])}),Yx={measureLayout:uc(["layout","layoutId","drag"]),animation:uc(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:uc(["exit"]),drag:uc(["drag","dragControls"]),focus:uc(["whileFocus"]),hover:uc(["whileHover","onHoverStart","onHoverEnd"]),tap:uc(["whileTap","onTap","onTapStart","onTapCancel"]),pan:uc(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:uc(["whileInView","onViewportEnter","onViewportLeave"])};function Dse(t){for(const e in t)e==="projectionNodeConstructor"?Yx.projectionNodeConstructor=t[e]:Yx[e].Component=t[e]}function kT(t){const e=U.exports.useRef(null);return e.current===null&&(e.current=t()),e.current}const Jy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Ose=1;function Nse(){return kT(()=>{if(Jy.hasEverUpdated)return Ose++})}const uL=U.exports.createContext({});class Fse extends Ye.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:n}=this.props;return e&&e.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const tW=U.exports.createContext({}),zse=Symbol.for("motionComponentSymbol");function Bse({preloadedFeatures:t,createVisualElement:e,projectionNodeConstructor:n,useRender:r,useVisualState:i,Component:s}){t&&Dse(t);function o(l,u){const c={...U.exports.useContext(lL),...l,layoutId:Use(l)},{isStatic:p}=c;let m=null;const v=Lse(l),y=p?void 0:Nse(),x=i(l,p);if(!p&&Wp){v.visualElement=Pse(s,x,c,e);const _=U.exports.useContext(JH).strict,b=U.exports.useContext(tW);v.visualElement&&(m=v.visualElement.loadFeatures(c,_,t,y,n||Yx.projectionNodeConstructor,b))}return jt(Fse,{visualElement:v.visualElement,props:c,children:[m,J(PT.Provider,{value:v,children:r(s,l,y,Rse(x,v.visualElement,u),x,p,v.visualElement)})]})}const a=U.exports.forwardRef(o);return a[zse]=s,a}function Use({layoutId:t}){const e=U.exports.useContext(uL).id;return e&&t!==void 0?e+"-"+t:t}function Vse(t){function e(r,i={}){return Bse(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Hse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function cL(t){return typeof t!="string"||t.includes("-")?!1:!!(Hse.indexOf(t)>-1||/[A-Z]/.test(t))}const qM={};function Wse(t){Object.assign(qM,t)}const XM=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],J1=new Set(XM);function nW(t,{layout:e,layoutId:n}){return J1.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qM[t]||t==="opacity")}const ku=t=>!!(t!=null&&t.getVelocity),$se={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gse=(t,e)=>XM.indexOf(t)-XM.indexOf(e);function jse({transform:t,transformKeys:e},{enableHardwareAcceleration:n=!0,allowTransformNone:r=!0},i,s){let o="";e.sort(Gse);for(const a of e)o+=`${$se[a]||a}(${t[a]}) `;return n&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,i?"":o):r&&i&&(o="none"),o}function rW(t){return t.startsWith("--")}const qse=(t,e)=>e&&typeof t=="number"?e.transform(t):t,iW=(t,e)=>n=>Math.max(Math.min(n,e),t),ex=t=>t%1?Number(t.toFixed(5)):t,Qx=/(-)?([\d]*\.?[\d])+/g,zR=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Xse=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function e_(t){return typeof t=="string"}const $p={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tx=Object.assign(Object.assign({},$p),{transform:iW(0,1)}),SS=Object.assign(Object.assign({},$p),{default:1}),t_=t=>({test:e=>e_(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Nf=t_("deg"),Cu=t_("%"),Yt=t_("px"),Yse=t_("vh"),Qse=t_("vw"),R4=Object.assign(Object.assign({},Cu),{parse:t=>Cu.parse(t)/100,transform:t=>Cu.transform(t*100)}),fL=(t,e)=>n=>Boolean(e_(n)&&Xse.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),sW=(t,e,n)=>r=>{if(!e_(r))return r;const[i,s,o,a]=r.match(Qx);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Qd={test:fL("hsl","hue"),parse:sW("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Cu.transform(ex(e))+", "+Cu.transform(ex(n))+", "+ex(tx.transform(r))+")"},Kse=iW(0,255),eA=Object.assign(Object.assign({},$p),{transform:t=>Math.round(Kse(t))}),qf={test:fL("rgb","red"),parse:sW("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+eA.transform(t)+", "+eA.transform(e)+", "+eA.transform(n)+", "+ex(tx.transform(r))+")"};function Zse(t){let e="",n="",r="",i="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),i=t.substr(4,1),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const BR={test:fL("#"),parse:Zse,transform:qf.transform},ho={test:t=>qf.test(t)||BR.test(t)||Qd.test(t),parse:t=>qf.test(t)?qf.parse(t):Qd.test(t)?Qd.parse(t):BR.parse(t),transform:t=>e_(t)?t:t.hasOwnProperty("red")?qf.transform(t):Qd.transform(t)},oW="${c}",aW="${n}";function Jse(t){var e,n,r,i;return isNaN(t)&&e_(t)&&((n=(e=t.match(Qx))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((i=(r=t.match(zR))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function lW(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const r=t.match(zR);r&&(n=r.length,t=t.replace(zR,oW),e.push(...r.map(ho.parse)));const i=t.match(Qx);return i&&(t=t.replace(Qx,aW),e.push(...i.map($p.parse))),{values:e,numColors:n,tokenised:t}}function uW(t){return lW(t).values}function cW(t){const{values:e,numColors:n,tokenised:r}=lW(t),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?oW:aW,a<n?ho.transform(s[a]):ex(s[a]));return o}}const eoe=t=>typeof t=="number"?0:t;function toe(t){const e=uW(t);return cW(t)(e.map(eoe))}const Fc={test:Jse,parse:uW,createTransformer:cW,getAnimatableNone:toe},noe=new Set(["brightness","contrast","saturate","opacity"]);function roe(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Qx)||[];if(!r)return t;const i=n.replace(r,"");let s=noe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const ioe=/([a-z-]*)\(.*?\)/g,UR=Object.assign(Object.assign({},Fc),{getAnimatableNone:t=>{const e=t.match(ioe);return e?e.map(roe).join(" "):t}}),I4={...$p,transform:Math.round},fW={borderWidth:Yt,borderTopWidth:Yt,borderRightWidth:Yt,borderBottomWidth:Yt,borderLeftWidth:Yt,borderRadius:Yt,radius:Yt,borderTopLeftRadius:Yt,borderTopRightRadius:Yt,borderBottomRightRadius:Yt,borderBottomLeftRadius:Yt,width:Yt,maxWidth:Yt,height:Yt,maxHeight:Yt,size:Yt,top:Yt,right:Yt,bottom:Yt,left:Yt,padding:Yt,paddingTop:Yt,paddingRight:Yt,paddingBottom:Yt,paddingLeft:Yt,margin:Yt,marginTop:Yt,marginRight:Yt,marginBottom:Yt,marginLeft:Yt,rotate:Nf,rotateX:Nf,rotateY:Nf,rotateZ:Nf,scale:SS,scaleX:SS,scaleY:SS,scaleZ:SS,skew:Nf,skewX:Nf,skewY:Nf,distance:Yt,translateX:Yt,translateY:Yt,translateZ:Yt,x:Yt,y:Yt,z:Yt,perspective:Yt,transformPerspective:Yt,opacity:tx,originX:R4,originY:R4,originZ:Yt,zIndex:I4,fillOpacity:tx,strokeOpacity:tx,numOctaves:I4};function hL(t,e,n,r){const{style:i,vars:s,transform:o,transformKeys:a,transformOrigin:l}=t;a.length=0;let u=!1,c=!1,p=!0;for(const m in e){const v=e[m];if(rW(m)){s[m]=v;continue}const y=fW[m],x=qse(v,y);if(J1.has(m)){if(u=!0,o[m]=x,a.push(m),!p)continue;v!==(y.default||0)&&(p=!1)}else m.startsWith("origin")?(c=!0,l[m]=x):i[m]=x}if(e.transform||(u||r?i.transform=jse(t,n,p,r):i.transform&&(i.transform="none")),c){const{originX:m="50%",originY:v="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${v} ${y}`}}const dL=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function hW(t,e,n){for(const r in e)!ku(e[r])&&!nW(r,n)&&(t[r]=e[r])}function soe({transformTemplate:t},e,n){return U.exports.useMemo(()=>{const r=dL();return hL(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function ooe(t,e,n){const r=t.style||{},i={};return hW(i,r,t),Object.assign(i,soe(t,e,n)),t.transformValues?t.transformValues(i):i}function aoe(t,e,n){const r={},i=ooe(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),r.style=i,r}const loe=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],uoe=["whileTap","onTap","onTapStart","onTapCancel"],coe=["onPan","onPanStart","onPanSessionStart","onPanEnd"],foe=["whileInView","onViewportEnter","onViewportLeave","viewport"],hoe=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...foe,...uoe,...loe,...coe]);function YM(t){return hoe.has(t)}let dW=t=>!YM(t);function doe(t){!t||(dW=e=>e.startsWith("on")?!YM(e):t(e))}try{doe(require("@emotion/is-prop-valid").default)}catch{}function poe(t,e,n){const r={};for(const i in t)(dW(i)||n===!0&&YM(i)||!e&&!YM(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function k4(t,e,n){return typeof t=="string"?t:Yt.transform(e+n*t)}function moe(t,e,n){const r=k4(e,t.x,t.width),i=k4(n,t.y,t.height);return`${r} ${i}`}const goe={offset:"stroke-dashoffset",array:"stroke-dasharray"},voe={offset:"strokeDashoffset",array:"strokeDasharray"};function yoe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?goe:voe;t[s.offset]=Yt.transform(-r);const o=Yt.transform(e),a=Yt.transform(n);t[s.array]=`${o} ${a}`}function pL(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,c){hL(t,l,u,c),t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:v}=t;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(r!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=moe(v,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),s!==void 0&&yoe(p,s,o,a,!1)}const pW=()=>({...dL(),attrs:{}});function xoe(t,e){const n=U.exports.useMemo(()=>{const r=pW();return pL(r,e,{enableHardwareAcceleration:!1},t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};hW(r,t.style,t),n.style={...r,...n.style}}return n}function _oe(t=!1){return(n,r,i,s,{latestValues:o},a)=>{const u=(cL(n)?xoe:aoe)(r,o,a),p={...poe(r,typeof n=="string",t),...u,ref:s};return i&&(p["data-projection-id"]=i),U.exports.createElement(n,p)}}const mW=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function gW(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const vW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function yW(t,e,n,r){gW(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(vW.has(i)?i:mW(i),e.attrs[i])}function mL(t){const{style:e}=t,n={};for(const r in e)(ku(e[r])||nW(r,t))&&(n[r]=e[r]);return n}function xW(t){const e=mL(t);for(const n in t)if(ku(t[n])){const r=n==="x"||n==="y"?"attr"+n.toUpperCase():n;e[r]=t[n]}return e}function gL(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const Kx=t=>Array.isArray(t),woe=t=>Boolean(t&&typeof t=="object"&&t.mix&&t.toValue),_W=t=>Kx(t)?t[t.length-1]||0:t;function Xb(t){const e=ku(t)?t.get():t;return woe(e)?e.toValue():e}function Soe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:boe(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const wW=t=>(e,n)=>{const r=U.exports.useContext(PT),i=U.exports.useContext(z0),s=()=>Soe(t,e,r,i);return n?s():kT(s)};function boe(t,e,n,r){const i={},s=r(t);for(const m in s)i[m]=Xb(s[m]);let{initial:o,animate:a}=t;const l=IT(t),u=eW(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const p=c?a:o;return p&&typeof p!="boolean"&&!RT(p)&&(Array.isArray(p)?p:[p]).forEach(v=>{const y=gL(t,v);if(!y)return;const{transitionEnd:x,transition:_,...b}=y;for(const M in b){let w=b[M];if(Array.isArray(w)){const T=c?w.length-1:0;w=w[T]}w!==null&&(i[M]=w)}for(const M in x)i[M]=x[M]}),i}const Moe={useVisualState:wW({scrapeMotionValuesFromProps:xW,createRenderState:pW,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}pL(n,r,{enableHardwareAcceleration:!1},t.transformTemplate),yW(e,n)}})},Eoe={useVisualState:wW({scrapeMotionValuesFromProps:mL,createRenderState:dL})};function Toe(t,{forwardMotionProps:e=!1},n,r,i){return{...cL(t)?Moe:Eoe,preloadedFeatures:n,useRender:_oe(e),createVisualElement:r,projectionNodeConstructor:i,Component:t}}var yr;(function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"})(yr||(yr={}));function LT(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function VR(t,e,n,r){U.exports.useEffect(()=>{const i=t.current;if(n&&i)return LT(i,e,n,r)},[t,e,n,r])}function Coe({whileFocus:t,visualElement:e}){const{animationState:n}=e,r=()=>{n&&n.setActive(yr.Focus,!0)},i=()=>{n&&n.setActive(yr.Focus,!1)};VR(e,"focus",t?r:void 0),VR(e,"blur",t?i:void 0)}function SW(t){return typeof PointerEvent<"u"&&t instanceof PointerEvent?t.pointerType==="mouse":t instanceof MouseEvent}function bW(t){return!!t.touches}function Aoe(t){return e=>{const n=e instanceof MouseEvent;(!n||n&&e.button===0)&&t(e)}}const Poe={pageX:0,pageY:0};function Roe(t,e="page"){const r=t.touches[0]||t.changedTouches[0]||Poe;return{x:r[e+"X"],y:r[e+"Y"]}}function Ioe(t,e="page"){return{x:t[e+"X"],y:t[e+"Y"]}}function vL(t,e="page"){return{point:bW(t)?Roe(t,e):Ioe(t,e)}}const MW=(t,e=!1)=>{const n=r=>t(r,vL(r));return e?Aoe(n):n},koe=()=>Wp&&window.onpointerdown===null,Loe=()=>Wp&&window.ontouchstart===null,Doe=()=>Wp&&window.onmousedown===null,Ooe={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Noe={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function EW(t){return koe()?t:Loe()?Noe[t]:Doe()?Ooe[t]:t}function Gg(t,e,n,r){return LT(t,EW(e),MW(n,e==="pointerdown"),r)}function QM(t,e,n,r){return VR(t,EW(e),n&&MW(n,e==="pointerdown"),r)}function TW(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const L4=TW("dragHorizontal"),D4=TW("dragVertical");function CW(t){let e=!1;if(t==="y")e=D4();else if(t==="x")e=L4();else{const n=L4(),r=D4();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function AW(){const t=CW(!0);return t?(t(),!1):!0}function O4(t,e,n){return(r,i)=>{!SW(r)||AW()||(t.animationState&&t.animationState.setActive(yr.Hover,e),n&&n(r,i))}}function Foe({onHoverStart:t,onHoverEnd:e,whileHover:n,visualElement:r}){QM(r,"pointerenter",t||n?O4(r,!0,t):void 0,{passive:!t}),QM(r,"pointerleave",e||n?O4(r,!1,e):void 0,{passive:!e})}const PW=(t,e)=>e?t===e?!0:PW(t,e.parentElement):!1;function yL(t){return U.exports.useEffect(()=>()=>t(),[])}function RW(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var zoe=function(){},KM=function(){};const ZM=(t,e,n)=>Math.min(Math.max(n,t),e),tA=.001,Boe=.01,N4=10,Uoe=.05,Voe=1;function Hoe({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;zoe(t<=N4*1e3);let o=1-e;o=ZM(Uoe,Voe,o),t=ZM(Boe,N4,t/1e3),o<1?(i=u=>{const c=u*o,p=c*t,m=c-n,v=HR(u,o),y=Math.exp(-p);return tA-m/v*y},s=u=>{const p=u*o*t,m=p*n+n,v=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-p),x=HR(Math.pow(u,2),o);return(-i(u)+tA>0?-1:1)*((m-v)*y)/x}):(i=u=>{const c=Math.exp(-u*t),p=(u-n)*t+1;return-tA+c*p},s=u=>{const c=Math.exp(-u*t),p=(n-u)*(t*t);return c*p});const a=5/t,l=$oe(i,s,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const Woe=12;function $oe(t,e,n){let r=n;for(let i=1;i<Woe;i++)r=r-t(r)/e(r);return r}function HR(t,e){return t*Math.sqrt(1-e*e)}const Goe=["duration","bounce"],joe=["stiffness","damping","mass"];function F4(t,e){return e.some(n=>t[n]!==void 0)}function qoe(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!F4(t,joe)&&F4(t,Goe)){const n=Hoe(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function xL(t){var{from:e=0,to:n=1,restSpeed:r=2,restDelta:i}=t,s=RW(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:l,mass:u,velocity:c,duration:p,isResolvedFromDuration:m}=qoe(s),v=z4,y=z4;function x(){const _=c?-(c/1e3):0,b=n-e,M=l/(2*Math.sqrt(a*u)),w=Math.sqrt(a/u)/1e3;if(i===void 0&&(i=Math.min(Math.abs(n-e)/100,.4)),M<1){const T=HR(w,M);v=A=>{const k=Math.exp(-M*w*A);return n-k*((_+M*w*b)/T*Math.sin(T*A)+b*Math.cos(T*A))},y=A=>{const k=Math.exp(-M*w*A);return M*w*k*(Math.sin(T*A)*(_+M*w*b)/T+b*Math.cos(T*A))-k*(Math.cos(T*A)*(_+M*w*b)-T*b*Math.sin(T*A))}}else if(M===1)v=T=>n-Math.exp(-w*T)*(b+(_+w*b)*T);else{const T=w*Math.sqrt(M*M-1);v=A=>{const k=Math.exp(-M*w*A),L=Math.min(T*A,300);return n-k*((_+M*w*b)*Math.sinh(L)+T*b*Math.cosh(L))/T}}}return x(),{next:_=>{const b=v(_);if(m)o.done=_>=p;else{const M=y(_)*1e3,w=Math.abs(M)<=r,T=Math.abs(n-b)<=i;o.done=w&&T}return o.value=o.done?n:b,o},flipTarget:()=>{c=-c,[e,n]=[n,e],x()}}}xL.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const z4=t=>0,Zx=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Jr=(t,e,n)=>-n*t+n*e+t;function nA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function B4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=nA(l,a,t+1/3),s=nA(l,a,t),o=nA(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Xoe=(t,e,n)=>{const r=t*t,i=e*e;return Math.sqrt(Math.max(0,n*(i-r)+r))},Yoe=[BR,qf,Qd],U4=t=>Yoe.find(e=>e.test(t)),IW=(t,e)=>{let n=U4(t),r=U4(e),i=n.parse(t),s=r.parse(e);n===Qd&&(i=B4(i),n=qf),r===Qd&&(s=B4(s),r=qf);const o=Object.assign({},i);return a=>{for(const l in o)l!=="alpha"&&(o[l]=Xoe(i[l],s[l],a));return o.alpha=Jr(i.alpha,s.alpha,a),n.transform(o)}},WR=t=>typeof t=="number",Qoe=(t,e)=>n=>e(t(n)),DT=(...t)=>t.reduce(Qoe);function kW(t,e){return WR(t)?n=>Jr(t,e,n):ho.test(t)?IW(t,e):DW(t,e)}const LW=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>kW(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},Koe=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=kW(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}};function V4(t){const e=Fc.parse(t),n=e.length;let r=0,i=0,s=0;for(let o=0;o<n;o++)r||typeof e[o]=="number"?r++:e[o].hue!==void 0?s++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:s}}const DW=(t,e)=>{const n=Fc.createTransformer(e),r=V4(t),i=V4(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?DT(LW(r.parsed,i.parsed),n):o=>`${o>0?e:t}`},Zoe=(t,e)=>n=>Jr(t,e,n);function Joe(t){if(typeof t=="number")return Zoe;if(typeof t=="string")return ho.test(t)?IW:DW;if(Array.isArray(t))return LW;if(typeof t=="object")return Koe}function eae(t,e,n){const r=[],i=n||Joe(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=DT(l,a)}r.push(a)}return r}function tae([t,e],[n]){return r=>n(Zx(t,e,r))}function nae(t,e){const n=t.length,r=n-1;return i=>{let s=0,o=!1;if(i<=t[0]?o=!0:i>=t[r]&&(s=r-1,o=!0),!o){let l=1;for(;l<n&&!(t[l]>i||l===r);l++);s=l-1}const a=Zx(t[s],t[s+1],i);return e[s](a)}}function OW(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;KM(s===e.length),KM(!r||!Array.isArray(r)||r.length===s-1),t[0]>t[s-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=eae(e,r,i),a=s===2?tae(t,o):nae(t,o);return n?l=>a(ZM(t[0],t[s-1],l)):a}const OT=t=>e=>1-t(1-e),_L=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,rae=t=>e=>Math.pow(e,t),NW=t=>e=>e*e*((t+1)*e-t),iae=t=>{const e=NW(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},FW=1.525,sae=4/11,oae=8/11,aae=9/10,wL=t=>t,SL=rae(2),lae=OT(SL),zW=_L(SL),BW=t=>1-Math.sin(Math.acos(t)),bL=OT(BW),uae=_L(bL),ML=NW(FW),cae=OT(ML),fae=_L(ML),hae=iae(FW),dae=4356/361,pae=35442/1805,mae=16061/1805,JM=t=>{if(t===1||t===0)return t;const e=t*t;return t<sae?7.5625*e:t<oae?9.075*e-9.9*t+3.4:t<aae?dae*e-pae*t+mae:10.8*t*t-20.52*t+10.72},gae=OT(JM),vae=t=>t<.5?.5*(1-JM(1-t*2)):.5*JM(t*2-1)+.5;function yae(t,e){return t.map(()=>e||zW).splice(0,t.length-1)}function xae(t){const e=t.length;return t.map((n,r)=>r!==0?r/(e-1):0)}function _ae(t,e){return t.map(n=>n*e)}function Yb({from:t=0,to:e=1,ease:n,offset:r,duration:i=300}){const s={done:!1,value:t},o=Array.isArray(e)?e:[t,e],a=_ae(r&&r.length===o.length?r:xae(o),i);function l(){return OW(a,o,{ease:Array.isArray(n)?n:yae(o,n)})}let u=l();return{next:c=>(s.value=u(c),s.done=c>=i,s),flipTarget:()=>{o.reverse(),u=l()}}}function wae({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o={done:!1,value:e};let a=n*t;const l=e+a,u=s===void 0?l:s(l);return u!==l&&(a=u-e),{next:c=>{const p=-a*Math.exp(-c/r);return o.done=!(p>i||p<-i),o.value=o.done?u:u+p,o},flipTarget:()=>{}}}const H4={keyframes:Yb,spring:xL,decay:wae};function Sae(t){if(Array.isArray(t.to))return Yb;if(H4[t.type])return H4[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?Yb:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?xL:Yb}const UW=1/60*1e3,bae=typeof performance<"u"?()=>performance.now():()=>Date.now(),VW=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(bae()),UW);function Mae(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const p=c&&i,m=p?e:n;return u&&o.add(l),m.indexOf(l)===-1&&(m.push(l),p&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Eae=40;let $R=!0,Jx=!1,GR=!1;const jg={delta:0,timestamp:0},n_=["read","update","preRender","render","postRender"],NT=n_.reduce((t,e)=>(t[e]=Mae(()=>Jx=!0),t),{}),Tae=n_.reduce((t,e)=>{const n=NT[e];return t[e]=(r,i=!1,s=!1)=>(Jx||Pae(),n.schedule(r,i,s)),t},{}),Cae=n_.reduce((t,e)=>(t[e]=NT[e].cancel,t),{});n_.reduce((t,e)=>(t[e]=()=>NT[e].process(jg),t),{});const Aae=t=>NT[t].process(jg),HW=t=>{Jx=!1,jg.delta=$R?UW:Math.max(Math.min(t-jg.timestamp,Eae),1),jg.timestamp=t,GR=!0,n_.forEach(Aae),GR=!1,Jx&&($R=!1,VW(HW))},Pae=()=>{Jx=!0,$R=!0,GR||VW(HW)},Rae=()=>jg;function WW(t,e,n=0){return t-e-n}function Iae(t,e,n=0,r=!0){return r?WW(e+-t,e,n):e-(t-e)+n}function kae(t,e,n,r){return r?t>=e+n:t<=-n}const Lae=t=>{const e=({delta:n})=>t(n);return{start:()=>Tae.update(e,!0),stop:()=>Cae.update(e)}};function $W(t){var e,n,{from:r,autoplay:i=!0,driver:s=Lae,elapsed:o=0,repeat:a=0,repeatType:l="loop",repeatDelay:u=0,onPlay:c,onStop:p,onComplete:m,onRepeat:v,onUpdate:y}=t,x=RW(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:_}=x,b,M=0,w=x.duration,T,A=!1,k=!0,L;const P=Sae(x);!((n=(e=P).needsInterpolation)===null||n===void 0)&&n.call(e,r,_)&&(L=OW([0,100],[r,_],{clamp:!1}),r=0,_=100);const O=P(Object.assign(Object.assign({},x),{from:r,to:_}));function N(){M++,l==="reverse"?(k=M%2===0,o=Iae(o,w,u,k)):(o=WW(o,w,u),l==="mirror"&&O.flipTarget()),A=!1,v&&v()}function H(){b.stop(),m&&m()}function ie(ee){if(k||(ee=-ee),o+=ee,!A){const ue=O.next(Math.max(0,o));T=ue.value,L&&(T=L(T)),A=k?ue.done:o<=0}y==null||y(T),A&&(M===0&&(w!=null||(w=o)),M<a?kae(o,w,u,k)&&N():H())}function te(){c==null||c(),b=s(ie),b.start()}return i&&te(),{stop:()=>{p==null||p(),b.stop()}}}function GW(t,e){return e?t*(1e3/e):0}function Dae({from:t=0,velocity:e=0,min:n,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:p,onComplete:m,onStop:v}){let y;function x(w){return n!==void 0&&w<n||r!==void 0&&w>r}function _(w){return n===void 0?r:r===void 0||Math.abs(n-w)<Math.abs(r-w)?n:r}function b(w){y==null||y.stop(),y=$W(Object.assign(Object.assign({},w),{driver:c,onUpdate:T=>{var A;p==null||p(T),(A=w.onUpdate)===null||A===void 0||A.call(w,T)},onComplete:m,onStop:v}))}function M(w){b(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:l},w))}if(x(t))M({from:t,velocity:e,to:_(t)});else{let w=i*e+t;typeof u<"u"&&(w=u(w));const T=_(w),A=T===n?-1:1;let k,L;const P=O=>{k=L,L=O,e=GW(O-k,Rae().delta),(A===1&&O>T||A===-1&&O<T)&&M({from:O,to:T,velocity:e})};b({type:"decay",from:t,velocity:e,timeConstant:s,power:i,restDelta:l,modifyTarget:u,onUpdate:x(w)?P:void 0})}return{stop:()=>y==null?void 0:y.stop()}}const jR=t=>t.hasOwnProperty("x")&&t.hasOwnProperty("y"),W4=t=>jR(t)&&t.hasOwnProperty("z"),bS=(t,e)=>Math.abs(t-e);function EL(t,e){if(WR(t)&&WR(e))return bS(t,e);if(jR(t)&&jR(e)){const n=bS(t.x,e.x),r=bS(t.y,e.y),i=W4(t)&&W4(e)?bS(t.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}const jW=(t,e)=>1-3*e+3*t,qW=(t,e)=>3*e-6*t,XW=t=>3*t,eE=(t,e,n)=>((jW(e,n)*t+qW(e,n))*t+XW(e))*t,YW=(t,e,n)=>3*jW(e,n)*t*t+2*qW(e,n)*t+XW(e),Oae=1e-7,Nae=10;function Fae(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=eE(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Oae&&++a<Nae);return o}const zae=8,Bae=.001;function Uae(t,e,n,r){for(let i=0;i<zae;++i){const s=YW(e,n,r);if(s===0)return e;const o=eE(e,n,r)-t;e-=o/s}return e}const Qb=11,MS=1/(Qb-1);function Vae(t,e,n,r){if(t===e&&n===r)return wL;const i=new Float32Array(Qb);for(let o=0;o<Qb;++o)i[o]=eE(o*MS,t,n);function s(o){let a=0,l=1;const u=Qb-1;for(;l!==u&&i[l]<=o;++l)a+=MS;--l;const c=(o-i[l])/(i[l+1]-i[l]),p=a+c*MS,m=YW(p,t,n);return m>=Bae?Uae(o,p,t,n):m===0?p:Fae(o,a,a+MS,t,n)}return o=>o===0||o===1?o:eE(s(o),e,r)}function Hae({onTap:t,onTapStart:e,onTapCancel:n,whileTap:r,visualElement:i}){const s=t||e||n||r,o=U.exports.useRef(!1),a=U.exports.useRef(null),l={passive:!(e||t||n||v)};function u(){a.current&&a.current(),a.current=null}function c(){return u(),o.current=!1,i.animationState&&i.animationState.setActive(yr.Tap,!1),!AW()}function p(y,x){!c()||(PW(i.current,y.target)?t&&t(y,x):n&&n(y,x))}function m(y,x){!c()||n&&n(y,x)}function v(y,x){u(),!o.current&&(o.current=!0,a.current=DT(Gg(window,"pointerup",p,l),Gg(window,"pointercancel",m,l)),i.animationState&&i.animationState.setActive(yr.Tap,!0),e&&e(y,x))}QM(i,"pointerdown",s?v:void 0,l),yL(u)}const Wae="production",QW=typeof process>"u"||process.env===void 0?Wae:"production",$4=new Set;function KW(t,e,n){t||$4.has(e)||(console.warn(e),n&&console.warn(n),$4.add(e))}const qR=new WeakMap,rA=new WeakMap,$ae=t=>{const e=qR.get(t.target);e&&e(t)},Gae=t=>{t.forEach($ae)};function jae({root:t,...e}){const n=t||document;rA.has(n)||rA.set(n,{});const r=rA.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Gae,{root:t,...e})),r[i]}function qae(t,e,n){const r=jae(e);return qR.set(t,n),r.observe(t),()=>{qR.delete(t),r.unobserve(t)}}function Xae({visualElement:t,whileInView:e,onViewportEnter:n,onViewportLeave:r,viewport:i={}}){const s=U.exports.useRef({hasEnteredView:!1,isInView:!1});let o=Boolean(e||n||r);i.once&&s.current.hasEnteredView&&(o=!1),(typeof IntersectionObserver>"u"?Kae:Qae)(o,s.current,t,i)}const Yae={some:0,all:1};function Qae(t,e,n,{root:r,margin:i,amount:s="some",once:o}){U.exports.useEffect(()=>{if(!t||!n.current)return;const a={root:r==null?void 0:r.current,rootMargin:i,threshold:typeof s=="number"?s:Yae[s]},l=u=>{const{isIntersecting:c}=u;if(e.isInView===c||(e.isInView=c,o&&!c&&e.hasEnteredView))return;c&&(e.hasEnteredView=!0),n.animationState&&n.animationState.setActive(yr.InView,c);const p=n.getProps(),m=c?p.onViewportEnter:p.onViewportLeave;m&&m(u)};return qae(n.current,a,l)},[t,r,i,s])}function Kae(t,e,n,{fallback:r=!0}){U.exports.useEffect(()=>{!t||!r||(QW!=="production"&&KW(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:i}=n.getProps();i&&i(null),n.animationState&&n.animationState.setActive(yr.InView,!0)}))},[t])}const Xf=t=>e=>(t(e),null),Zae={inView:Xf(Xae),tap:Xf(Hae),focus:Xf(Coe),hover:Xf(Foe)};function ZW(){const t=U.exports.useContext(z0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=U.exports.useId();return U.exports.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function Jae(){return ele(U.exports.useContext(z0))}function ele(t){return t===null?!0:t.isPresent}function JW(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const tE=t=>t*1e3,tle={linear:wL,easeIn:SL,easeInOut:zW,easeOut:lae,circIn:BW,circInOut:uae,circOut:bL,backIn:ML,backInOut:fae,backOut:cae,anticipate:hae,bounceIn:gae,bounceInOut:vae,bounceOut:JM},G4=t=>{if(Array.isArray(t)){KM(t.length===4);const[e,n,r,i]=t;return Vae(e,n,r,i)}else if(typeof t=="string")return tle[t];return t},nle=t=>Array.isArray(t)&&typeof t[0]!="number",j4=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Fc.test(e)&&!e.startsWith("url(")),bd=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),ES=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),iA=()=>({type:"keyframes",ease:"linear",duration:.3}),rle=t=>({type:"keyframes",duration:.8,values:t}),q4={x:bd,y:bd,z:bd,rotate:bd,rotateX:bd,rotateY:bd,rotateZ:bd,scaleX:ES,scaleY:ES,scale:ES,opacity:iA,backgroundColor:iA,color:iA,default:ES},ile=(t,e)=>{let n;return Kx(e)?n=rle:n=q4[t]||q4.default,{to:e,...n(e)}},sle={...fW,color:ho,backgroundColor:ho,outlineColor:ho,fill:ho,stroke:ho,borderColor:ho,borderTopColor:ho,borderRightColor:ho,borderBottomColor:ho,borderLeftColor:ho,filter:UR,WebkitFilter:UR},TL=t=>sle[t];function CL(t,e){var n;let r=TL(t);return r!==UR&&(r=Fc),(n=r.getAnimatableNone)===null||n===void 0?void 0:n.call(r,e)}const ole={current:!1},e$=1/60*1e3,ale=typeof performance<"u"?()=>performance.now():()=>Date.now(),t$=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(ale()),e$);function lle(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const p=c&&i,m=p?e:n;return u&&o.add(l),m.indexOf(l)===-1&&(m.push(l),p&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const ule=40;let XR=!0,e1=!1,YR=!1;const qg={delta:0,timestamp:0},r_=["read","update","preRender","render","postRender"],FT=r_.reduce((t,e)=>(t[e]=lle(()=>e1=!0),t),{}),Ll=r_.reduce((t,e)=>{const n=FT[e];return t[e]=(r,i=!1,s=!1)=>(e1||fle(),n.schedule(r,i,s)),t},{}),Tp=r_.reduce((t,e)=>(t[e]=FT[e].cancel,t),{}),sA=r_.reduce((t,e)=>(t[e]=()=>FT[e].process(qg),t),{}),cle=t=>FT[t].process(qg),n$=t=>{e1=!1,qg.delta=XR?e$:Math.max(Math.min(t-qg.timestamp,ule),1),qg.timestamp=t,YR=!0,r_.forEach(cle),YR=!1,e1&&(XR=!1,t$(n$))},fle=()=>{e1=!0,XR=!0,YR||t$(n$)},QR=()=>qg;function r$(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Tp.read(r),t(s-e))};return Ll.read(r,!0),()=>Tp.read(r)}function hle({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,...u}){return!!Object.keys(u).length}function dle({ease:t,times:e,yoyo:n,flip:r,loop:i,...s}){const o={...s};return e&&(o.offset=e),s.duration&&(o.duration=tE(s.duration)),s.repeatDelay&&(o.repeatDelay=tE(s.repeatDelay)),t&&(o.ease=nle(t)?t.map(G4):G4(t)),s.type==="tween"&&(o.type="keyframes"),(n||i||r)&&(n?o.repeatType="reverse":i?o.repeatType="loop":r&&(o.repeatType="mirror"),o.repeat=i||n||r||s.repeat),s.type!=="spring"&&(o.type="keyframes"),o}function ple(t,e){var n,r;return(r=(n=(AL(t,e)||{}).delay)!==null&&n!==void 0?n:t.delay)!==null&&r!==void 0?r:0}function mle(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function gle(t,e,n){return Array.isArray(e.to)&&t.duration===void 0&&(t.duration=.8),mle(e),hle(t)||(t={...t,...ile(n,e.to)}),{...e,...dle(t)}}function vle(t,e,n,r,i){const s=AL(r,t)||{};let o=s.from!==void 0?s.from:e.get();const a=j4(t,n);o==="none"&&a&&typeof n=="string"?o=CL(t,n):X4(o)&&typeof n=="string"?o=Y4(n):!Array.isArray(n)&&X4(n)&&typeof o=="string"&&(n=Y4(o));const l=j4(t,o);function u(){const p={from:o,to:n,velocity:e.getVelocity(),onComplete:i,onUpdate:m=>e.set(m)};return s.type==="inertia"||s.type==="decay"?Dae({...p,...s}):$W({...gle(s,p,t),onUpdate:m=>{p.onUpdate(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{p.onComplete(),s.onComplete&&s.onComplete()}})}function c(){const p=_W(n);return e.set(p),i(),s.onUpdate&&s.onUpdate(p),s.onComplete&&s.onComplete(),{stop:()=>{}}}return!l||!a||s.type===!1?c:u}function X4(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function Y4(t){return typeof t=="number"?0:CL("",t)}function AL(t,e){return t[e]||t.default||t}function PL(t,e,n,r={}){return ole.current&&(r={type:!1}),e.start(i=>{let s;const o=vle(t,e,n,r,i),a=ple(r,t),l=()=>s=o();let u;return a?u=r$(l,tE(a)):l(),()=>{u&&u(),s&&s.stop()}})}const yle=t=>/^\-?\d*\.?\d+$/.test(t),xle=t=>/^0[^.\s]+$/.test(t);function RL(t,e){t.indexOf(e)===-1&&t.push(e)}function IL(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class nx{constructor(){this.subscriptions=[]}add(e){return RL(this.subscriptions,e),()=>IL(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(!!i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _le=t=>!isNaN(parseFloat(t));class wle{constructor(e){this.version="7.6.7",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new nx,this.velocityUpdateSubscribers=new nx,this.renderSubscribers=new nx,this.canTrackVelocity=!1,this.updateAndNotify=(n,r=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:s}=QR();this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Ll.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),r&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>Ll.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=_le(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(e){return e(this.get()),this.renderSubscribers.add(e)}attach(e){this.passiveEffect=e}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?GW(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.stopAnimation=e(n)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function f0(t){return new wle(t)}const i$=t=>e=>e.test(t),Sle={test:t=>t==="auto",parse:t=>t},s$=[$p,Yt,Cu,Nf,Qse,Yse,Sle],oy=t=>s$.find(i$(t)),ble=[...s$,ho,Fc],Mle=t=>ble.find(i$(t));function Ele(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Tle(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function zT(t,e,n){const r=t.getProps();return gL(r,e,n!==void 0?n:r.custom,Ele(t),Tle(t))}function Cle(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,f0(n))}function Ale(t,e){const n=zT(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=_W(s[o]);Cle(t,o,a)}}function Ple(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(!!o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(yle(c)||xle(c))?c=parseFloat(c):!Mle(c)&&Fc.test(u)&&(c=CL(l,u)),t.addValue(l,f0(c)),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function Rle(t,e){return e?(e[t]||e.default||e).from:void 0}function Ile(t,e,n){var r;const i={};for(const s in t){const o=Rle(s,e);i[s]=o!==void 0?o:(r=n.getValue(s))===null||r===void 0?void 0:r.get()}return i}function nE(t){return Boolean(ku(t)&&t.add)}function kle(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>KR(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=KR(t,e,n);else{const i=typeof e=="function"?zT(t,e,n.custom):e;r=o$(t,i,n)}return r.then(()=>t.notify("AnimationComplete",e))}function KR(t,e,n={}){var r;const i=zT(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>o$(t,i,n):()=>Promise.resolve(),a=!((r=t.variantChildren)===null||r===void 0)&&r.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:p,staggerDirection:m}=s;return Lle(t,e,c+u,p,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(c)}else return Promise.all([o(),a(n.delay)])}function o$(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(o=r);const c=[],p=i&&((s=t.animationState)===null||s===void 0?void 0:s.getState()[i]);for(const m in l){const v=t.getValue(m),y=l[m];if(!v||y===void 0||p&&Ole(p,m))continue;let x={delay:n,...o};t.shouldReduceMotion&&J1.has(m)&&(x={...x,type:!1,delay:0});let _=PL(m,v,y,x);nE(u)&&(u.add(m),_=_.then(()=>u.remove(m))),c.push(_)}return Promise.all(c).then(()=>{a&&Ale(t,a)})}function Lle(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Dle).forEach((u,c)=>{o.push(KR(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Dle(t,e){return t.sortNodePosition(e)}function Ole({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}const kL=[yr.Animate,yr.InView,yr.Focus,yr.Hover,yr.Tap,yr.Drag,yr.Exit],Nle=[...kL].reverse(),Fle=kL.length;function zle(t){return e=>Promise.all(e.map(({animation:n,options:r})=>kle(t,n,r)))}function Ble(t){let e=zle(t);const n=Vle();let r=!0;const i=(l,u)=>{const c=zT(t,u);if(c){const{transition:p,transitionEnd:m,...v}=c;l={...l,...v,...m}}return l};function s(l){e=l(t)}function o(l,u){var c;const p=t.getProps(),m=t.getVariantContext(!0)||{},v=[],y=new Set;let x={},_=1/0;for(let M=0;M<Fle;M++){const w=Nle[M],T=n[w],A=(c=p[w])!==null&&c!==void 0?c:m[w],k=Xx(A),L=w===u?T.isActive:null;L===!1&&(_=M);let P=A===m[w]&&A!==p[w]&&k;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),T.protectedKeys={...x},!T.isActive&&L===null||!A&&!T.prevProp||RT(A)||typeof A=="boolean")continue;const O=Ule(T.prevProp,A);let N=O||w===u&&T.isActive&&!P&&k||M>_&&k;const H=Array.isArray(A)?A:[A];let ie=H.reduce(i,{});L===!1&&(ie={});const{prevResolvedValues:te={}}=T,ee={...te,...ie},ue=ae=>{N=!0,y.delete(ae),T.needsAnimating[ae]=!0};for(const ae in ee){const fe=ie[ae],z=te[ae];x.hasOwnProperty(ae)||(fe!==z?Kx(fe)&&Kx(z)?!JW(fe,z)||O?ue(ae):T.protectedKeys[ae]=!0:fe!==void 0?ue(ae):y.add(ae):fe!==void 0&&y.has(ae)?ue(ae):T.protectedKeys[ae]=!0)}T.prevProp=A,T.prevResolvedValues=ie,T.isActive&&(x={...x,...ie}),r&&t.blockInitialAnimation&&(N=!1),N&&!P&&v.push(...H.map(ae=>({animation:ae,options:{type:w,...l}})))}if(y.size){const M={};y.forEach(w=>{const T=t.getBaseTarget(w);T!==void 0&&(M[w]=T)}),v.push({animation:M})}let b=Boolean(v.length);return r&&p.initial===!1&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(v):Promise.resolve()}function a(l,u,c){var p;if(n[l].isActive===u)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(v=>{var y;return(y=v.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const m=o(c,l);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function Ule(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!JW(e,t):!1}function Md(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vle(){return{[yr.Animate]:Md(!0),[yr.InView]:Md(),[yr.Hover]:Md(),[yr.Tap]:Md(),[yr.Drag]:Md(),[yr.Focus]:Md(),[yr.Exit]:Md()}}const Hle={animation:Xf(({visualElement:t,animate:e})=>{t.animationState||(t.animationState=Ble(t)),RT(e)&&U.exports.useEffect(()=>e.subscribe(t),[e])}),exit:Xf(t=>{const{custom:e,visualElement:n}=t,[r,i]=ZW(),s=U.exports.useContext(z0);U.exports.useEffect(()=>{n.isPresent=r;const o=n.animationState&&n.animationState.setActive(yr.Exit,!r,{custom:s&&s.custom||e});o&&!r&&o.then(i)},[r])})};class a${constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=aA(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,p=EL(u.offset,{x:0,y:0})>=3;if(!c&&!p)return;const{point:m}=u,{timestamp:v}=QR();this.history.push({...m,timestamp:v});const{onStart:y,onMove:x}=this.handlers;c||(y&&y(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{if(this.lastMoveEvent=u,this.lastMoveEventInfo=oA(c,this.transformPagePoint),SW(u)&&u.buttons===0){this.handlePointerUp(u,c);return}Ll.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{this.end();const{onEnd:p,onSessionEnd:m}=this.handlers,v=aA(oA(c,this.transformPagePoint),this.history);this.startEvent&&p&&p(u,v),m&&m(u,v)},bW(e)&&e.touches.length>1)return;this.handlers=n,this.transformPagePoint=r;const i=vL(e),s=oA(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=QR();this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,aA(s,this.history)),this.removeListeners=DT(Gg(window,"pointermove",this.handlePointerMove),Gg(window,"pointerup",this.handlePointerUp),Gg(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Tp.update(this.updatePoint)}}function oA(t,e){return e?{point:e(t.point)}:t}function Q4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function aA({point:t},e){return{point:t,delta:Q4(t,l$(e)),offset:Q4(t,Wle(e)),velocity:$le(e,.1)}}function Wle(t){return t[0]}function l$(t){return t[t.length-1]}function $le(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=l$(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>tE(e)));)n--;if(!r)return{x:0,y:0};const s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function va(t){return t.max-t.min}function K4(t,e=0,n=.01){return EL(t,e)<n}function Z4(t,e,n,r=.5){t.origin=r,t.originPoint=Jr(e.min,e.max,t.origin),t.scale=va(n)/va(e),(K4(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Jr(n.min,n.max,t.origin)-t.originPoint,(K4(t.translate)||isNaN(t.translate))&&(t.translate=0)}function rx(t,e,n,r){Z4(t.x,e.x,n.x,r==null?void 0:r.originX),Z4(t.y,e.y,n.y,r==null?void 0:r.originY)}function J4(t,e,n){t.min=n.min+e.min,t.max=t.min+va(e)}function Gle(t,e,n){J4(t.x,e.x,n.x),J4(t.y,e.y,n.y)}function e5(t,e,n){t.min=e.min-n.min,t.max=t.min+va(e)}function ix(t,e,n){e5(t.x,e.x,n.x),e5(t.y,e.y,n.y)}function jle(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Jr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Jr(n,t,r.max):Math.min(t,n)),t}function t5(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qle(t,{top:e,left:n,bottom:r,right:i}){return{x:t5(t.x,n,i),y:t5(t.y,e,r)}}function n5(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Xle(t,e){return{x:n5(t.x,e.x),y:n5(t.y,e.y)}}function Yle(t,e){let n=.5;const r=va(t),i=va(e);return i>r?n=Zx(e.min,e.max-r,t.min):r>i&&(n=Zx(t.min,t.max-i,e.min)),ZM(0,1,n)}function Qle(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ZR=.35;function Kle(t=ZR){return t===!1?t=0:t===!0&&(t=ZR),{x:r5(t,"left","right"),y:r5(t,"top","bottom")}}function r5(t,e,n){return{min:i5(t,e),max:i5(t,n)}}function i5(t,e){var n;return typeof t=="number"?t:(n=t[e])!==null&&n!==void 0?n:0}const s5=()=>({translate:0,scale:1,origin:0,originPoint:0}),sx=()=>({x:s5(),y:s5()}),o5=()=>({min:0,max:0}),Pi=()=>({x:o5(),y:o5()});function vu(t){return[t("x"),t("y")]}function u$({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Zle({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Jle(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function lA(t){return t===void 0||t===1}function JR({scale:t,scaleX:e,scaleY:n}){return!lA(t)||!lA(e)||!lA(n)}function Od(t){return JR(t)||c$(t)||t.z||t.rotate||t.rotateX||t.rotateY}function c$(t){return a5(t.x)||a5(t.y)}function a5(t){return t&&t!=="0%"}function rE(t,e,n){const r=t-n,i=e*r;return n+i}function l5(t,e,n,r,i){return i!==void 0&&(t=rE(t,i,r)),rE(t,n,r)+e}function e3(t,e=0,n=1,r,i){t.min=l5(t.min,e,n,r,i),t.max=l5(t.max,e,n,r,i)}function f$(t,{x:e,y:n}){e3(t.x,e.translate,e.scale,e.originPoint),e3(t.y,n.translate,n.scale,n.originPoint)}function eue(t,e,n,r=!1){var i,s;const o=n.length;if(!o)return;e.x=e.y=1;let a,l;for(let u=0;u<o;u++)a=n[u],l=a.projectionDelta,((s=(i=a.instance)===null||i===void 0?void 0:i.style)===null||s===void 0?void 0:s.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Pg(t,{x:-a.scroll.x,y:-a.scroll.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,f$(t,l)),r&&Od(a.latestValues)&&Pg(t,a.latestValues))}function Uf(t,e){t.min=t.min+e,t.max=t.max+e}function u5(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Jr(t.min,t.max,s);e3(t,e[n],e[r],o,e.scale)}const tue=["x","scaleX","originX"],nue=["y","scaleY","originY"];function Pg(t,e){u5(t.x,e,tue),u5(t.y,e,nue)}function h$(t,e){return u$(Jle(t.getBoundingClientRect(),e))}function rue(t,e,n){const r=h$(t,n),{scroll:i}=e;return i&&(Uf(r.x,i.x),Uf(r.y,i.y)),r}const iue=new WeakMap;class sue{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pi(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){if(this.visualElement.isPresent===!1)return;const r=a=>{this.stopAnimation(),n&&this.snapToCursor(vL(a,"page").point)},i=(a,l)=>{var u;const{drag:c,dragPropagation:p,onDragStart:m}=this.getProps();c&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=CW(c),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vu(v=>{var y,x;let _=this.getAxisMotionValue(v).get()||0;if(Cu.test(_)){const b=(x=(y=this.visualElement.projection)===null||y===void 0?void 0:y.layout)===null||x===void 0?void 0:x.layoutBox[v];b&&(_=va(b)*(parseFloat(_)/100))}this.originPoint[v]=_}),m==null||m(a,l),(u=this.visualElement.animationState)===null||u===void 0||u.setActive(yr.Drag,!0))},s=(a,l)=>{const{dragPropagation:u,dragDirectionLock:c,onDirectionLock:p,onDrag:m}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:v}=l;if(c&&this.currentDirection===null){this.currentDirection=oue(v),this.currentDirection!==null&&(p==null||p(this.currentDirection));return}this.updateAxis("x",l.point,v),this.updateAxis("y",l.point,v),this.visualElement.render(),m==null||m(a,l)},o=(a,l)=>this.stop(a,l);this.panSession=new a$(e,{onSessionStart:r,onStart:i,onMove:s,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s==null||s(e,n)}cancel(){var e,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(yr.Drag,!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!TS(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=jle(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Ag(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=qle(r.layoutBox,e):this.constraints=!1,this.elastic=Kle(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vu(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Qle(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ag(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=rue(r,i.root,this.visualElement.getTransformPagePoint());let o=Xle(i.layout.layoutBox,s);if(n){const a=n(Zle(o));this.hasMutatedConstraints=!!a,a&&(o=u$(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=vu(c=>{var p;if(!TS(c,n,this.currentDirection))return;let m=(p=l==null?void 0:l[c])!==null&&p!==void 0?p:{};o&&(m={min:0,max:0});const v=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[c]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(c,x)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return PL(e,r,0,n)}stopAnimation(){vu(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var n,r;const i="_drag"+e.toUpperCase(),s=this.visualElement.getProps()[i];return s||this.visualElement.getValue(e,(r=(n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[e])!==null&&r!==void 0?r:0)}snapToCursor(e){vu(n=>{const{drag:r}=this.getProps();if(!TS(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Jr(o,a,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Ag(r)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vu(a=>{const l=this.getAxisMotionValue(a);if(l){const u=l.get();s[a]=Yle({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",(e=i.root)===null||e===void 0||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),vu(a=>{if(!TS(a,n,null))return;const l=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];l.set(Jr(u,c,s[a]))})}addListeners(){var e;if(!this.visualElement.current)return;iue.set(this.visualElement,this);const n=this.visualElement.current,r=Gg(n,"pointerdown",u=>{const{drag:c,dragListener:p=!0}=this.getProps();c&&p&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Ag(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&((e=s.root)===null||e===void 0||e.updateScroll(),s.updateLayout()),i();const a=LT(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(vu(p=>{const m=this.getAxisMotionValue(p);!m||(this.originPoint[p]+=u[p].translate,m.set(m.get()+u[p].translate))}),this.visualElement.render())});return()=>{a(),r(),o(),l==null||l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ZR,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function TS(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function oue(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}function aue(t){const{dragControls:e,visualElement:n}=t,r=kT(()=>new sue(n));U.exports.useEffect(()=>e&&e.subscribe(r),[r,e]),U.exports.useEffect(()=>r.addListeners(),[r])}function lue({onPan:t,onPanStart:e,onPanEnd:n,onPanSessionStart:r,visualElement:i}){const s=t||e||n||r,o=U.exports.useRef(null),{transformPagePoint:a}=U.exports.useContext(lL),l={onSessionStart:r,onStart:e,onMove:t,onEnd:(c,p)=>{o.current=null,n&&n(c,p)}};U.exports.useEffect(()=>{o.current!==null&&o.current.updateHandlers(l)});function u(c){o.current=new a$(c,l,{transformPagePoint:a})}QM(i,"pointerdown",s&&u),yL(()=>o.current&&o.current.end())}const uue={pan:Xf(lue),drag:Xf(aue)};function t3(t){return typeof t=="string"&&t.startsWith("var(--")}const d$=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function cue(t){const e=d$.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function n3(t,e,n=1){const[r,i]=cue(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():t3(i)?n3(i,e,n+1):i}function fue(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!t3(s))return;const o=n3(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!t3(s))continue;const o=n3(s,r);!o||(e[i]=o,n&&n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const hue=new Set(["width","height","top","left","right","bottom","x","y"]),p$=t=>hue.has(t),due=t=>Object.keys(t).some(p$),m$=(t,e)=>{t.set(e,!1),t.set(e)},c5=t=>t===$p||t===Yt;var f5;(function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"})(f5||(f5={}));const h5=(t,e)=>parseFloat(t.split(", ")[e]),d5=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return h5(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?h5(s[1],t):0}},pue=new Set(["x","y","z"]),mue=XM.filter(t=>!pue.has(t));function gue(t){const e=[];return mue.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const p5={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:d5(4,13),y:d5(5,14)},vue=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=p5[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);m$(c,a[u]),t[u]=p5[u](l,s)}),t},yue=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(p$);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],p=oy(c);const m=e[l];let v;if(Kx(m)){const y=m.length,x=m[0]===null?1:0;c=m[x],p=oy(c);for(let _=x;_<y;_++)v?KM(oy(m[_])===v):v=oy(m[_])}else v=oy(m);if(p!==v)if(c5(p)&&c5(v)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof m=="string"?e[l]=parseFloat(m):Array.isArray(m)&&v===Yt&&(e[l]=m.map(parseFloat))}else(p==null?void 0:p.transform)&&(v==null?void 0:v.transform)&&(c===0||m===0)?c===0?u.set(v.transform(c)):e[l]=p.transform(m):(o||(s=gue(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],m$(u,m))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=vue(e,t,a);return s.length&&s.forEach(([c,p])=>{t.getValue(c).set(p)}),t.render(),Wp&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function xue(t,e,n,r){return due(e)?yue(t,e,n,r):{target:e,transitionEnd:r}}const _ue=(t,e,n,r)=>{const i=fue(t,e,r);return e=i.target,r=i.transitionEnd,xue(t,e,n,r)},r3={current:null},g$={current:!1};function wue(){if(g$.current=!0,!!Wp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>r3.current=t.matches;t.addListener(e),e()}else r3.current=!1}function Sue(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(ku(s))t.addValue(i,s),nE(r)&&r.add(i);else if(ku(o))t.addValue(i,f0(s)),nE(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,f0(a!==void 0?a:s))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const v$=Object.keys(Yx),bue=v$.length,m5=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Mue{constructor({parent:e,props:n,reducedMotionConfig:r,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{!this.current||(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ll.render(this.render,!1,!0);const{latestValues:o,renderState:a}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=a,this.parent=e,this.props=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=IT(n),this.isVariantNode=eW(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n);for(const c in u){const p=u[c];o[c]!==void 0&&ku(p)&&(p.set(o[c],!1),nE(l)&&l.add(c))}}scrapeMotionValuesFromProps(e){return{}}mount(e){var n;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(n=this.parent)===null||n===void 0?void 0:n.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),g$.current||wue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:r3.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,n,r;(e=this.projection)===null||e===void 0||e.unmount(),Tp.update(this.notifyUpdate),Tp.render(this.render),this.valueSubscriptions.forEach(i=>i()),(n=this.removeFromVariantTree)===null||n===void 0||n.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(e,n){const r=n.onChange(s=>{this.latestValues[e]=s,this.props.onUpdate&&Ll.update(this.notifyUpdate,!1,!0)}),i=n.onRenderRequest(this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures(e,n,r,i,s,o){const a=[];for(let l=0;l<bue;l++){const u=v$[l],{isEnabled:c,Component:p}=Yx[u];c(e)&&p&&a.push(U.exports.createElement(p,{key:u,...e,visualElement:this}))}if(!this.projection&&s){this.projection=new s(i,this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:p,layoutScroll:m}=e;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:Boolean(c)||p&&Ag(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:m})}return a}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=e;for(let n=0;n<m5.length;n++){const r=m5[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=Sue(this,this.scrapeMotionValuesFromProps(e),this.prevMotionValues)}getProps(){return this.props}getVariant(e){var n;return(n=this.props.variants)===null||n===void 0?void 0:n[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var n,r;if(e)return(n=this.parent)===null||n===void 0?void 0:n.getVariantContext();if(!this.isControllingVariants){const s=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const i={};for(let s=0;s<Eue;s++){const o=y$[s],a=this.props[o];(Xx(a)||a===!1)&&(i[o]=a)}return i}addVariantChild(e){var n;const r=this.getClosestVariantNode();if(r)return(n=r.variantChildren)===null||n===void 0||n.add(e),()=>r.variantChildren.delete(e)}addValue(e,n){this.hasValue(e)&&this.removeValue(e),this.values.set(e,n),this.latestValues[e]=n.get(),this.bindToMotionValue(e,n)}removeValue(e){var n;this.values.delete(e),(n=this.valueSubscriptions.get(e))===null||n===void 0||n(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=f0(n),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=gL(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ku(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nx),this.events[e].add(n)}notify(e,...n){var r;(r=this.events[e])===null||r===void 0||r.notify(...n)}}const y$=["initial",...kL],Eue=y$.length;class x$ extends Mue{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){var r;return(r=e.style)===null||r===void 0?void 0:r[n]}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=Ile(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){Ple(this,r,o);const a=_ue(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Tue(t){return window.getComputedStyle(t)}class Cue extends x${readValueFromInstance(e,n){if(J1.has(n)){const r=TL(n);return r&&r.default||0}else{const r=Tue(e),i=(rW(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return h$(e,n)}build(e,n,r,i){hL(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e){return mL(e)}renderInstance(e,n,r,i){gW(e,n,r,i)}}class Aue extends x${getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){var r;return J1.has(n)?((r=TL(n))===null||r===void 0?void 0:r.default)||0:(n=vW.has(n)?n:mW(n),e.getAttribute(n))}measureInstanceViewportBox(){return Pi()}scrapeMotionValuesFromProps(e){return xW(e)}build(e,n,r,i){pL(e,n,r,i.transformTemplate)}renderInstance(e,n,r,i){yW(e,n,r,i)}}const Pue=(t,e)=>cL(t)?new Aue(e,{enableHardwareAcceleration:!1}):new Cue(e,{enableHardwareAcceleration:!0});function g5(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ay={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Yt.test(t))t=parseFloat(t);else return t;const n=g5(t,e.target.x),r=g5(t,e.target.y);return`${n}% ${r}%`}},v5="_$css",Rue={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=t.includes("var("),s=[];i&&(t=t.replace(d$,v=>(s.push(v),v5)));const o=Fc.parse(t);if(o.length>5)return r;const a=Fc.createTransformer(t),l=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;o[0+l]/=u,o[1+l]/=c;const p=Jr(u,c,.5);typeof o[2+l]=="number"&&(o[2+l]/=p),typeof o[3+l]=="number"&&(o[3+l]/=p);let m=a(o);if(i){let v=0;m=m.replace(v5,()=>{const y=s[v];return v++,y})}return m}};class Iue extends Ye.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Wse(Lue),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Jy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ll.postRender(()=>{var a;!((a=o.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n!=null&&n.group&&n.group.remove(i),r!=null&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function kue(t){const[e,n]=ZW(),r=U.exports.useContext(uL);return J(Iue,{...t,layoutGroup:r,switchLayoutGroup:U.exports.useContext(tW),isPresent:e,safeToRemove:n})}const Lue={borderRadius:{...ay,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ay,borderTopRightRadius:ay,borderBottomLeftRadius:ay,borderBottomRightRadius:ay,boxShadow:Rue},Due={measureLayout:kue};function Oue(t,e,n={}){const r=ku(t)?t:f0(t);return PL("",r,e,n),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const _$=["TopLeft","TopRight","BottomLeft","BottomRight"],Nue=_$.length,y5=t=>typeof t=="string"?parseFloat(t):t,x5=t=>typeof t=="number"||Yt.test(t);function Fue(t,e,n,r,i,s){var o,a,l,u;i?(t.opacity=Jr(0,(o=n.opacity)!==null&&o!==void 0?o:1,zue(r)),t.opacityExit=Jr((a=e.opacity)!==null&&a!==void 0?a:1,0,Bue(r))):s&&(t.opacity=Jr((l=e.opacity)!==null&&l!==void 0?l:1,(u=n.opacity)!==null&&u!==void 0?u:1,r));for(let c=0;c<Nue;c++){const p=`border${_$[c]}Radius`;let m=_5(e,p),v=_5(n,p);if(m===void 0&&v===void 0)continue;m||(m=0),v||(v=0),m===0||v===0||x5(m)===x5(v)?(t[p]=Math.max(Jr(y5(m),y5(v),r),0),(Cu.test(v)||Cu.test(m))&&(t[p]+="%")):t[p]=v}(e.rotate||n.rotate)&&(t.rotate=Jr(e.rotate||0,n.rotate||0,r))}function _5(t,e){var n;return(n=t[e])!==null&&n!==void 0?n:t.borderRadius}const zue=w$(0,.5,bL),Bue=w$(.5,.95,wL);function w$(t,e,n){return r=>r<t?0:r>e?1:n(Zx(t,e,r))}function w5(t,e){t.min=e.min,t.max=e.max}function vl(t,e){w5(t.x,e.x),w5(t.y,e.y)}function S5(t,e,n,r,i){return t-=e,t=rE(t,1/n,r),i!==void 0&&(t=rE(t,1/i,r)),t}function Uue(t,e=0,n=1,r=.5,i,s=t,o=t){if(Cu.test(e)&&(e=parseFloat(e),e=Jr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Jr(s.min,s.max,r);t===s&&(a-=e),t.min=S5(t.min,e,n,a,i),t.max=S5(t.max,e,n,a,i)}function b5(t,e,[n,r,i],s,o){Uue(t,e[n],e[r],e[i],e.scale,s,o)}const Vue=["x","scaleX","originX"],Hue=["y","scaleY","originY"];function M5(t,e,n,r){b5(t.x,e,Vue,n==null?void 0:n.x,r==null?void 0:r.x),b5(t.y,e,Hue,n==null?void 0:n.y,r==null?void 0:r.y)}function E5(t){return t.translate===0&&t.scale===1}function S$(t){return E5(t.x)&&E5(t.y)}function b$(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function T5(t){return va(t.x)/va(t.y)}function Wue(t,e,n=.1){return EL(t,e)<=n}class $ue{constructor(){this.members=[]}add(e){RL(this.members,e),e.scheduleRender()}remove(e){if(IL(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){var r;const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues,e.snapshot.isShared=!0),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var n,r,i,s,o;(r=(n=e.options).onExitComplete)===null||r===void 0||r.call(n),(o=(i=e.resumingFrom)===null||i===void 0?void 0:(s=i.options).onExitComplete)===null||o===void 0||o.call(s)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Gue="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function C5(t,e,n){const r=t.x.translate/e.x,i=t.y.translate/e.y;let s=`translate3d(${r}px, ${i}px, 0) `;if(s+=`scale(${1/e.x}, ${1/e.y}) `,n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(s+=`rotate(${l}deg) `),u&&(s+=`rotateX(${u}deg) `),c&&(s+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return s+=`scale(${o}, ${a})`,s===Gue?"none":s}const jue=(t,e)=>t.depth-e.depth;class que{constructor(){this.children=[],this.isDirty=!1}add(e){RL(this.children,e),this.isDirty=!0}remove(e){IL(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jue),this.isDirty=!1,this.children.forEach(e)}}const A5=["","X","Y","Z"],P5=1e3;function M$({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(Zue),this.nodes.forEach(Jue)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new que)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new nx),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l==null||l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){var l;if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:u,layout:c,visualElement:p}=this.options;if(p&&!p.current&&p.mount(o),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(c||u)&&(this.isLayoutDirty=!0),t){let m;const v=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=r$(v,250),Jy.hasAnimatedSinceResize&&(Jy.hasAnimatedSinceResize=!1,this.nodes.forEach(I5))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeTargetChanged:y,layout:x})=>{var _,b,M,w,T;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=(b=(_=this.options.transition)!==null&&_!==void 0?_:p.getDefaultTransition())!==null&&b!==void 0?b:ice,{onLayoutAnimationStart:k,onLayoutAnimationComplete:L}=p.getProps(),P=!this.targetLayout||!b$(this.targetLayout,x)||y,O=!v&&y;if(((M=this.resumeFrom)===null||M===void 0?void 0:M.instance)||O||v&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,O);const N={...AL(A,"layout"),onPlay:k,onComplete:L};p.shouldReduceMotion&&(N.delay=0,N.type=!1),this.startAnimation(N)}else!v&&this.animationProgress===0&&I5(this),this.isLead()&&((T=(w=this.options).onExitComplete)===null||T===void 0||T.call(w));this.targetLayout=x})}unmount(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,Tp.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1}startUpdate(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(ece))}willUpdate(o=!0){var a,l,u;if(this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const y=this.path[v];y.shouldResetTransform=!0,y.updateScroll()}const{layoutId:c,layout:p}=this.options;if(c===void 0&&!p)return;const m=(u=this.options.visualElement)===null||u===void 0?void 0:u.getProps().transformTemplate;this.prevTransformTemplateValue=m==null?void 0:m(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(R5);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(sce),this.potentialNodes.clear()),this.nodes.forEach(Kue),this.nodes.forEach(Xue),this.nodes.forEach(Yue),this.clearAllSnapshots(),sA.update(),sA.preRender(),sA.render())}clearAllSnapshots(){this.nodes.forEach(Que),this.sharedNodes.forEach(tce)}scheduleUpdateProjection(){Ll.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Ll.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var o;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(o=this.options.visualElement)===null||o===void 0||o.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=r(this.instance),this.scroll=n(this.instance))}resetTransform(){var o;if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!S$(this.projectionDelta),u=(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate,c=u==null?void 0:u(this.latestValues,""),p=c!==this.prevTransformTemplateValue;a&&(l||Od(this.latestValues)||p)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),oce(l),{measuredBox:a,layoutBox:l,latestValues:{}}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Pi();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Uf(a.x,l.x),Uf(a.y,l.y)),a}removeElementScroll(o){const a=Pi();vl(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:p,isScrollRoot:m}=u;if(u!==this.root&&c&&p.layoutScroll){if(m){vl(a,o);const{scroll:v}=this.root;v&&(Uf(a.x,-v.x),Uf(a.y,-v.y))}Uf(a.x,c.x),Uf(a.y,c.y)}}return a}applyTransform(o,a=!1){const l=Pi();vl(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Pg(l,{x:-c.scroll.x,y:-c.scroll.y}),Od(c.latestValues)&&Pg(l,c.latestValues)}return Od(this.latestValues)&&Pg(l,this.latestValues),l}removeTransform(o){var a;const l=Pi();vl(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Od(c.latestValues))continue;JR(c.latestValues)&&c.updateSnapshot();const p=Pi(),m=c.measurePageBox();vl(p,m),M5(l,c.latestValues,(a=c.snapshot)===null||a===void 0?void 0:a.layoutBox,p)}return Od(this.latestValues)&&M5(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection()}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const{layout:a,layoutId:l}=this.options;if(!(!this.layout||!(a||l))){if(!this.targetDelta&&!this.relativeTarget){const u=this.getClosestProjectingParent();u&&u.layout?(this.relativeParent=u,this.relativeTarget=Pi(),this.relativeTargetOrigin=Pi(),ix(this.relativeTargetOrigin,this.layout.layoutBox,u.layout.layoutBox),vl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pi(),this.targetWithTransforms=Pi()),this.relativeTarget&&this.relativeTargetOrigin&&((o=this.relativeParent)===null||o===void 0?void 0:o.target)?Gle(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):vl(this.target,this.layout.layoutBox),f$(this.target,this.targetDelta)):vl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const u=this.getClosestProjectingParent();u&&Boolean(u.resumingFrom)===Boolean(this.resumingFrom)&&!u.options.layoutScroll&&u.target?(this.relativeParent=u,this.relativeTarget=Pi(),this.relativeTargetOrigin=Pi(),ix(this.relativeTargetOrigin,this.target,u.target),vl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||JR(this.parent.latestValues)||c$(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var o;const{layout:a,layoutId:l}=this.options;if(this.isTreeAnimating=Boolean(((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(a||l))return;const u=this.getLead();vl(this.layoutCorrected,this.layout.layoutBox),eue(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==u);const{target:c}=u;if(!c)return;this.projectionDelta||(this.projectionDelta=sx(),this.projectionDeltaWithTransform=sx());const p=this.treeScale.x,m=this.treeScale.y,v=this.projectionTransform;rx(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=C5(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a,l,u;(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),o&&((u=this.getStack())===null||u===void 0||u.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){var l;const u=this.snapshot,c=(u==null?void 0:u.latestValues)||{},p={...this.latestValues},m=sx();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!a;const v=Pi(),y=u==null?void 0:u.isShared,x=(((l=this.getStack())===null||l===void 0?void 0:l.members.length)||0)<=1,_=Boolean(y&&!x&&this.options.crossfade===!0&&!this.path.some(rce));this.animationProgress=0,this.mixTargetDelta=b=>{var M;const w=b/1e3;k5(m.x,o.x,w),k5(m.y,o.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&((M=this.relativeParent)===null||M===void 0?void 0:M.layout)&&(ix(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nce(this.relativeTarget,this.relativeTargetOrigin,v,w)),y&&(this.animationValues=p,Fue(p,c,this.latestValues,w,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(0)}startAnimation(o){var a,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(Tp.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ll.update(()=>{Jy.hasAnimatedSinceResize=!0,this.currentAnimation=Oue(0,P5,{...o,onUpdate:u=>{var c;this.mixTargetDelta(u),(c=o.onUpdate)===null||c===void 0||c.call(o,u)},onComplete:()=>{var u;(u=o.onComplete)===null||u===void 0||u.call(o),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,P5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&E$(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Pi();const p=va(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const m=va(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}vl(a,l),Pg(a,c),rx(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){var l,u,c;this.sharedNodes.has(o)||this.sharedNodes.set(o,new $ue),this.sharedNodes.get(o).add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(c=(u=a.options.initialPromotionConfig)===null||u===void 0?void 0:u.shouldPreserveFollowOpacity)===null||c===void 0?void 0:c.call(u,a)})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const l={};for(let u=0;u<A5.length;u++){const p="rotate"+A5[u];!o.getStaticValue(p)||(a=!0,l[p]=o.getStaticValue(p),o.setStaticValue(p,0))}if(!!a){o==null||o.render();for(const u in l)o.setStaticValue(u,l[u]);o.scheduleRender()}}getProjectionStyles(o={}){var a,l,u;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const p=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Xb(o.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none",c;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Xb(o.pointerEvents)||""),this.hasProjected&&!Od(this.latestValues)&&(_.transform=p?p({},""):"none",this.hasProjected=!1),_}const v=m.animationValues||m.latestValues;this.applyTransformsToTarget(),c.transform=C5(this.projectionDeltaWithTransform,this.treeScale,v),p&&(c.transform=p(v,c.transform));const{x:y,y:x}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,m.animationValues?c.opacity=m===this?(u=(l=v.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=m===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const _ in qM){if(v[_]===void 0)continue;const{correct:b,applyTo:M}=qM[_],w=b(v[_],m);if(M){const T=M.length;for(let A=0;A<T;A++)c[M[A]]=w}else c[_]=w}return this.options.layoutId&&(c.pointerEvents=m===this?Xb(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(R5),this.root.sharedNodes.clear()}}}function Xue(t){t.updateLayout()}function Yue(t){var e,n,r;const i=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:a}=t.options;a==="size"?vu(m=>{const v=i.isShared?i.measuredBox[m]:i.layoutBox[m],y=va(v);v.min=s[m].min,v.max=v.min+y}):E$(a,i.layoutBox,s)&&vu(m=>{const v=i.isShared?i.measuredBox[m]:i.layoutBox[m],y=va(s[m]);v.max=v.min+y});const l=sx();rx(l,s,i.layoutBox);const u=sx();i.isShared?rx(u,t.applyTransform(o,!0),i.measuredBox):rx(u,s,i.layoutBox);const c=!S$(l);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:y}=m;if(v&&y){const x=Pi();ix(x,i.layoutBox,v.layoutBox);const _=Pi();ix(_,s,y.layoutBox),b$(x,_)||(p=!0)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:u,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:p})}else t.isLead()&&((r=(n=t.options).onExitComplete)===null||r===void 0||r.call(n));t.options.transition=void 0}function Que(t){t.clearSnapshot()}function R5(t){t.clearMeasurements()}function Kue(t){const{visualElement:e}=t.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function I5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function Zue(t){t.resolveTargetDelta()}function Jue(t){t.calcProjection()}function ece(t){t.resetRotation()}function tce(t){t.removeLeadSnapshot()}function k5(t,e,n){t.translate=Jr(e.translate,0,n),t.scale=Jr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function L5(t,e,n,r){t.min=Jr(e.min,n.min,r),t.max=Jr(e.max,n.max,r)}function nce(t,e,n,r){L5(t.x,e.x,n.x,r),L5(t.y,e.y,n.y,r)}function rce(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ice={duration:.45,ease:[.4,0,.1,1]};function sce(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(Boolean(t.path[s].instance)){n=t.path[s];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function D5(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function oce(t){D5(t.x),D5(t.y)}function E$(t,e,n){return t==="position"||t==="preserve-aspect"&&!Wue(T5(e),T5(n),.2)}const ace=M$({attachResizeListener:(t,e)=>LT(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uA={current:void 0},lce=M$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!uA.current){const t=new ace(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),uA.current=t}return uA.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>Boolean(window.getComputedStyle(t).position==="fixed")}),uce={...Hle,...Zae,...uue,...Due},ts=Vse((t,e)=>Toe(t,e,uce,Pue,lce));function T$(){const t=U.exports.useRef(!1);return jM(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function cce(){const t=T$(),[e,n]=U.exports.useState(0),r=U.exports.useCallback(()=>{t.current&&n(e+1)},[e]);return[U.exports.useCallback(()=>Ll.postRender(r),[r]),e]}class fce extends U.exports.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hce({children:t,isPresent:e}){const n=U.exports.useId(),r=U.exports.useRef(null),i=U.exports.useRef({width:0,height:0,top:0,left:0});return U.exports.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),J(fce,{isPresent:e,childRef:r,sizeRef:i,children:U.exports.cloneElement(t,{ref:r})})}const cA=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=kT(dce),l=U.exports.useId(),u=U.exports.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const p of a.values())if(!p)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return U.exports.useMemo(()=>{a.forEach((c,p)=>a.set(p,!1))},[n]),U.exports.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=J(hce,{isPresent:n,children:t})),J(z0.Provider,{value:u,children:t})};function dce(){return new Map}const hg=t=>t.key||"";function pce(t,e){t.forEach(n=>{const r=hg(n);e.set(r,n)})}function mce(t){const e=[];return U.exports.Children.forEach(t,n=>{U.exports.isValidElement(n)&&e.push(n)}),e}const Lu=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{i&&(o="wait",KW(!1,"Replace exitBeforeEnter with mode='wait'"));let[a]=cce();const l=U.exports.useContext(uL).forceRender;l&&(a=l);const u=T$(),c=mce(t);let p=c;const m=new Set,v=U.exports.useRef(p),y=U.exports.useRef(new Map).current,x=U.exports.useRef(!0);if(jM(()=>{x.current=!1,pce(c,y),v.current=p}),yL(()=>{x.current=!0,y.clear(),m.clear()}),x.current)return J(ga,{children:p.map(w=>J(cA,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o,children:w},hg(w)))});p=[...p];const _=v.current.map(hg),b=c.map(hg),M=_.length;for(let w=0;w<M;w++){const T=_[w];b.indexOf(T)===-1&&m.add(T)}return o==="wait"&&m.size&&(p=[]),m.forEach(w=>{if(b.indexOf(w)!==-1)return;const T=y.get(w);if(!T)return;const A=_.indexOf(w),k=()=>{y.delete(w),m.delete(w);const L=v.current.findIndex(P=>P.key===w);if(v.current.splice(L,1),!m.size){if(v.current=c,u.current===!1)return;a(),r&&r()}};p.splice(A,0,J(cA,{isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:s,mode:o,children:T},hg(T)))}),p=p.map(w=>{const T=w.key;return m.has(T)?w:J(cA,{isPresent:!0,presenceAffectsLayout:s,mode:o,children:w},hg(w))}),QW!=="production"&&o==="wait"&&p.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),J(ga,{children:m.size?p:p.map(w=>U.exports.cloneElement(w))})};var i_=(...t)=>t.filter(Boolean).join(" ");function gce(){return!1}var vce=t=>{const{condition:e,message:n}=t;e&&gce()&&console.warn(n)},Kd={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},ly={scale:{enter:{scale:1},exit:{scale:.95}},fade:{enter:{opacity:1},exit:{opacity:0}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function i3(t){var n;switch((n=t==null?void 0:t.direction)!=null?n:"right"){case"right":return ly.slideRight;case"left":return ly.slideLeft;case"bottom":return ly.slideDown;case"top":return ly.slideUp;default:return ly.slideRight}}var up={enter:{duration:.2,ease:Kd.easeOut},exit:{duration:.1,ease:Kd.easeIn}},Dl={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},yce=t=>t!=null&&parseInt(t.toString(),10)>0,O5={exit:{height:{duration:.2,ease:Kd.ease},opacity:{duration:.3,ease:Kd.ease}},enter:{height:{duration:.3,ease:Kd.ease},opacity:{duration:.4,ease:Kd.ease}}},xce={exit:({animateOpacity:t,startingHeight:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{...t&&{opacity:yce(e)?1:0},height:e,transitionEnd:r==null?void 0:r.exit,transition:(s=n==null?void 0:n.exit)!=null?s:Dl.exit(O5.exit,i)}},enter:({animateOpacity:t,endingHeight:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{...t&&{opacity:1},height:e,transitionEnd:r==null?void 0:r.enter,transition:(s=n==null?void 0:n.enter)!=null?s:Dl.enter(O5.enter,i)}}},C$=U.exports.forwardRef((t,e)=>{const{in:n,unmountOnExit:r,animateOpacity:i=!0,startingHeight:s=0,endingHeight:o="auto",style:a,className:l,transition:u,transitionEnd:c,...p}=t,[m,v]=U.exports.useState(!1);U.exports.useEffect(()=>{const M=setTimeout(()=>{v(!0)});return()=>clearTimeout(M)},[]),vce({condition:Boolean(s>0&&r),message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const y=parseFloat(s.toString())>0,x={startingHeight:s,endingHeight:o,animateOpacity:i,transition:m?u:{enter:{duration:0}},transitionEnd:{enter:c==null?void 0:c.enter,exit:r?c==null?void 0:c.exit:{...c==null?void 0:c.exit,display:y?"block":"none"}}},_=r?n:!0,b=n||r?"enter":"exit";return J(Lu,{initial:!1,custom:x,children:_&&Ye.createElement(ts.div,{ref:e,...p,className:i_("chakra-collapse",l),style:{overflow:"hidden",display:"block",...a},custom:x,variants:xce,initial:r?"exit":!1,animate:b,exit:"exit"})})});C$.displayName="Collapse";var _ce={enter:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:1,transition:(r=t==null?void 0:t.enter)!=null?r:Dl.enter(up.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:0,transition:(r=t==null?void 0:t.exit)!=null?r:Dl.exit(up.exit,n),transitionEnd:e==null?void 0:e.exit}}},wce={initial:"exit",animate:"enter",exit:"exit",variants:_ce},Sce=U.exports.forwardRef(function(e,n){const{unmountOnExit:r,in:i,className:s,transition:o,transitionEnd:a,delay:l,...u}=e,c=i||r?"enter":"exit",p=r?i&&r:!0,m={transition:o,transitionEnd:a,delay:l};return J(Lu,{custom:m,children:p&&Ye.createElement(ts.div,{ref:n,className:i_("chakra-fade",s),custom:m,...wce,animate:c,...u})})});Sce.displayName="Fade";var bce={exit:({reverse:t,initialScale:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{opacity:0,...t?{scale:e,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:e,...r==null?void 0:r.exit}},transition:(s=n==null?void 0:n.exit)!=null?s:Dl.exit(up.exit,i)}},enter:({transitionEnd:t,transition:e,delay:n})=>{var r;return{opacity:1,scale:1,transition:(r=e==null?void 0:e.enter)!=null?r:Dl.enter(up.enter,n),transitionEnd:t==null?void 0:t.enter}}},Mce={initial:"exit",animate:"enter",exit:"exit",variants:bce},Ece=U.exports.forwardRef(function(e,n){const{unmountOnExit:r,in:i,reverse:s=!0,initialScale:o=.95,className:a,transition:l,transitionEnd:u,delay:c,...p}=e,m=r?i&&r:!0,v=i||r?"enter":"exit",y={initialScale:o,reverse:s,transition:l,transitionEnd:u,delay:c};return J(Lu,{custom:y,children:m&&Ye.createElement(ts.div,{ref:n,className:i_("chakra-offset-slide",a),...Mce,animate:v,custom:y,...p})})});Ece.displayName="ScaleFade";var N5={exit:{duration:.15,ease:Kd.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},Tce={exit:({direction:t,transition:e,transitionEnd:n,delay:r})=>{var s;const{exit:i}=i3({direction:t});return{...i,transition:(s=e==null?void 0:e.exit)!=null?s:Dl.exit(N5.exit,r),transitionEnd:n==null?void 0:n.exit}},enter:({direction:t,transitionEnd:e,transition:n,delay:r})=>{var s;const{enter:i}=i3({direction:t});return{...i,transition:(s=n==null?void 0:n.enter)!=null?s:Dl.enter(N5.enter,r),transitionEnd:e==null?void 0:e.enter}}},Cce=U.exports.forwardRef(function(e,n){const{direction:r="right",style:i,unmountOnExit:s,in:o,className:a,transition:l,transitionEnd:u,delay:c,motionProps:p,...m}=e,v=i3({direction:r}),y=Object.assign({position:"fixed"},v.position,i),x=s?o&&s:!0,_=o||s?"enter":"exit",b={transitionEnd:u,transition:l,direction:r,delay:c};return J(Lu,{custom:b,children:x&&Ye.createElement(ts.div,{...m,ref:n,initial:"exit",className:i_("chakra-slide",a),animate:_,exit:"exit",custom:b,variants:Tce,style:y,...p})})});Cce.displayName="Slide";var Ace={initial:({offsetX:t,offsetY:e,transition:n,transitionEnd:r,delay:i})=>{var s;return{opacity:0,x:t,y:e,transition:(s=n==null?void 0:n.exit)!=null?s:Dl.exit(up.exit,i),transitionEnd:r==null?void 0:r.exit}},enter:({transition:t,transitionEnd:e,delay:n})=>{var r;return{opacity:1,x:0,y:0,transition:(r=t==null?void 0:t.enter)!=null?r:Dl.enter(up.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({offsetY:t,offsetX:e,transition:n,transitionEnd:r,reverse:i,delay:s})=>{var a;const o={x:e,y:t};return{opacity:0,transition:(a=n==null?void 0:n.exit)!=null?a:Dl.exit(up.exit,s),...i?{...o,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...o,...r==null?void 0:r.exit}}}}},Pce={initial:"initial",animate:"enter",exit:"exit",variants:Ace},Rce=U.exports.forwardRef(function(e,n){const{unmountOnExit:r,in:i,reverse:s=!0,className:o,offsetX:a=0,offsetY:l=8,transition:u,transitionEnd:c,delay:p,...m}=e,v=r?i&&r:!0,y=i||r?"enter":"exit",x={offsetX:a,offsetY:l,reverse:s,transition:u,transitionEnd:c,delay:p};return J(Lu,{custom:x,children:v&&Ye.createElement(ts.div,{ref:n,className:i_("chakra-offset-slide",o),custom:x,...Pce,animate:y,...m})})});Rce.displayName="SlideFade";var Ice=(...t)=>t.filter(Boolean).join(" "),kce=Yie({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),s_=Et((t,e)=>{const n=Vo("Spinner",t),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:o="transparent",className:a,...l}=di(t),u=Ice("chakra-spinner",a),c={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:o,borderLeftColor:o,animation:`${kce} ${s} linear infinite`,...n};return Ye.createElement(xt.div,{ref:e,__css:c,className:u,...l},r&&Ye.createElement(xt.span,{srOnly:!0},r))});s_.displayName="Spinner";var BT=(...t)=>t.filter(Boolean).join(" ");function Lce(t){return J(Hp,{viewBox:"0 0 24 24",...t,children:J("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function Dce(t){return J(Hp,{viewBox:"0 0 24 24",...t,children:J("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function F5(t){return J(Hp,{viewBox:"0 0 24 24",...t,children:J("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var[Oce,Nce]=Bl({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[Fce,LL]=Bl({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),A$={info:{icon:Dce,colorScheme:"blue"},warning:{icon:F5,colorScheme:"orange"},success:{icon:Lce,colorScheme:"green"},error:{icon:F5,colorScheme:"red"},loading:{icon:s_,colorScheme:"blue"}};function zce(t){return A$[t].colorScheme}function Bce(t){return A$[t].icon}var P$=Et(function(e,n){var u;const{status:r="info",addRole:i=!0,...s}=di(e),o=(u=e.colorScheme)!=null?u:zce(r),a=Vp("Alert",{...e,colorScheme:o}),l={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...a.container};return Ye.createElement(Oce,{value:{status:r}},Ye.createElement(Fce,{value:a},Ye.createElement(xt.div,{role:i?"alert":void 0,ref:n,...s,className:BT("chakra-alert",e.className),__css:l})))});P$.displayName="Alert";var R$=Et(function(e,n){const i={display:"inline",...LL().description};return Ye.createElement(xt.div,{ref:n,...e,className:BT("chakra-alert__desc",e.className),__css:i})});R$.displayName="AlertDescription";function I$(t){const{status:e}=Nce(),n=Bce(e),r=LL(),i=e==="loading"?r.spinner:r.icon;return Ye.createElement(xt.span,{display:"inherit",...t,className:BT("chakra-alert__icon",t.className),__css:i},t.children||J(n,{h:"100%",w:"100%"}))}I$.displayName="AlertIcon";var k$=Et(function(e,n){const r=LL();return Ye.createElement(xt.div,{ref:n,...e,className:BT("chakra-alert__title",e.className),__css:r.title})});k$.displayName="AlertTitle";var Uce=Object.create,L$=Object.defineProperty,Vce=Object.getOwnPropertyDescriptor,D$=Object.getOwnPropertyNames,Hce=Object.getPrototypeOf,Wce=Object.prototype.hasOwnProperty,O$=(t,e)=>function(){return e||(0,t[D$(t)[0]])((e={exports:{}}).exports,e),e.exports},$ce=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of D$(e))!Wce.call(t,i)&&i!==n&&L$(t,i,{get:()=>e[i],enumerable:!(r=Vce(e,i))||r.enumerable});return t},Gce=(t,e,n)=>(n=t!=null?Uce(Hce(t)):{},$ce(e||!t||!t.__esModule?L$(n,"default",{value:t,enumerable:!0}):n,t)),jce=O$({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react.production.min.js"(t){var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,_={};function b(B,G,le){this.props=B,this.context=G,this.refs=_,this.updater=le||y}b.prototype.isReactComponent={},b.prototype.setState=function(B,G){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,G,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function M(){}M.prototype=b.prototype;function w(B,G,le){this.props=B,this.context=G,this.refs=_,this.updater=le||y}var T=w.prototype=new M;T.constructor=w,x(T,b.prototype),T.isPureReactComponent=!0;var A=Array.isArray,k=Object.prototype.hasOwnProperty,L={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function O(B,G,le){var we,Me={},pe=null,We=null;if(G!=null)for(we in G.ref!==void 0&&(We=G.ref),G.key!==void 0&&(pe=""+G.key),G)k.call(G,we)&&!P.hasOwnProperty(we)&&(Me[we]=G[we]);var Be=arguments.length-2;if(Be===1)Me.children=le;else if(1<Be){for(var Qe=Array(Be),Fe=0;Fe<Be;Fe++)Qe[Fe]=arguments[Fe+2];Me.children=Qe}if(B&&B.defaultProps)for(we in Be=B.defaultProps,Be)Me[we]===void 0&&(Me[we]=Be[we]);return{$$typeof:e,type:B,key:pe,ref:We,props:Me,_owner:L.current}}function N(B,G){return{$$typeof:e,type:B.type,key:G,ref:B.ref,props:B.props,_owner:B._owner}}function H(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function ie(B){var G={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(le){return G[le]})}var te=/\/+/g;function ee(B,G){return typeof B=="object"&&B!==null&&B.key!=null?ie(""+B.key):G.toString(36)}function ue(B,G,le,we,Me){var pe=typeof B;(pe==="undefined"||pe==="boolean")&&(B=null);var We=!1;if(B===null)We=!0;else switch(pe){case"string":case"number":We=!0;break;case"object":switch(B.$$typeof){case e:case n:We=!0}}if(We)return We=B,Me=Me(We),B=we===""?"."+ee(We,0):we,A(Me)?(le="",B!=null&&(le=B.replace(te,"$&/")+"/"),ue(Me,G,le,"",function(Fe){return Fe})):Me!=null&&(H(Me)&&(Me=N(Me,le+(!Me.key||We&&We.key===Me.key?"":(""+Me.key).replace(te,"$&/")+"/")+B)),G.push(Me)),1;if(We=0,we=we===""?".":we+":",A(B))for(var Be=0;Be<B.length;Be++){pe=B[Be];var Qe=we+ee(pe,Be);We+=ue(pe,G,le,Qe,Me)}else if(Qe=v(B),typeof Qe=="function")for(B=Qe.call(B),Be=0;!(pe=B.next()).done;)pe=pe.value,Qe=we+ee(pe,Be++),We+=ue(pe,G,le,Qe,Me);else if(pe==="object")throw G=String(B),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return We}function ae(B,G,le){if(B==null)return B;var we=[],Me=0;return ue(B,we,"","",function(pe){return G.call(le,pe,Me++)}),we}function fe(B){if(B._status===-1){var G=B._result;G=G(),G.then(function(le){(B._status===0||B._status===-1)&&(B._status=1,B._result=le)},function(le){(B._status===0||B._status===-1)&&(B._status=2,B._result=le)}),B._status===-1&&(B._status=0,B._result=G)}if(B._status===1)return B._result.default;throw B._result}var z={current:null},Y={transition:null},Z={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:Y,ReactCurrentOwner:L};t.Children={map:ae,forEach:function(B,G,le){ae(B,function(){G.apply(this,arguments)},le)},count:function(B){var G=0;return ae(B,function(){G++}),G},toArray:function(B){return ae(B,function(G){return G})||[]},only:function(B){if(!H(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},t.Component=b,t.Fragment=r,t.Profiler=s,t.PureComponent=w,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,t.cloneElement=function(B,G,le){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var we=x({},B.props),Me=B.key,pe=B.ref,We=B._owner;if(G!=null){if(G.ref!==void 0&&(pe=G.ref,We=L.current),G.key!==void 0&&(Me=""+G.key),B.type&&B.type.defaultProps)var Be=B.type.defaultProps;for(Qe in G)k.call(G,Qe)&&!P.hasOwnProperty(Qe)&&(we[Qe]=G[Qe]===void 0&&Be!==void 0?Be[Qe]:G[Qe])}var Qe=arguments.length-2;if(Qe===1)we.children=le;else if(1<Qe){Be=Array(Qe);for(var Fe=0;Fe<Qe;Fe++)Be[Fe]=arguments[Fe+2];we.children=Be}return{$$typeof:e,type:B.type,key:Me,ref:pe,props:we,_owner:We}},t.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:o,_context:B},B.Consumer=B},t.createElement=O,t.createFactory=function(B){var G=O.bind(null,B);return G.type=B,G},t.createRef=function(){return{current:null}},t.forwardRef=function(B){return{$$typeof:l,render:B}},t.isValidElement=H,t.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:fe}},t.memo=function(B,G){return{$$typeof:c,type:B,compare:G===void 0?null:G}},t.startTransition=function(B){var G=Y.transition;Y.transition={};try{B()}finally{Y.transition=G}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(B,G){return z.current.useCallback(B,G)},t.useContext=function(B){return z.current.useContext(B)},t.useDebugValue=function(){},t.useDeferredValue=function(B){return z.current.useDeferredValue(B)},t.useEffect=function(B,G){return z.current.useEffect(B,G)},t.useId=function(){return z.current.useId()},t.useImperativeHandle=function(B,G,le){return z.current.useImperativeHandle(B,G,le)},t.useInsertionEffect=function(B,G){return z.current.useInsertionEffect(B,G)},t.useLayoutEffect=function(B,G){return z.current.useLayoutEffect(B,G)},t.useMemo=function(B,G){return z.current.useMemo(B,G)},t.useReducer=function(B,G,le){return z.current.useReducer(B,G,le)},t.useRef=function(B){return z.current.useRef(B)},t.useState=function(B){return z.current.useState(B)},t.useSyncExternalStore=function(B,G,le){return z.current.useSyncExternalStore(B,G,le)},t.useTransition=function(){return z.current.useTransition()},t.version="18.2.0"}}),qce=O$({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"(t,e){e.exports=jce()}}),z5=Gce(qce());function DL(t){return z5.Children.toArray(t).filter(e=>(0,z5.isValidElement)(e))}/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT=(...t)=>t.filter(Boolean).join(" "),B5=t=>t?"":void 0,[Xce,Yce]=Bl({strict:!1,name:"ButtonGroupContext"});function s3(t){const{children:e,className:n,...r}=t,i=U.exports.isValidElement(e)?U.exports.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,s=UT("chakra-button__icon",n);return Ye.createElement(xt.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s},i)}s3.displayName="ButtonIcon";function o3(t){const{label:e,placement:n,spacing:r="0.5rem",children:i=J(s_,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:o,...a}=t,l=UT("chakra-button__spinner",s),u=n==="start"?"marginEnd":"marginStart",c=U.exports.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[u]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,u,r]);return Ye.createElement(xt.div,{className:l,...a,__css:c},i)}o3.displayName="ButtonSpinner";function Qce(t){const[e,n]=U.exports.useState(!t);return{ref:U.exports.useCallback(s=>{!s||n(s.tagName==="BUTTON")},[]),type:e?"button":void 0}}var VT=Et((t,e)=>{const n=Yce(),r=Vo("Button",{...n,...t}),{isDisabled:i=n==null?void 0:n.isDisabled,isLoading:s,isActive:o,children:a,leftIcon:l,rightIcon:u,loadingText:c,iconSpacing:p="0.5rem",type:m,spinner:v,spinnerPlacement:y="start",className:x,as:_,...b}=di(t),M=U.exports.useMemo(()=>{const k={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:k}}},[r,n]),{ref:w,type:T}=Qce(_),A={rightIcon:u,leftIcon:l,iconSpacing:p,children:a};return Ye.createElement(xt.button,{disabled:i||s,ref:Cse(e,w),as:_,type:m!=null?m:T,"data-active":B5(o),"data-loading":B5(s),__css:M,className:UT("chakra-button",x),...b},s&&y==="start"&&J(o3,{className:"chakra-button__spinner--start",label:c,placement:"start",spacing:p,children:v}),s?c||Ye.createElement(xt.span,{opacity:0},J(U5,{...A})):J(U5,{...A}),s&&y==="end"&&J(o3,{className:"chakra-button__spinner--end",label:c,placement:"end",spacing:p,children:v}))});VT.displayName="Button";function U5(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:i}=t;return jt(ga,{children:[e&&J(s3,{marginEnd:i,children:e}),r,n&&J(s3,{marginStart:i,children:n})]})}var Kce=Et(function(e,n){const{size:r,colorScheme:i,variant:s,className:o,spacing:a="0.5rem",isAttached:l,isDisabled:u,...c}=e,p=UT("chakra-button__group",o),m=U.exports.useMemo(()=>({size:r,colorScheme:i,variant:s,isDisabled:u}),[r,i,s,u]);let v={display:"inline-flex"};return l?v={...v,"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}:v={...v,"& > *:not(style) ~ *:not(style)":{marginStart:a}},Ye.createElement(Xce,{value:m},Ye.createElement(xt.div,{ref:n,role:"group",__css:v,className:p,"data-attached":l?"":void 0,...c}))});Kce.displayName="ButtonGroup";var Cp=Et((t,e)=>{const{icon:n,children:r,isRound:i,"aria-label":s,...o}=t,a=n||r,l=U.exports.isValidElement(a)?U.exports.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return J(VT,{padding:"0",borderRadius:i?"full":void 0,ref:e,"aria-label":s,...o,children:l})});Cp.displayName="IconButton";var B0=(...t)=>t.filter(Boolean).join(" "),CS=t=>t?"":void 0,fA=t=>t?!0:void 0;function V5(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var[Zce,N$]=Bl({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[Jce,U0]=Bl({strict:!1,name:"FormControlContext"});function efe(t){const{id:e,isRequired:n,isInvalid:r,isDisabled:i,isReadOnly:s,...o}=t,a=U.exports.useId(),l=e||`field-${a}`,u=`${l}-label`,c=`${l}-feedback`,p=`${l}-helptext`,[m,v]=U.exports.useState(!1),[y,x]=U.exports.useState(!1),[_,b]=U.exports.useState(!1),M=U.exports.useCallback((L={},P=null)=>({id:p,...L,ref:c0(P,O=>{!O||x(!0)})}),[p]),w=U.exports.useCallback((L={},P=null)=>{var O,N;return{...L,ref:P,"data-focus":CS(_),"data-disabled":CS(i),"data-invalid":CS(r),"data-readonly":CS(s),id:(O=L.id)!=null?O:u,htmlFor:(N=L.htmlFor)!=null?N:l}},[l,i,_,r,s,u]),T=U.exports.useCallback((L={},P=null)=>({id:c,...L,ref:c0(P,O=>{!O||v(!0)}),"aria-live":"polite"}),[c]),A=U.exports.useCallback((L={},P=null)=>({...L,...o,ref:P,role:"group"}),[o]),k=U.exports.useCallback((L={},P=null)=>({...L,ref:P,role:"presentation","aria-hidden":!0,children:L.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!s,isDisabled:!!i,isFocused:!!_,onFocus:()=>b(!0),onBlur:()=>b(!1),hasFeedbackText:m,setHasFeedbackText:v,hasHelpText:y,setHasHelpText:x,id:l,labelId:u,feedbackId:c,helpTextId:p,htmlProps:o,getHelpTextProps:M,getErrorMessageProps:T,getRootProps:A,getLabelProps:w,getRequiredIndicatorProps:k}}var tfe=Et(function(e,n){const r=Vp("Form",e),i=di(e),{getRootProps:s,htmlProps:o,...a}=efe(i),l=B0("chakra-form-control",e.className);return Ye.createElement(Jce,{value:a},Ye.createElement(Zce,{value:r},Ye.createElement(xt.div,{...s({},n),className:l,__css:r.container})))});tfe.displayName="FormControl";var nfe=Et(function(e,n){const r=U0(),i=N$(),s=B0("chakra-form__helper-text",e.className);return Ye.createElement(xt.div,{...r==null?void 0:r.getHelpTextProps(e,n),__css:i.helperText,className:s})});nfe.displayName="FormHelperText";function rfe(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:i,...s}=ife(t);return{...s,disabled:e,readOnly:r,required:i,"aria-invalid":fA(n),"aria-required":fA(i),"aria-readonly":fA(r)}}function ife(t){var y,x,_;const e=U0(),{id:n,disabled:r,readOnly:i,required:s,isRequired:o,isInvalid:a,isReadOnly:l,isDisabled:u,onFocus:c,onBlur:p,...m}=t,v=t["aria-describedby"]?[t["aria-describedby"]]:[];return(e==null?void 0:e.hasFeedbackText)&&(e==null?void 0:e.isInvalid)&&v.push(e.feedbackId),e!=null&&e.hasHelpText&&v.push(e.helpTextId),{...m,"aria-describedby":v.join(" ")||void 0,id:n!=null?n:e==null?void 0:e.id,isDisabled:(y=r!=null?r:u)!=null?y:e==null?void 0:e.isDisabled,isReadOnly:(x=i!=null?i:l)!=null?x:e==null?void 0:e.isReadOnly,isRequired:(_=s!=null?s:o)!=null?_:e==null?void 0:e.isRequired,isInvalid:a!=null?a:e==null?void 0:e.isInvalid,onFocus:V5(e==null?void 0:e.onFocus,c),onBlur:V5(e==null?void 0:e.onBlur,p)}}var[sfe,ofe]=Bl({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),afe=Et((t,e)=>{const n=Vp("FormError",t),r=di(t),i=U0();return i!=null&&i.isInvalid?Ye.createElement(sfe,{value:n},Ye.createElement(xt.div,{...i==null?void 0:i.getErrorMessageProps(r,e),className:B0("chakra-form__error-message",t.className),__css:{display:"flex",alignItems:"center",...n.text}})):null});afe.displayName="FormErrorMessage";var lfe=Et((t,e)=>{const n=ofe(),r=U0();if(!(r!=null&&r.isInvalid))return null;const i=B0("chakra-form__error-icon",t.className);return J(Hp,{ref:e,"aria-hidden":!0,...t,__css:n.icon,className:i,children:J("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});lfe.displayName="FormErrorIcon";var ufe=Et(function(e,n){var m;const r=Vo("FormLabel",e),i=di(e),{className:s,children:o,requiredIndicator:a=J(F$,{}),optionalIndicator:l=null,...u}=i,c=U0(),p=(m=c==null?void 0:c.getLabelProps(u,n))!=null?m:{ref:n,...u};return Ye.createElement(xt.label,{...p,className:B0("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...r}},o,c!=null&&c.isRequired?a:l)});ufe.displayName="FormLabel";var F$=Et(function(e,n){const r=U0(),i=N$();if(!(r!=null&&r.isRequired))return null;const s=B0("chakra-form__required-indicator",e.className);return Ye.createElement(xt.span,{...r==null?void 0:r.getRequiredIndicatorProps(e,n),__css:i.requiredIndicator,className:s})});F$.displayName="RequiredIndicator";function H5(t,e){const n=U.exports.useRef(!1),r=U.exports.useRef(!1);U.exports.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),U.exports.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}function cfe(t){return J(Hp,{focusable:"false","aria-hidden":!0,...t,children:J("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var z$=Et(function(e,n){const r=Vo("CloseButton",e),{children:i,isDisabled:s,__css:o,...a}=di(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return Ye.createElement(xt.button,{type:"button","aria-label":"Close",ref:n,disabled:s,__css:{...l,...r,...o},...a},i||J(cfe,{width:"1em",height:"1em"}))});z$.displayName="CloseButton";var B$=`
  :root {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100lvh) {
    :root {
      --chakra-vh: 100lvh;
    }
  }
`,ffe=()=>J(AT,{styles:B$}),hfe=()=>J(AT,{styles:`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        font-feature-settings: 'kern';
      }

      *,
      *::before,
      *::after {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
      }

      main {
        display: block;
      }

      hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      pre,
      code,
      kbd,
      samp {
        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      b,
      strong {
        font-weight: bold;
      }

      small {
        font-size: 80%;
      }

      sub,
      sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      sub {
        bottom: -0.25em;
      }

      sup {
        top: -0.5em;
      }

      img {
        border-style: none;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      button,
      input {
        overflow: visible;
      }

      button,
      select {
        text-transform: none;
      }

      button::-moz-focus-inner,
      [type="button"]::-moz-focus-inner,
      [type="reset"]::-moz-focus-inner,
      [type="submit"]::-moz-focus-inner {
        border-style: none;
        padding: 0;
      }

      fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      progress {
        vertical-align: baseline;
      }

      textarea {
        overflow: auto;
      }

      [type="checkbox"],
      [type="radio"] {
        box-sizing: border-box;
        padding: 0;
      }

      [type="number"]::-webkit-inner-spin-button,
      [type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      input[type="number"] {
        -moz-appearance: textfield;
      }

      [type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      [type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      details {
        display: block;
      }

      summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      body,
      blockquote,
      dl,
      dd,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      hr,
      figure,
      p,
      pre {
        margin: 0;
      }

      button {
        background: transparent;
        padding: 0;
      }

      fieldset {
        margin: 0;
        padding: 0;
      }

      ol,
      ul {
        margin: 0;
        padding: 0;
      }

      textarea {
        resize: vertical;
      }

      button,
      [role="button"] {
        cursor: pointer;
      }

      button::-moz-focus-inner {
        border: 0 !important;
      }

      table {
        border-collapse: collapse;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-size: inherit;
        font-weight: inherit;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      img,
      svg,
      video,
      canvas,
      audio,
      iframe,
      embed,
      object {
        display: block;
      }

      img,
      video {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible] :focus:not([data-focus-visible-added]):not([data-focus-visible-disabled]) {
        outline: none;
        box-shadow: none;
      }

      select::-ms-expand {
        display: none;
      }

      ${B$}
    `});function hA(t,e,n,r){const i=GM(n);return U.exports.useEffect(()=>{const s=typeof t=="function"?t():t!=null?t:document;if(!(!n||!s))return s.addEventListener(e,i,r),()=>{s.removeEventListener(e,i,r)}},[e,t,r,i,n]),()=>{const s=typeof t=="function"?t():t!=null?t:document;s==null||s.removeEventListener(e,i,r)}}function Ap(t=!1){const[e,n]=U.exports.useState(t),r=U.exports.useMemo(()=>({on:()=>n(!0),off:()=>n(!1),toggle:()=>n(i=>!i)}),[]);return[e,r]}function OL(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}var h0=Et(function(e,n){const{htmlSize:r,...i}=e,s=Vp("Input",i),o=di(i),a=rfe(o),l=pi("chakra-input",e.className);return Ye.createElement(xt.input,{size:r,...a,__css:s.field,ref:n,className:l})});h0.displayName="Input";h0.id="Input";var[dfe,U$]=Bl({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),pfe=Et(function(e,n){const r=Vp("Input",e),{children:i,className:s,...o}=di(e),a=pi("chakra-input__group",s),l={},u=DL(i),c=r.field;u.forEach(m=>{var v,y;!r||(c&&m.type.id==="InputLeftElement"&&(l.paddingStart=(v=c.height)!=null?v:c.h),c&&m.type.id==="InputRightElement"&&(l.paddingEnd=(y=c.height)!=null?y:c.h),m.type.id==="InputRightAddon"&&(l.borderEndRadius=0),m.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const p=u.map(m=>{var v,y;const x=OL({size:((v=m.props)==null?void 0:v.size)||e.size,variant:((y=m.props)==null?void 0:y.variant)||e.variant});return m.type.id!=="Input"?U.exports.cloneElement(m,x):U.exports.cloneElement(m,Object.assign(x,l,m.props))});return Ye.createElement(xt.div,{className:a,ref:n,__css:{width:"100%",display:"flex",position:"relative"},...o},J(dfe,{value:r,children:p}))});pfe.displayName="InputGroup";var mfe={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},gfe=xt("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),NL=Et(function(e,n){var a;const{placement:r="left",...i}=e,s=(a=mfe[r])!=null?a:{},o=U$();return J(gfe,{ref:n,...i,__css:{...o.addon,...s}})});NL.displayName="InputAddon";var V$=Et(function(e,n){return J(NL,{ref:n,placement:"left",...e,className:pi("chakra-input__left-addon",e.className)})});V$.displayName="InputLeftAddon";V$.id="InputLeftAddon";var H$=Et(function(e,n){return J(NL,{ref:n,placement:"right",...e,className:pi("chakra-input__right-addon",e.className)})});H$.displayName="InputRightAddon";H$.id="InputRightAddon";var vfe=xt("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),HT=Et(function(e,n){var u,c;const{placement:r="left",...i}=e,s=U$(),o=s.field,l={[r==="left"?"insetStart":"insetEnd"]:"0",width:(u=o==null?void 0:o.height)!=null?u:o==null?void 0:o.h,height:(c=o==null?void 0:o.height)!=null?c:o==null?void 0:o.h,fontSize:o==null?void 0:o.fontSize,...s.element};return J(vfe,{ref:n,__css:l,...i})});HT.id="InputElement";HT.displayName="InputElement";var W$=Et(function(e,n){const{className:r,...i}=e,s=pi("chakra-input__left-element",r);return J(HT,{ref:n,placement:"left",className:s,...i})});W$.id="InputLeftElement";W$.displayName="InputLeftElement";var $$=Et(function(e,n){const{className:r,...i}=e,s=pi("chakra-input__right-element",r);return J(HT,{ref:n,placement:"right",className:s,...i})});$$.id="InputRightElement";$$.displayName="InputRightElement";function yfe(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}Object.freeze(["base","sm","md","lg","xl","2xl"]);function xh(t,e){return Array.isArray(t)?t.map(n=>n===null?null:e(n)):yfe(t)?Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{}):t!=null?e(t):null}var xfe=Et(function(t,e){const{ratio:n=4/3,children:r,className:i,...s}=t,o=U.exports.Children.only(r),a=pi("chakra-aspect-ratio",i);return Ye.createElement(xt.div,{ref:e,position:"relative",className:a,_before:{height:0,content:'""',display:"block",paddingBottom:xh(n,l=>`${1/l*100}%`)},__css:{"& > *:not(style)":{overflow:"hidden",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"& > img, & > video":{objectFit:"cover"}},...s},o)});xfe.displayName="AspectRatio";var _fe=Et(function(e,n){const r=Vo("Badge",e),{className:i,...s}=di(e);return Ye.createElement(xt.span,{ref:n,className:pi("chakra-badge",e.className),...s,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});_fe.displayName="Badge";var ya=xt("div");ya.displayName="Box";var G$=Et(function(e,n){const{size:r,centerContent:i=!0,...s}=e;return J(ya,{ref:n,boxSize:r,__css:{...i?{display:"flex",alignItems:"center",justifyContent:"center"}:{},flexShrink:0,flexGrow:0},...s})});G$.displayName="Square";var wfe=Et(function(e,n){const{size:r,...i}=e;return J(G$,{size:r,ref:n,borderRadius:"9999px",...i})});wfe.displayName="Circle";var WT=xt("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});WT.displayName="Center";var Sfe={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};Et(function(e,n){const{axis:r="both",...i}=e;return Ye.createElement(xt.div,{ref:n,__css:Sfe[r],...i,position:"absolute"})});var bfe=Et(function(e,n){const r=Vo("Code",e),{className:i,...s}=di(e);return Ye.createElement(xt.code,{ref:n,className:pi("chakra-code",e.className),...s,__css:{display:"inline-block",...r}})});bfe.displayName="Code";var Mfe=Et(function(e,n){const{className:r,centerContent:i,...s}=di(e),o=Vo("Container",e);return Ye.createElement(xt.div,{ref:n,className:pi("chakra-container",r),...s,__css:{...o,...i&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});Mfe.displayName="Container";var Efe=Et(function(e,n){const{borderLeftWidth:r,borderBottomWidth:i,borderTopWidth:s,borderRightWidth:o,borderWidth:a,borderStyle:l,borderColor:u,...c}=Vo("Divider",e),{className:p,orientation:m="horizontal",__css:v,...y}=di(e),x={vertical:{borderLeftWidth:r||o||a||"1px",height:"100%"},horizontal:{borderBottomWidth:i||s||a||"1px",width:"100%"}};return Ye.createElement(xt.hr,{ref:n,"aria-orientation":m,...y,__css:{...c,border:"0",borderColor:u,borderStyle:l,...x[m],...v},className:pi("chakra-divider",p)})});Efe.displayName="Divider";var j$=Et(function(e,n){const{direction:r,align:i,justify:s,wrap:o,basis:a,grow:l,shrink:u,...c}=e,p={display:"flex",flexDirection:r,alignItems:i,justifyContent:s,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:u};return Ye.createElement(xt.div,{ref:n,__css:p,...c})});j$.displayName="Flex";var $T=Et(function(e,n){const{templateAreas:r,gap:i,rowGap:s,columnGap:o,column:a,row:l,autoFlow:u,autoRows:c,templateRows:p,autoColumns:m,templateColumns:v,...y}=e,x={display:"grid",gridTemplateAreas:r,gridGap:i,gridRowGap:s,gridColumnGap:o,gridAutoColumns:m,gridColumn:a,gridRow:l,gridAutoFlow:u,gridAutoRows:c,gridTemplateRows:p,gridTemplateColumns:v};return Ye.createElement(xt.div,{ref:n,__css:x,...y})});$T.displayName="Grid";function W5(t){return xh(t,e=>e==="auto"?"auto":`span ${e}/span ${e}`)}var Tfe=Et(function(e,n){const{area:r,colSpan:i,colStart:s,colEnd:o,rowEnd:a,rowSpan:l,rowStart:u,...c}=e,p=OL({gridArea:r,gridColumn:W5(i),gridRow:W5(l),gridColumnStart:s,gridColumnEnd:o,gridRowStart:u,gridRowEnd:a});return Ye.createElement(xt.div,{ref:n,__css:p,...c})});Tfe.displayName="GridItem";var q$=Et(function(e,n){const r=Vo("Heading",e),{className:i,...s}=di(e);return Ye.createElement(xt.h2,{ref:n,className:pi("chakra-heading",e.className),...s,__css:r})});q$.displayName="Heading";Et(function(e,n){const r=Vo("Mark",e),i=di(e);return J(ya,{ref:n,...i,as:"mark",__css:{bg:"transparent",whiteSpace:"nowrap",...r}})});var Cfe=Et(function(e,n){const r=Vo("Kbd",e),{className:i,...s}=di(e);return Ye.createElement(xt.kbd,{ref:n,className:pi("chakra-kbd",i),...s,__css:{fontFamily:"mono",...r}})});Cfe.displayName="Kbd";var Afe=Et(function(e,n){const r=Vo("Link",e),{className:i,isExternal:s,...o}=di(e);return Ye.createElement(xt.a,{target:s?"_blank":void 0,rel:s?"noopener":void 0,ref:n,className:pi("chakra-link",i),...o,__css:r})});Afe.displayName="Link";Et(function(e,n){const{isExternal:r,target:i,rel:s,className:o,...a}=e;return Ye.createElement(xt.a,{...a,ref:n,className:pi("chakra-linkbox__overlay",o),rel:r?"noopener noreferrer":s,target:r?"_blank":i,__css:{position:"static","&::before":{content:"''",cursor:"inherit",display:"block",position:"absolute",top:0,left:0,zIndex:0,width:"100%",height:"100%"}}})});Et(function(e,n){const{className:r,...i}=e;return Ye.createElement(xt.div,{ref:n,position:"relative",...i,className:pi("chakra-linkbox",r),__css:{"a[href]:not(.chakra-linkbox__overlay), abbr[title]":{position:"relative",zIndex:1}}})});var[Pfe,X$]=Bl({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),FL=Et(function(e,n){const r=Vp("List",e),{children:i,styleType:s="none",stylePosition:o,spacing:a,...l}=di(e),u=DL(i),p=a?{["& > *:not(style) ~ *:not(style)"]:{mt:a}}:{};return Ye.createElement(Pfe,{value:r},Ye.createElement(xt.ul,{ref:n,listStyleType:s,listStylePosition:o,role:"list",__css:{...r.container,...p},...l},u))});FL.displayName="List";var Rfe=Et((t,e)=>{const{as:n,...r}=t;return J(FL,{ref:e,as:"ol",styleType:"decimal",marginStart:"1em",...r})});Rfe.displayName="OrderedList";var Ife=Et(function(e,n){const{as:r,...i}=e;return J(FL,{ref:n,as:"ul",styleType:"initial",marginStart:"1em",...i})});Ife.displayName="UnorderedList";var kfe=Et(function(e,n){const r=X$();return Ye.createElement(xt.li,{ref:n,...e,__css:r.item})});kfe.displayName="ListItem";var Lfe=Et(function(e,n){const r=X$();return J(Hp,{ref:n,role:"presentation",...e,__css:r.icon})});Lfe.displayName="ListIcon";var Dfe=Et(function(e,n){const{columns:r,spacingX:i,spacingY:s,spacing:o,minChildWidth:a,...l}=e,u=aL(),c=a?Nfe(a,u):Ffe(r);return J($T,{ref:n,gap:o,columnGap:i,rowGap:s,templateColumns:c,...l})});Dfe.displayName="SimpleGrid";function Ofe(t){return typeof t=="number"?`${t}px`:t}function Nfe(t,e){return xh(t,n=>{const r=gse("sizes",n,Ofe(n))(e);return n===null?null:`repeat(auto-fit, minmax(${r}, 1fr))`})}function Ffe(t){return xh(t,e=>e===null?null:`repeat(${e}, minmax(0, 1fr))`)}var Y$=xt("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Y$.displayName="Spacer";var a3="& > *:not(style) ~ *:not(style)";function zfe(t){const{spacing:e,direction:n}=t,r={column:{marginTop:e,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:e},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:e,marginStart:0},"row-reverse":{marginTop:0,marginEnd:e,marginBottom:0,marginStart:0}};return{flexDirection:n,[a3]:xh(n,i=>r[i])}}function Bfe(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":xh(n,i=>r[i])}}var Q$=t=>Ye.createElement(xt.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});Q$.displayName="StackItem";var zL=Et((t,e)=>{const{isInline:n,direction:r,align:i,justify:s,spacing:o="0.5rem",wrap:a,children:l,divider:u,className:c,shouldWrapChildren:p,...m}=t,v=n?"row":r!=null?r:"column",y=U.exports.useMemo(()=>zfe({direction:v,spacing:o}),[v,o]),x=U.exports.useMemo(()=>Bfe({spacing:o,direction:v}),[o,v]),_=!!u,b=!p&&!_,M=U.exports.useMemo(()=>{const T=DL(l);return b?T:T.map((A,k)=>{const L=typeof A.key<"u"?A.key:k,P=k+1===T.length,N=p?J(Q$,{children:A},L):A;if(!_)return N;const H=U.exports.cloneElement(u,{__css:x}),ie=P?null:H;return jt(U.exports.Fragment,{children:[N,ie]},L)})},[u,x,_,b,p,l]),w=pi("chakra-stack",c);return Ye.createElement(xt.div,{ref:e,display:"flex",alignItems:i,justifyContent:s,flexDirection:y.flexDirection,flexWrap:a,className:w,__css:_?{}:{[a3]:y[a3]},...m},M)});zL.displayName="Stack";var o_=Et((t,e)=>J(zL,{align:"center",...t,direction:"row",ref:e}));o_.displayName="HStack";var Gp=Et((t,e)=>J(zL,{align:"center",...t,direction:"column",ref:e}));Gp.displayName="VStack";var vs=Et(function(e,n){const r=Vo("Text",e),{className:i,align:s,decoration:o,casing:a,...l}=di(e),u=OL({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return Ye.createElement(xt.p,{ref:n,className:pi("chakra-text",e.className),...u,...l,__css:r})});vs.displayName="Text";function $5(t){return typeof t=="number"?`${t}px`:t}var Ufe=Et(function(e,n){const{spacing:r="0.5rem",spacingX:i,spacingY:s,children:o,justify:a,direction:l,align:u,className:c,shouldWrapChildren:p,...m}=e,v=U.exports.useMemo(()=>{const{spacingX:x=r,spacingY:_=r}={spacingX:i,spacingY:s};return{"--chakra-wrap-x-spacing":b=>xh(x,M=>$5(PR("space",M)(b))),"--chakra-wrap-y-spacing":b=>xh(_,M=>$5(PR("space",M)(b))),"--wrap-x-spacing":"calc(var(--chakra-wrap-x-spacing) / 2)","--wrap-y-spacing":"calc(var(--chakra-wrap-y-spacing) / 2)",display:"flex",flexWrap:"wrap",justifyContent:a,alignItems:u,flexDirection:l,listStyleType:"none",padding:"0",margin:"calc(var(--wrap-y-spacing) * -1) calc(var(--wrap-x-spacing) * -1)","& > *:not(style)":{margin:"var(--wrap-y-spacing) var(--wrap-x-spacing)"}}},[r,i,s,a,u,l]),y=U.exports.useMemo(()=>p?U.exports.Children.map(o,(x,_)=>J(K$,{children:x},_)):o,[o,p]);return Ye.createElement(xt.div,{ref:n,className:pi("chakra-wrap",c),overflow:"hidden",...m},Ye.createElement(xt.ul,{className:"chakra-wrap__list",__css:v},y))});Ufe.displayName="Wrap";var K$=Et(function(e,n){const{className:r,...i}=e;return Ye.createElement(xt.li,{ref:n,__css:{display:"flex",alignItems:"flex-start"},className:pi("chakra-wrap__listitem",r),...i})});K$.displayName="WrapItem";var Vfe={body:{classList:{add(){},remove(){}}},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}}},Z$=Vfe,Hm=()=>{},Hfe={document:Z$,navigator:{userAgent:""},CustomEvent:function(){return this},addEventListener:Hm,removeEventListener:Hm,getComputedStyle(){return{getPropertyValue(){return""}}},matchMedia(){return{matches:!1,addListener:Hm,removeListener:Hm}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)},setTimeout:()=>0,clearTimeout:Hm,setInterval:()=>0,clearInterval:Hm},Wfe=Hfe,$fe={window:Wfe,document:Z$},J$=typeof window<"u"?{window,document}:$fe,eG=U.exports.createContext(J$);eG.displayName="EnvironmentContext";function tG(t){const{children:e,environment:n}=t,[r,i]=U.exports.useState(null),[s,o]=U.exports.useState(!1);U.exports.useEffect(()=>o(!0),[]);const a=U.exports.useMemo(()=>{if(n)return n;const l=r==null?void 0:r.ownerDocument,u=r==null?void 0:r.ownerDocument.defaultView;return l?{document:l,window:u}:J$},[r,n]);return jt(eG.Provider,{value:a,children:[e,!n&&s&&J("span",{id:"__chakra_env",hidden:!0,ref:l=>{U.exports.startTransition(()=>{l&&i(l)})}})]})}tG.displayName="EnvironmentProvider";var zo="top",el="bottom",tl="right",Bo="left",BL="auto",a_=[zo,el,tl,Bo],d0="start",t1="end",Gfe="clippingParents",nG="viewport",uy="popper",jfe="reference",G5=a_.reduce(function(t,e){return t.concat([e+"-"+d0,e+"-"+t1])},[]),rG=[].concat(a_,[BL]).reduce(function(t,e){return t.concat([e,e+"-"+d0,e+"-"+t1])},[]),qfe="beforeRead",Xfe="read",Yfe="afterRead",Qfe="beforeMain",Kfe="main",Zfe="afterMain",Jfe="beforeWrite",ehe="write",the="afterWrite",nhe=[qfe,Xfe,Yfe,Qfe,Kfe,Zfe,Jfe,ehe,the];function Du(t){return t?(t.nodeName||"").toLowerCase():null}function nl(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Pp(t){var e=nl(t).Element;return t instanceof e||t instanceof Element}function Ka(t){var e=nl(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function UL(t){if(typeof ShadowRoot>"u")return!1;var e=nl(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function rhe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Ka(s)||!Du(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function ihe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Ka(i)||!Du(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const she={name:"applyStyles",enabled:!0,phase:"write",fn:rhe,effect:ihe,requires:["computeStyles"]};function Au(t){return t.split("-")[0]}var cp=Math.max,iE=Math.min,p0=Math.round;function l3(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function iG(){return!/^((?!chrome|android).)*safari/i.test(l3())}function m0(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Ka(t)&&(i=t.offsetWidth>0&&p0(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&p0(r.height)/t.offsetHeight||1);var o=Pp(t)?nl(t):window,a=o.visualViewport,l=!iG()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,p=r.width/i,m=r.height/s;return{width:p,height:m,top:c,right:u+p,bottom:c+m,left:u,x:u,y:c}}function VL(t){var e=m0(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function sG(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&UL(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function zc(t){return nl(t).getComputedStyle(t)}function ohe(t){return["table","td","th"].indexOf(Du(t))>=0}function kh(t){return((Pp(t)?t.ownerDocument:t.document)||window.document).documentElement}function GT(t){return Du(t)==="html"?t:t.assignedSlot||t.parentNode||(UL(t)?t.host:null)||kh(t)}function j5(t){return!Ka(t)||zc(t).position==="fixed"?null:t.offsetParent}function ahe(t){var e=/firefox/i.test(l3()),n=/Trident/i.test(l3());if(n&&Ka(t)){var r=zc(t);if(r.position==="fixed")return null}var i=GT(t);for(UL(i)&&(i=i.host);Ka(i)&&["html","body"].indexOf(Du(i))<0;){var s=zc(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function l_(t){for(var e=nl(t),n=j5(t);n&&ohe(n)&&zc(n).position==="static";)n=j5(n);return n&&(Du(n)==="html"||Du(n)==="body"&&zc(n).position==="static")?e:n||ahe(t)||e}function HL(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ox(t,e,n){return cp(t,iE(e,n))}function lhe(t,e,n){var r=ox(t,e,n);return r>n?n:r}function oG(){return{top:0,right:0,bottom:0,left:0}}function aG(t){return Object.assign({},oG(),t)}function lG(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var uhe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,aG(typeof e!="number"?e:lG(e,a_))};function che(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Au(n.placement),l=HL(a),u=[Bo,tl].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var p=uhe(i.padding,n),m=VL(s),v=l==="y"?zo:Bo,y=l==="y"?el:tl,x=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],_=o[l]-n.rects.reference[l],b=l_(s),M=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,w=x/2-_/2,T=p[v],A=M-m[c]-p[y],k=M/2-m[c]/2+w,L=ox(T,k,A),P=l;n.modifiersData[r]=(e={},e[P]=L,e.centerOffset=L-k,e)}}function fhe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!sG(e.elements.popper,i)||(e.elements.arrow=i))}const hhe={name:"arrow",enabled:!0,phase:"main",fn:che,effect:fhe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function g0(t){return t.split("-")[1]}var dhe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function phe(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:p0(e*i)/i||0,y:p0(n*i)/i||0}}function q5(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,p=t.isFixed,m=o.x,v=m===void 0?0:m,y=o.y,x=y===void 0?0:y,_=typeof c=="function"?c({x:v,y:x}):{x:v,y:x};v=_.x,x=_.y;var b=o.hasOwnProperty("x"),M=o.hasOwnProperty("y"),w=Bo,T=zo,A=window;if(u){var k=l_(n),L="clientHeight",P="clientWidth";if(k===nl(n)&&(k=kh(n),zc(k).position!=="static"&&a==="absolute"&&(L="scrollHeight",P="scrollWidth")),k=k,i===zo||(i===Bo||i===tl)&&s===t1){T=el;var O=p&&k===A&&A.visualViewport?A.visualViewport.height:k[L];x-=O-r.height,x*=l?1:-1}if(i===Bo||(i===zo||i===el)&&s===t1){w=tl;var N=p&&k===A&&A.visualViewport?A.visualViewport.width:k[P];v-=N-r.width,v*=l?1:-1}}var H=Object.assign({position:a},u&&dhe),ie=c===!0?phe({x:v,y:x}):{x:v,y:x};if(v=ie.x,x=ie.y,l){var te;return Object.assign({},H,(te={},te[T]=M?"0":"",te[w]=b?"0":"",te.transform=(A.devicePixelRatio||1)<=1?"translate("+v+"px, "+x+"px)":"translate3d("+v+"px, "+x+"px, 0)",te))}return Object.assign({},H,(e={},e[T]=M?x+"px":"",e[w]=b?v+"px":"",e.transform="",e))}function mhe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Au(e.placement),variation:g0(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,q5(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,q5(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ghe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mhe,data:{}};var AS={passive:!0};function vhe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=nl(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,AS)}),a&&l.addEventListener("resize",n.update,AS),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,AS)}),a&&l.removeEventListener("resize",n.update,AS)}}const yhe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vhe,data:{}};var xhe={left:"right",right:"left",bottom:"top",top:"bottom"};function Kb(t){return t.replace(/left|right|bottom|top/g,function(e){return xhe[e]})}var _he={start:"end",end:"start"};function X5(t){return t.replace(/start|end/g,function(e){return _he[e]})}function WL(t){var e=nl(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function $L(t){return m0(kh(t)).left+WL(t).scrollLeft}function whe(t,e){var n=nl(t),r=kh(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=iG();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+$L(t),y:l}}function She(t){var e,n=kh(t),r=WL(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=cp(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=cp(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+$L(t),l=-r.scrollTop;return zc(i||n).direction==="rtl"&&(a+=cp(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function GL(t){var e=zc(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function uG(t){return["html","body","#document"].indexOf(Du(t))>=0?t.ownerDocument.body:Ka(t)&&GL(t)?t:uG(GT(t))}function ax(t,e){var n;e===void 0&&(e=[]);var r=uG(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=nl(r),o=i?[s].concat(s.visualViewport||[],GL(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(ax(GT(o)))}function u3(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function bhe(t,e){var n=m0(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Y5(t,e,n){return e===nG?u3(whe(t,n)):Pp(e)?bhe(e,n):u3(She(kh(t)))}function Mhe(t){var e=ax(GT(t)),n=["absolute","fixed"].indexOf(zc(t).position)>=0,r=n&&Ka(t)?l_(t):t;return Pp(r)?e.filter(function(i){return Pp(i)&&sG(i,r)&&Du(i)!=="body"}):[]}function Ehe(t,e,n,r){var i=e==="clippingParents"?Mhe(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=Y5(t,u,r);return l.top=cp(c.top,l.top),l.right=iE(c.right,l.right),l.bottom=iE(c.bottom,l.bottom),l.left=cp(c.left,l.left),l},Y5(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function cG(t){var e=t.reference,n=t.element,r=t.placement,i=r?Au(r):null,s=r?g0(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case zo:l={x:o,y:e.y-n.height};break;case el:l={x:o,y:e.y+e.height};break;case tl:l={x:e.x+e.width,y:a};break;case Bo:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?HL(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case d0:l[u]=l[u]-(e[c]/2-n[c]/2);break;case t1:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function n1(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Gfe:a,u=n.rootBoundary,c=u===void 0?nG:u,p=n.elementContext,m=p===void 0?uy:p,v=n.altBoundary,y=v===void 0?!1:v,x=n.padding,_=x===void 0?0:x,b=aG(typeof _!="number"?_:lG(_,a_)),M=m===uy?jfe:uy,w=t.rects.popper,T=t.elements[y?M:m],A=Ehe(Pp(T)?T:T.contextElement||kh(t.elements.popper),l,c,o),k=m0(t.elements.reference),L=cG({reference:k,element:w,strategy:"absolute",placement:i}),P=u3(Object.assign({},w,L)),O=m===uy?P:k,N={top:A.top-O.top+b.top,bottom:O.bottom-A.bottom+b.bottom,left:A.left-O.left+b.left,right:O.right-A.right+b.right},H=t.modifiersData.offset;if(m===uy&&H){var ie=H[i];Object.keys(N).forEach(function(te){var ee=[tl,el].indexOf(te)>=0?1:-1,ue=[zo,el].indexOf(te)>=0?"y":"x";N[te]+=ie[ue]*ee})}return N}function The(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?rG:l,c=g0(r),p=c?a?G5:G5.filter(function(y){return g0(y)===c}):a_,m=p.filter(function(y){return u.indexOf(y)>=0});m.length===0&&(m=p);var v=m.reduce(function(y,x){return y[x]=n1(t,{placement:x,boundary:i,rootBoundary:s,padding:o})[Au(x)],y},{});return Object.keys(v).sort(function(y,x){return v[y]-v[x]})}function Che(t){if(Au(t)===BL)return[];var e=Kb(t);return[X5(t),e,X5(e)]}function Ahe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,p=n.rootBoundary,m=n.altBoundary,v=n.flipVariations,y=v===void 0?!0:v,x=n.allowedAutoPlacements,_=e.options.placement,b=Au(_),M=b===_,w=l||(M||!y?[Kb(_)]:Che(_)),T=[_].concat(w).reduce(function(we,Me){return we.concat(Au(Me)===BL?The(e,{placement:Me,boundary:c,rootBoundary:p,padding:u,flipVariations:y,allowedAutoPlacements:x}):Me)},[]),A=e.rects.reference,k=e.rects.popper,L=new Map,P=!0,O=T[0],N=0;N<T.length;N++){var H=T[N],ie=Au(H),te=g0(H)===d0,ee=[zo,el].indexOf(ie)>=0,ue=ee?"width":"height",ae=n1(e,{placement:H,boundary:c,rootBoundary:p,altBoundary:m,padding:u}),fe=ee?te?tl:Bo:te?el:zo;A[ue]>k[ue]&&(fe=Kb(fe));var z=Kb(fe),Y=[];if(s&&Y.push(ae[ie]<=0),a&&Y.push(ae[fe]<=0,ae[z]<=0),Y.every(function(we){return we})){O=H,P=!1;break}L.set(H,Y)}if(P)for(var Z=y?3:1,B=function(Me){var pe=T.find(function(We){var Be=L.get(We);if(Be)return Be.slice(0,Me).every(function(Qe){return Qe})});if(pe)return O=pe,"break"},G=Z;G>0;G--){var le=B(G);if(le==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}const Phe={name:"flip",enabled:!0,phase:"main",fn:Ahe,requiresIfExists:["offset"],data:{_skip:!1}};function Q5(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function K5(t){return[zo,tl,el,Bo].some(function(e){return t[e]>=0})}function Rhe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=n1(e,{elementContext:"reference"}),a=n1(e,{altBoundary:!0}),l=Q5(o,r),u=Q5(a,i,s),c=K5(l),p=K5(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":p})}const Ihe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Rhe};function khe(t,e,n){var r=Au(t),i=[Bo,zo].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Bo,tl].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Lhe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=rG.reduce(function(c,p){return c[p]=khe(p,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const Dhe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Lhe};function Ohe(t){var e=t.state,n=t.name;e.modifiersData[n]=cG({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Nhe={name:"popperOffsets",enabled:!0,phase:"read",fn:Ohe,data:{}};function Fhe(t){return t==="x"?"y":"x"}function zhe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,p=n.padding,m=n.tether,v=m===void 0?!0:m,y=n.tetherOffset,x=y===void 0?0:y,_=n1(e,{boundary:l,rootBoundary:u,padding:p,altBoundary:c}),b=Au(e.placement),M=g0(e.placement),w=!M,T=HL(b),A=Fhe(T),k=e.modifiersData.popperOffsets,L=e.rects.reference,P=e.rects.popper,O=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,N=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),H=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ie={x:0,y:0};if(!!k){if(s){var te,ee=T==="y"?zo:Bo,ue=T==="y"?el:tl,ae=T==="y"?"height":"width",fe=k[T],z=fe+_[ee],Y=fe-_[ue],Z=v?-P[ae]/2:0,B=M===d0?L[ae]:P[ae],G=M===d0?-P[ae]:-L[ae],le=e.elements.arrow,we=v&&le?VL(le):{width:0,height:0},Me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:oG(),pe=Me[ee],We=Me[ue],Be=ox(0,L[ae],we[ae]),Qe=w?L[ae]/2-Z-Be-pe-N.mainAxis:B-Be-pe-N.mainAxis,Fe=w?-L[ae]/2+Z+Be+We+N.mainAxis:G+Be+We+N.mainAxis,pt=e.elements.arrow&&l_(e.elements.arrow),Ie=pt?T==="y"?pt.clientTop||0:pt.clientLeft||0:0,Ae=(te=H==null?void 0:H[T])!=null?te:0,qe=fe+Qe-Ae-Ie,ct=fe+Fe-Ae,rt=ox(v?iE(z,qe):z,fe,v?cp(Y,ct):Y);k[T]=rt,ie[T]=rt-fe}if(a){var St,bt=T==="x"?zo:Bo,Mt=T==="x"?el:tl,zt=k[A],Nt=A==="y"?"height":"width",Q=zt+_[bt],W=zt-_[Mt],be=[zo,Bo].indexOf(b)!==-1,$e=(St=H==null?void 0:H[A])!=null?St:0,Ke=be?Q:zt-L[Nt]-P[Nt]-$e+N.altAxis,nt=be?zt+L[Nt]+P[Nt]-$e-N.altAxis:W,_t=v&&be?lhe(Ke,zt,nt):ox(v?Ke:Q,zt,v?nt:W);k[A]=_t,ie[A]=_t-zt}e.modifiersData[r]=ie}}const Bhe={name:"preventOverflow",enabled:!0,phase:"main",fn:zhe,requiresIfExists:["offset"]};function Uhe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Vhe(t){return t===nl(t)||!Ka(t)?WL(t):Uhe(t)}function Hhe(t){var e=t.getBoundingClientRect(),n=p0(e.width)/t.offsetWidth||1,r=p0(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Whe(t,e,n){n===void 0&&(n=!1);var r=Ka(e),i=Ka(e)&&Hhe(e),s=kh(e),o=m0(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Du(e)!=="body"||GL(s))&&(a=Vhe(e)),Ka(e)?(l=m0(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=$L(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function $he(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Ghe(t){var e=$he(t);return nhe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function jhe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function qhe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Z5={placement:"bottom",modifiers:[],strategy:"absolute"};function J5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Xhe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?Z5:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Z5,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],m=!1,v={state:c,setOptions:function(b){var M=typeof b=="function"?b(c.options):b;x(),c.options=Object.assign({},s,c.options,M),c.scrollParents={reference:Pp(a)?ax(a):a.contextElement?ax(a.contextElement):[],popper:ax(l)};var w=Ghe(qhe([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(T){return T.enabled}),y(),v.update()},forceUpdate:function(){if(!m){var b=c.elements,M=b.reference,w=b.popper;if(!!J5(M,w)){c.rects={reference:Whe(M,l_(w),c.options.strategy==="fixed"),popper:VL(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(N){return c.modifiersData[N.name]=Object.assign({},N.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var A=c.orderedModifiers[T],k=A.fn,L=A.options,P=L===void 0?{}:L,O=A.name;typeof k=="function"&&(c=k({state:c,options:P,name:O,instance:v})||c)}}}},update:jhe(function(){return new Promise(function(_){v.forceUpdate(),_(c)})}),destroy:function(){x(),m=!0}};if(!J5(a,l))return v;v.setOptions(u).then(function(_){!m&&u.onFirstUpdate&&u.onFirstUpdate(_)});function y(){c.orderedModifiers.forEach(function(_){var b=_.name,M=_.options,w=M===void 0?{}:M,T=_.effect;if(typeof T=="function"){var A=T({state:c,name:b,instance:v,options:w}),k=function(){};p.push(A||k)}})}function x(){p.forEach(function(_){return _()}),p=[]}return v}}var Yhe=[yhe,Nhe,ghe,she,Dhe,Phe,Bhe,hhe,Ihe],Qhe=Xhe({defaultModifiers:Yhe}),Wm=(t,e)=>({var:t,varRef:e?`var(${t}, ${e})`:`var(${t})`}),ms={arrowShadowColor:Wm("--popper-arrow-shadow-color"),arrowSize:Wm("--popper-arrow-size","8px"),arrowSizeHalf:Wm("--popper-arrow-size-half"),arrowBg:Wm("--popper-arrow-bg"),transformOrigin:Wm("--popper-transform-origin"),arrowOffset:Wm("--popper-arrow-offset")};function Khe(t){if(t.includes("top"))return"1px 1px 1px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 1px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 1px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 1px 0 var(--popper-arrow-shadow-color)"}var Zhe={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},Jhe=t=>Zhe[t],ez={scroll:!0,resize:!0};function ede(t){let e;return typeof t=="object"?e={enabled:!0,options:{...ez,...t}}:e={enabled:t,options:ez},e}var tde={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const e=t.elements.reference;t.elements.popper.style.width=`${e.offsetWidth}px`}},nde={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{tz(t)},effect:({state:t})=>()=>{tz(t)}},tz=t=>{t.elements.popper.style.setProperty(ms.transformOrigin.var,Jhe(t.placement))},rde={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{ide(t)}},ide=t=>{var e;if(!t.placement)return;const n=sde(t.placement);if(((e=t.elements)==null?void 0:e.arrow)&&n){Object.assign(t.elements.arrow.style,{[n.property]:n.value,width:ms.arrowSize.varRef,height:ms.arrowSize.varRef,zIndex:-1});const r={[ms.arrowSizeHalf.var]:`calc(${ms.arrowSize.varRef} / 2)`,[ms.arrowOffset.var]:`calc(${ms.arrowSizeHalf.varRef} * -1)`};for(const i in r)t.elements.arrow.style.setProperty(i,r[i])}},sde=t=>{if(t.startsWith("top"))return{property:"bottom",value:ms.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:ms.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:ms.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:ms.arrowOffset.varRef}},ode={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{nz(t)},effect:({state:t})=>()=>{nz(t)}},nz=t=>{if(!t.elements.arrow)return;const e=t.elements.arrow.querySelector("[data-popper-arrow-inner]");!e||Object.assign(e.style,{transform:"rotate(45deg)",background:ms.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:Khe(t.placement)})},ade={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},lde={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function ude(t,e="ltr"){var i;var n;const r=((n=ade[t])==null?void 0:n[e])||t;return e==="ltr"?r:(i=lde[t])!=null?i:r}function cde(t={}){const{enabled:e=!0,modifiers:n,placement:r="bottom",strategy:i="absolute",arrowPadding:s=8,eventListeners:o=!0,offset:a,gutter:l=8,flip:u=!0,boundary:c="clippingParents",preventOverflow:p=!0,matchWidth:m,direction:v="ltr"}=t,y=U.exports.useRef(null),x=U.exports.useRef(null),_=U.exports.useRef(null),b=ude(r,v),M=U.exports.useRef(()=>{}),w=U.exports.useCallback(()=>{var N;!e||!y.current||!x.current||((N=M.current)==null||N.call(M),_.current=Qhe(y.current,x.current,{placement:b,modifiers:[ode,rde,nde,{...tde,enabled:!!m},{name:"eventListeners",...ede(o)},{name:"arrow",options:{padding:s}},{name:"offset",options:{offset:a!=null?a:[0,l]}},{name:"flip",enabled:!!u,options:{padding:8}},{name:"preventOverflow",enabled:!!p,options:{boundary:c}},...n!=null?n:[]],strategy:i}),_.current.forceUpdate(),M.current=_.current.destroy)},[b,e,n,m,o,s,a,l,u,p,c,i]);U.exports.useEffect(()=>()=>{var N;!y.current&&!x.current&&((N=_.current)==null||N.destroy(),_.current=null)},[]);const T=U.exports.useCallback(N=>{y.current=N,w()},[w]),A=U.exports.useCallback((N={},H=null)=>({...N,ref:c0(T,H)}),[T]),k=U.exports.useCallback(N=>{x.current=N,w()},[w]),L=U.exports.useCallback((N={},H=null)=>({...N,ref:c0(k,H),style:{...N.style,position:i,minWidth:m?void 0:"max-content",inset:"0 auto auto 0"}}),[i,k,m]),P=U.exports.useCallback((N={},H=null)=>{const{size:ie,shadowColor:te,bg:ee,style:ue,...ae}=N;return{...ae,ref:H,"data-popper-arrow":"",style:fde(N)}},[]),O=U.exports.useCallback((N={},H=null)=>({...N,ref:H,"data-popper-arrow-inner":""}),[]);return{update(){var N;(N=_.current)==null||N.update()},forceUpdate(){var N;(N=_.current)==null||N.forceUpdate()},transformOrigin:ms.transformOrigin.varRef,referenceRef:T,popperRef:k,getPopperProps:L,getArrowProps:P,getArrowInnerProps:O,getReferenceProps:A}}function fde(t){const{size:e,shadowColor:n,bg:r,style:i}=t,s={...i,position:"absolute"};return e&&(s["--popper-arrow-size"]=e),n&&(s["--popper-arrow-shadow-color"]=n),r&&(s["--popper-arrow-bg"]=r),s}function hde(t={}){const{onClose:e,onOpen:n,isOpen:r,id:i}=t,s=GM(n),o=GM(e),[a,l]=U.exports.useState(t.defaultIsOpen||!1),u=r!==void 0?r:a,c=r!==void 0,p=U.exports.useId(),m=i!=null?i:`disclosure-${p}`,v=U.exports.useCallback(()=>{c||l(!1),o==null||o()},[c,o]),y=U.exports.useCallback(()=>{c||l(!0),s==null||s()},[c,s]),x=U.exports.useCallback(()=>{u?v():y()},[u,y,v]);function _(M={}){return{...M,"aria-expanded":u,"aria-controls":m,onClick(w){var T;(T=M.onClick)==null||T.call(M,w),x()}}}function b(M={}){return{...M,hidden:!u,id:m}}return{isOpen:u,onOpen:y,onClose:v,onToggle:x,isControlled:c,getButtonProps:_,getDisclosureProps:b}}var[dde,pde]=Bl({strict:!1,name:"PortalManagerContext"});function fG(t){const{children:e,zIndex:n}=t;return J(dde,{value:{zIndex:n},children:e})}fG.displayName="PortalManager";var[hG,mde]=Bl({strict:!1,name:"PortalContext"}),jL="chakra-portal",gde=".chakra-portal",vde=t=>J("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),yde=t=>{const{appendToParentPortal:e,children:n}=t,[r,i]=U.exports.useState(null),s=U.exports.useRef(null),[,o]=U.exports.useState({});U.exports.useEffect(()=>o({}),[]);const a=mde(),l=pde();HM(()=>{if(!r)return;const c=r.ownerDocument,p=e&&a!=null?a:c.body;if(!p)return;s.current=c.createElement("div"),s.current.className=jL,p.appendChild(s.current),o({});const m=s.current;return()=>{p.contains(m)&&p.removeChild(m)}},[r]);const u=l!=null&&l.zIndex?J(vde,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return s.current?j1.exports.createPortal(J(hG,{value:s.current,children:u}),s.current):J("span",{ref:c=>{c&&i(c)}})},xde=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,i=n.current,s=i!=null?i:typeof window<"u"?document.body:void 0,o=U.exports.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=jL),l},[i]),[,a]=U.exports.useState({});return HM(()=>a({}),[]),HM(()=>{if(!(!o||!s))return s.appendChild(o),()=>{s.removeChild(o)}},[o,s]),s&&o?j1.exports.createPortal(J(hG,{value:r?o:null,children:e}),o):null};function V0(t){const{containerRef:e,...n}=t;return e?J(xde,{containerRef:e,...n}):J(yde,{...n})}V0.defaultProps={appendToParentPortal:!0};V0.className=jL;V0.selector=gde;V0.displayName="Portal";function c3(t,e){return c3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c3(t,e)}function u_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c3(t,e)}function fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dG=(...t)=>t.filter(Boolean).join(" "),[_de,jp]=Bl({name:"TableStylesContext",errorMessage:`useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Table />" `}),pG=Et((t,e)=>{const n=Vp("Table",t),{className:r,...i}=di(t);return Ye.createElement(_de,{value:n},Ye.createElement(xt.table,{ref:e,__css:n.table,className:dG("chakra-table",r),...i}))});pG.displayName="Table";var wde=Et((t,e)=>{var o;const{overflow:n,overflowX:r,className:i,...s}=t;return Ye.createElement(xt.div,{ref:e,className:dG("chakra-table__container",i),...s,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:(o=n!=null?n:r)!=null?o:"auto",overflowY:"hidden",maxWidth:"100%"}})}),Sde=Et((t,e)=>{const{placement:n="bottom",...r}=t,i=jp();return Ye.createElement(xt.caption,{...r,ref:e,__css:{...i.caption,captionSide:n}})});Sde.displayName="TableCaption";var bde=Et((t,e)=>{const n=jp();return Ye.createElement(xt.thead,{...t,ref:e,__css:n.thead})}),Mde=Et((t,e)=>{const n=jp();return Ye.createElement(xt.tbody,{...t,ref:e,__css:n.tbody})});Et((t,e)=>{const n=jp();return Ye.createElement(xt.tfoot,{...t,ref:e,__css:n.tfoot})});var dA=Et(({isNumeric:t,...e},n)=>{const r=jp();return Ye.createElement(xt.th,{...e,ref:n,__css:r.th,"data-is-numeric":t})}),pA=Et((t,e)=>{const n=jp();return Ye.createElement(xt.tr,{...t,ref:e,__css:n.tr})}),PS=Et(({isNumeric:t,...e},n)=>{const r=jp();return Ye.createElement(xt.td,{...e,ref:n,__css:r.td,"data-is-numeric":t})});function ar(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...c){r();for(const p of c)e[p]=l(p);return ar(t,e)}function s(...c){for(const p of c)p in e||(e[p]=l(p));return ar(t,e)}function o(){return Object.fromEntries(Object.entries(e).map(([p,m])=>[p,m.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([p,m])=>[p,m.className]))}function l(c){const v=`chakra-${(["container","root"].includes(c!=null?c:"")?[t]:[t,c]).filter(Boolean).join("__")}`;return{className:v,selector:`.${v}`,toString:()=>c}}return{parts:i,toPart:l,extend:s,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}var Ede=ar("accordion").parts("root","container","button","panel").extend("icon"),Tde=ar("alert").parts("title","description","container").extend("icon","spinner"),Cde=ar("avatar").parts("label","badge","container").extend("excessLabel","group"),Ade=ar("breadcrumb").parts("link","item","container").extend("separator");ar("button").parts();var Pde=ar("checkbox").parts("control","icon","container").extend("label");ar("progress").parts("track","filledTrack").extend("label");var Rde=ar("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Ide=ar("editable").parts("preview","input","textarea"),kde=ar("form").parts("container","requiredIndicator","helperText"),Lde=ar("formError").parts("text","icon"),Dde=ar("input").parts("addon","field","element"),Ode=ar("list").parts("container","item","icon"),Nde=ar("menu").parts("button","list","item").extend("groupTitle","command","divider"),Fde=ar("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),zde=ar("numberinput").parts("root","field","stepperGroup","stepper");ar("pininput").parts("field");var Bde=ar("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),Ude=ar("progress").parts("label","filledTrack","track"),Vde=ar("radio").parts("container","control","label"),Hde=ar("select").parts("field","icon"),Wde=ar("slider").parts("container","track","thumb","filledTrack","mark"),$de=ar("stat").parts("container","label","helpText","number","icon"),Gde=ar("switch").parts("container","track","thumb"),jde=ar("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),qde=ar("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),Xde=ar("tag").parts("container","label","closeButton");function xs(t,e){Yde(t)&&(t="100%");var n=Qde(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function RS(t){return Math.min(1,Math.max(0,t))}function Yde(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function Qde(t){return typeof t=="string"&&t.indexOf("%")!==-1}function mG(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function IS(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Zd(t){return t.length===1?"0"+t:String(t)}function Kde(t,e,n){return{r:xs(t,255)*255,g:xs(e,255)*255,b:xs(n,255)*255}}function rz(t,e,n){t=xs(t,255),e=xs(e,255),n=xs(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,o=0,a=(r+i)/2;if(r===i)o=0,s=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function mA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zde(t,e,n){var r,i,s;if(t=xs(t,360),e=xs(e,100),n=xs(n,100),e===0)i=n,s=n,r=n;else{var o=n<.5?n*(1+e):n+e-n*e,a=2*n-o;r=mA(a,o,t+1/3),i=mA(a,o,t),s=mA(a,o,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function iz(t,e,n){t=xs(t,255),e=xs(e,255),n=xs(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s=0,o=r,a=r-i,l=r===0?0:a/r;if(r===i)s=0;else{switch(r){case t:s=(e-n)/a+(e<n?6:0);break;case e:s=(n-t)/a+2;break;case n:s=(t-e)/a+4;break}s/=6}return{h:s,s:l,v:o}}function Jde(t,e,n){t=xs(t,360)*6,e=xs(e,100),n=xs(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,o,s,s,a,n][l],c=[a,n,n,o,s,s][l],p=[s,s,a,n,n,o][l];return{r:u*255,g:c*255,b:p*255}}function sz(t,e,n,r){var i=[Zd(Math.round(t).toString(16)),Zd(Math.round(e).toString(16)),Zd(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function epe(t,e,n,r,i){var s=[Zd(Math.round(t).toString(16)),Zd(Math.round(e).toString(16)),Zd(Math.round(n).toString(16)),Zd(tpe(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function tpe(t){return Math.round(parseFloat(t)*255).toString(16)}function oz(t){return oa(t)/255}function oa(t){return parseInt(t,16)}function npe(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var f3={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function rpe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=ope(t)),typeof t=="object"&&(cc(t.r)&&cc(t.g)&&cc(t.b)?(e=Kde(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):cc(t.h)&&cc(t.s)&&cc(t.v)?(r=IS(t.s),i=IS(t.v),e=Jde(t.h,r,i),o=!0,a="hsv"):cc(t.h)&&cc(t.s)&&cc(t.l)&&(r=IS(t.s),s=IS(t.l),e=Zde(t.h,r,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=mG(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var ipe="[-\\+]?\\d+%?",spe="[-\\+]?\\d*\\.\\d+%?",Yf="(?:".concat(spe,")|(?:").concat(ipe,")"),gA="[\\s|\\(]+(".concat(Yf,")[,|\\s]+(").concat(Yf,")[,|\\s]+(").concat(Yf,")\\s*\\)?"),vA="[\\s|\\(]+(".concat(Yf,")[,|\\s]+(").concat(Yf,")[,|\\s]+(").concat(Yf,")[,|\\s]+(").concat(Yf,")\\s*\\)?"),Sl={CSS_UNIT:new RegExp(Yf),rgb:new RegExp("rgb"+gA),rgba:new RegExp("rgba"+vA),hsl:new RegExp("hsl"+gA),hsla:new RegExp("hsla"+vA),hsv:new RegExp("hsv"+gA),hsva:new RegExp("hsva"+vA),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ope(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(f3[t])t=f3[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Sl.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Sl.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Sl.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Sl.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Sl.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Sl.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Sl.hex8.exec(t),n?{r:oa(n[1]),g:oa(n[2]),b:oa(n[3]),a:oz(n[4]),format:e?"name":"hex8"}:(n=Sl.hex6.exec(t),n?{r:oa(n[1]),g:oa(n[2]),b:oa(n[3]),format:e?"name":"hex"}:(n=Sl.hex4.exec(t),n?{r:oa(n[1]+n[1]),g:oa(n[2]+n[2]),b:oa(n[3]+n[3]),a:oz(n[4]+n[4]),format:e?"name":"hex8"}:(n=Sl.hex3.exec(t),n?{r:oa(n[1]+n[1]),g:oa(n[2]+n[2]),b:oa(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function cc(t){return Boolean(Sl.CSS_UNIT.exec(String(t)))}var c_=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=npe(e)),this.originalInput=e;var i=rpe(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,s=e.r/255,o=e.g/255,a=e.b/255;return s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=mG(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var e=iz(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=iz(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=rz(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=rz(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),sz(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),epe(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(xs(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(xs(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+sz(this.r,this.g,this.b,!1),n=0,r=Object.entries(f3);n<r.length;n++){var i=r[n],s=i[0],o=i[1];if(e===o)return s}return!1},t.prototype.toString=function(e){var n=Boolean(e);e=e!=null?e:this.format;var r=!1,i=this.a<1&&this.a>=0,s=!n&&i&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=RS(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=RS(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=RS(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=RS(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return new t(o)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,s=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(new t(r));return s},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(new t({h:r,s:i,v:s})),s=(s+a)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb();return new t({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],s=360/e,o=1;o<e;o++)i.push(new t({h:(r+o*s)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function gG(t){if(t===void 0&&(t={}),t.count!==void 0&&t.count!==null){var e=t.count,n=[];for(t.count=void 0;e>n.length;)t.count=null,t.seed&&(t.seed+=1),n.push(gG(t));return t.count=e,n}var r=ape(t.hue,t.seed),i=lpe(r,t),s=upe(r,i,t),o={h:r,s:i,v:s};return t.alpha!==void 0&&(o.a=t.alpha),new c_(o)}function ape(t,e){var n=fpe(t),r=sE(n,e);return r<0&&(r=360+r),r}function lpe(t,e){if(e.hue==="monochrome")return 0;if(e.luminosity==="random")return sE([0,100],e.seed);var n=vG(t).saturationRange,r=n[0],i=n[1];switch(e.luminosity){case"bright":r=55;break;case"dark":r=i-10;break;case"light":i=55;break}return sE([r,i],e.seed)}function upe(t,e,n){var r=cpe(t,e),i=100;switch(n.luminosity){case"dark":i=r+20;break;case"light":r=(i+r)/2;break;case"random":r=0,i=100;break}return sE([r,i],n.seed)}function cpe(t,e){for(var n=vG(t).lowerBounds,r=0;r<n.length-1;r++){var i=n[r][0],s=n[r][1],o=n[r+1][0],a=n[r+1][1];if(e>=i&&e<=o){var l=(a-s)/(o-i),u=s-l*i;return l*e+u}}return 0}function fpe(t){var e=parseInt(t,10);if(!Number.isNaN(e)&&e<360&&e>0)return[e,e];if(typeof t=="string"){var n=xG.find(function(o){return o.name===t});if(n){var r=yG(n);if(r.hueRange)return r.hueRange}var i=new c_(t);if(i.isValid){var s=i.toHsv().h;return[s,s]}}return[0,360]}function vG(t){t>=334&&t<=360&&(t-=360);for(var e=0,n=xG;e<n.length;e++){var r=n[e],i=yG(r);if(i.hueRange&&t>=i.hueRange[0]&&t<=i.hueRange[1])return i}throw Error("Color not found")}function sE(t,e){if(e===void 0)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var n=t[1]||1,r=t[0]||0;e=(e*9301+49297)%233280;var i=e/233280;return Math.floor(r+i*(n-r))}function yG(t){var e=t.lowerBounds[0][0],n=t.lowerBounds[t.lowerBounds.length-1][0],r=t.lowerBounds[t.lowerBounds.length-1][1],i=t.lowerBounds[0][1];return{name:t.name,hueRange:t.hueRange,lowerBounds:t.lowerBounds,saturationRange:[e,n],brightnessRange:[r,i]}}var xG=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0]]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]}];function hpe(t,e,n,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:i;return t===i?n:t}var dpe=t=>Object.keys(t).length===0,ki=(t,e,n)=>{const r=hpe(t,`colors.${e}`,e),{isValid:i}=new c_(r);return i?r:n},ppe=t=>e=>{const n=ki(e,t);return new c_(n).isDark()?"dark":"light"},mpe=t=>e=>ppe(t)(e)==="dark",v0=(t,e)=>n=>{const r=ki(n,t);return new c_(r).setAlpha(e).toRgbString()};function az(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}function gpe(t){const e=gG().toHexString();return!t||dpe(t)?e:t.string&&t.colors?ype(t.string,t.colors):t.string&&!t.colors?vpe(t.string):t.colors&&!t.string?xpe(t.colors):e}function vpe(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;n+=`00${i.toString(16)}`.substr(-2)}return n}function ype(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function xpe(t){return t[Math.floor(Math.random()*t.length)]}function He(t,e){return n=>n.colorMode==="dark"?e:t}function qL(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function _pe(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}function _G(t){return _pe(t)&&t.reference?t.reference:String(t)}var jT=(t,...e)=>e.map(_G).join(` ${t} `).replace(/calc/g,""),lz=(...t)=>`calc(${jT("+",...t)})`,uz=(...t)=>`calc(${jT("-",...t)})`,h3=(...t)=>`calc(${jT("*",...t)})`,cz=(...t)=>`calc(${jT("/",...t)})`,fz=t=>{const e=_G(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:h3(e,-1)},wc=Object.assign(t=>({add:(...e)=>wc(lz(t,...e)),subtract:(...e)=>wc(uz(t,...e)),multiply:(...e)=>wc(h3(t,...e)),divide:(...e)=>wc(cz(t,...e)),negate:()=>wc(fz(t)),toString:()=>t.toString()}),{add:lz,subtract:uz,multiply:h3,divide:cz,negate:fz});function wpe(t){return!Number.isInteger(parseFloat(t.toString()))}function Spe(t,e="-"){return t.replace(/\s+/g,e)}function wG(t){const e=Spe(t.toString());return e.includes("\\.")?t:wpe(t)?e.replace(".","\\."):t}function bpe(t,e=""){return[e,wG(t)].filter(Boolean).join("-")}function Mpe(t,e){return`var(${wG(t)}${e?`, ${e}`:""})`}function Epe(t,e=""){return`--${bpe(t,e)}`}function wo(t,e){const n=Epe(t,e==null?void 0:e.prefix);return{variable:n,reference:Mpe(n,Tpe(e==null?void 0:e.fallback))}}function Tpe(t){return typeof t=="string"?t:t==null?void 0:t.reference}var{definePartsStyle:Cpe,defineMultiStyleConfig:Ape}=kr(Ede.keys),Ppe={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},Rpe={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},Ipe={pt:"2",px:"4",pb:"5"},kpe={fontSize:"1.25em"},Lpe=Cpe({container:Ppe,button:Rpe,panel:Ipe,icon:kpe}),Dpe=Ape({baseStyle:Lpe}),{definePartsStyle:f_,defineMultiStyleConfig:Ope}=kr(Tde.keys),Bc=Ih("alert-fg"),h_=Ih("alert-bg"),Npe=f_({container:{bg:h_.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Bc.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Bc.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function XL(t){const{theme:e,colorScheme:n}=t,r=ki(e,`${n}.100`,n),i=v0(`${n}.200`,.16)(e);return He(r,i)(t)}var Fpe=f_(t=>{const{colorScheme:e}=t,n=He(`${e}.500`,`${e}.200`)(t);return{container:{[h_.variable]:XL(t),[Bc.variable]:`colors.${n}`}}}),zpe=f_(t=>{const{colorScheme:e}=t,n=He(`${e}.500`,`${e}.200`)(t);return{container:{[h_.variable]:XL(t),[Bc.variable]:`colors.${n}`,paddingStart:"3",borderStartWidth:"4px",borderStartColor:Bc.reference}}}),Bpe=f_(t=>{const{colorScheme:e}=t,n=He(`${e}.500`,`${e}.200`)(t);return{container:{[h_.variable]:XL(t),[Bc.variable]:`colors.${n}`,pt:"2",borderTopWidth:"4px",borderTopColor:Bc.reference}}}),Upe=f_(t=>{const{colorScheme:e}=t,n=He(`${e}.500`,`${e}.200`)(t),r=He("white","gray.900")(t);return{container:{[h_.variable]:`colors.${n}`,[Bc.variable]:`colors.${r}`,color:Bc.reference}}}),Vpe={subtle:Fpe,"left-accent":zpe,"top-accent":Bpe,solid:Upe},Hpe=Ope({baseStyle:Npe,variants:Vpe,defaultProps:{variant:"subtle",colorScheme:"blue"}}),SG={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Wpe={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},$pe={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},Gpe={...SG,...Wpe,container:$pe},bG=Gpe,jpe=t=>typeof t=="function";function ei(t,...e){return jpe(t)?t(...e):t}var{definePartsStyle:MG,defineMultiStyleConfig:qpe}=kr(Cde.keys),Xpe=t=>({borderRadius:"full",border:"0.2em solid",borderColor:He("white","gray.800")(t)}),Ype=t=>({bg:He("gray.200","whiteAlpha.400")(t)}),hz=wo("avatar-background"),Qpe=t=>{const{name:e,theme:n}=t,r=e?gpe({string:e}):"colors.gray.400",i=mpe(r)(n);let s="white";i||(s="gray.800");const o=He("white","gray.800")(t);return{bg:hz.reference,"&:not([data-loaded])":{[hz.variable]:r},color:s,borderColor:o,verticalAlign:"top"}},Kpe=MG(t=>({badge:ei(Xpe,t),excessLabel:ei(Ype,t),container:ei(Qpe,t)}));function Af(t){const e=t!=="100%"?bG[t]:void 0;return MG({container:{width:t,height:t,fontSize:`calc(${e!=null?e:t} / 2.5)`},excessLabel:{width:t,height:t},label:{fontSize:`calc(${e!=null?e:t} / 2.5)`,lineHeight:t!=="100%"?e!=null?e:t:void 0}})}var Zpe={"2xs":Af(4),xs:Af(6),sm:Af(8),md:Af(12),lg:Af(16),xl:Af(24),"2xl":Af(32),full:Af("100%")},Jpe=qpe({baseStyle:Kpe,sizes:Zpe,defaultProps:{size:"md"}}),eme={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},tme=t=>{const{colorScheme:e,theme:n}=t,r=v0(`${e}.500`,.6)(n);return{bg:He(`${e}.500`,r)(t),color:He("white","whiteAlpha.800")(t)}},nme=t=>{const{colorScheme:e,theme:n}=t,r=v0(`${e}.200`,.16)(n);return{bg:He(`${e}.100`,r)(t),color:He(`${e}.800`,`${e}.200`)(t)}},rme=t=>{const{colorScheme:e,theme:n}=t,r=v0(`${e}.200`,.8)(n),i=ki(n,`${e}.500`),s=He(i,r)(t);return{color:s,boxShadow:`inset 0 0 0px 1px ${s}`}},ime={solid:tme,subtle:nme,outline:rme},lx={baseStyle:eme,variants:ime,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:sme,definePartsStyle:ome}=kr(Ade.keys),ame={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},lme=ome({link:ame}),ume=sme({baseStyle:lme}),cme={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},EG=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:He("inherit","whiteAlpha.900")(t),_hover:{bg:He("gray.100","whiteAlpha.200")(t)},_active:{bg:He("gray.200","whiteAlpha.300")(t)}};const r=v0(`${e}.200`,.12)(n),i=v0(`${e}.200`,.24)(n);return{color:He(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:He(`${e}.50`,r)(t)},_active:{bg:He(`${e}.100`,i)(t)}}},fme=t=>{const{colorScheme:e}=t,n=He("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached] > &:not(:last-of-type)":{marginEnd:"-1px"},...ei(EG,t)}},hme={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},dme=t=>{var a;const{colorScheme:e}=t;if(e==="gray"){const l=He("gray.100","whiteAlpha.200")(t);return{bg:l,_hover:{bg:He("gray.200","whiteAlpha.300")(t),_disabled:{bg:l}},_active:{bg:He("gray.300","whiteAlpha.400")(t)}}}const{bg:n=`${e}.500`,color:r="white",hoverBg:i=`${e}.600`,activeBg:s=`${e}.700`}=(a=hme[e])!=null?a:{},o=He(n,`${e}.200`)(t);return{bg:o,color:He(r,"gray.800")(t),_hover:{bg:He(i,`${e}.300`)(t),_disabled:{bg:o}},_active:{bg:He(s,`${e}.400`)(t)}}},pme=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:He(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:He(`${e}.700`,`${e}.500`)(t)}}},mme={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},gme={ghost:EG,outline:fme,solid:dme,link:pme,unstyled:mme},vme={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},yme={baseStyle:cme,variants:gme,sizes:vme,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Zb,defineMultiStyleConfig:xme}=kr(Pde.keys),ux=Ih("checkbox-size"),_me=t=>{const{colorScheme:e}=t;return{w:ux.reference,h:ux.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:He(`${e}.500`,`${e}.200`)(t),borderColor:He(`${e}.500`,`${e}.200`)(t),color:He("white","gray.900")(t),_hover:{bg:He(`${e}.600`,`${e}.300`)(t),borderColor:He(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:He("gray.200","transparent")(t),bg:He("gray.200","whiteAlpha.300")(t),color:He("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:He(`${e}.500`,`${e}.200`)(t),borderColor:He(`${e}.500`,`${e}.200`)(t),color:He("white","gray.900")(t)},_disabled:{bg:He("gray.100","whiteAlpha.100")(t),borderColor:He("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:He("red.500","red.300")(t)}}},wme={_disabled:{cursor:"not-allowed"}},Sme={userSelect:"none",_disabled:{opacity:.4}},bme={transitionProperty:"transform",transitionDuration:"normal"},Mme=Zb(t=>({icon:bme,container:wme,control:ei(_me,t),label:Sme})),Eme={sm:Zb({control:{[ux.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:Zb({control:{[ux.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:Zb({control:{[ux.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},oE=xme({baseStyle:Mme,sizes:Eme,defaultProps:{size:"md",colorScheme:"blue"}}),cx=wo("close-button-size"),Tme=t=>{const e=He("blackAlpha.100","whiteAlpha.100")(t),n=He("blackAlpha.200","whiteAlpha.200")(t);return{w:[cx.reference],h:[cx.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{bg:e},_active:{bg:n},_focusVisible:{boxShadow:"outline"}}},Cme={lg:{[cx.variable]:"sizes.10",fontSize:"md"},md:{[cx.variable]:"sizes.8",fontSize:"xs"},sm:{[cx.variable]:"sizes.6",fontSize:"2xs"}},Ame={baseStyle:Tme,sizes:Cme,defaultProps:{size:"md"}},{variants:Pme,defaultProps:Rme}=lx,Ime={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},kme={baseStyle:Ime,variants:Pme,defaultProps:Rme},Lme={w:"100%",mx:"auto",maxW:"prose",px:"4"},Dme={baseStyle:Lme},Ome={opacity:.6,borderColor:"inherit"},Nme={borderStyle:"solid"},Fme={borderStyle:"dashed"},zme={solid:Nme,dashed:Fme},Bme={baseStyle:Ome,variants:zme,defaultProps:{variant:"solid"}},{definePartsStyle:d3,defineMultiStyleConfig:Ume}=kr(Rde.keys);function $m(t){return d3(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var Vme={bg:"blackAlpha.600",zIndex:"overlay"},Hme={display:"flex",zIndex:"modal",justifyContent:"center"},Wme=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",bg:He("white","gray.700")(t),color:"inherit",boxShadow:He("lg","dark-lg")(t)}},$me={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Gme={position:"absolute",top:"2",insetEnd:"3"},jme={px:"6",py:"2",flex:"1",overflow:"auto"},qme={px:"6",py:"4"},Xme=d3(t=>({overlay:Vme,dialogContainer:Hme,dialog:ei(Wme,t),header:$me,closeButton:Gme,body:jme,footer:qme})),Yme={xs:$m("xs"),sm:$m("md"),md:$m("lg"),lg:$m("2xl"),xl:$m("4xl"),full:$m("full")},Qme=Ume({baseStyle:Xme,sizes:Yme,defaultProps:{size:"xs"}}),{definePartsStyle:Kme,defineMultiStyleConfig:Zme}=kr(Ide.keys),Jme={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},ege={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},tge={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},nge=Kme({preview:Jme,input:ege,textarea:tge}),rge=Zme({baseStyle:nge}),{definePartsStyle:ige,defineMultiStyleConfig:sge}=kr(kde.keys),oge=t=>({marginStart:"1",color:He("red.500","red.300")(t)}),age=t=>({mt:"2",color:He("gray.600","whiteAlpha.600")(t),lineHeight:"normal",fontSize:"sm"}),lge=ige(t=>({container:{width:"100%",position:"relative"},requiredIndicator:ei(oge,t),helperText:ei(age,t)})),uge=sge({baseStyle:lge}),{definePartsStyle:cge,defineMultiStyleConfig:fge}=kr(Lde.keys),hge=t=>({color:He("red.500","red.300")(t),mt:"2",fontSize:"sm",lineHeight:"normal"}),dge=t=>({marginEnd:"0.5em",color:He("red.500","red.300")(t)}),pge=cge(t=>({text:ei(hge,t),icon:ei(dge,t)})),mge=fge({baseStyle:pge}),gge={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},vge={baseStyle:gge},yge={fontFamily:"heading",fontWeight:"bold"},xge={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},_ge={baseStyle:yge,sizes:xge,defaultProps:{size:"xl"}},{definePartsStyle:Tc,defineMultiStyleConfig:wge}=kr(Dde.keys),Sge=Tc({field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Pf={lg:{fontSize:"lg",px:"4",h:"12",borderRadius:"md"},md:{fontSize:"md",px:"4",h:"10",borderRadius:"md"},sm:{fontSize:"sm",px:"3",h:"8",borderRadius:"sm"},xs:{fontSize:"xs",px:"2",h:"6",borderRadius:"sm"}},bge={lg:Tc({field:Pf.lg,addon:Pf.lg}),md:Tc({field:Pf.md,addon:Pf.md}),sm:Tc({field:Pf.sm,addon:Pf.sm}),xs:Tc({field:Pf.xs,addon:Pf.xs})};function YL(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||He("blue.500","blue.300")(t),errorBorderColor:n||He("red.500","red.300")(t)}}var Mge=Tc(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=YL(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:He("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ki(e,r),boxShadow:`0 0 0 1px ${ki(e,r)}`},_focusVisible:{zIndex:1,borderColor:ki(e,n),boxShadow:`0 0 0 1px ${ki(e,n)}`}},addon:{border:"1px solid",borderColor:He("inherit","whiteAlpha.50")(t),bg:He("gray.100","whiteAlpha.300")(t)}}}),Ege=Tc(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=YL(t);return{field:{border:"2px solid",borderColor:"transparent",bg:He("gray.100","whiteAlpha.50")(t),_hover:{bg:He("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ki(e,r)},_focusVisible:{bg:"transparent",borderColor:ki(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:He("gray.100","whiteAlpha.50")(t)}}}),Tge=Tc(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=YL(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ki(e,r),boxShadow:`0px 1px 0px 0px ${ki(e,r)}`},_focusVisible:{borderColor:ki(e,n),boxShadow:`0px 1px 0px 0px ${ki(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),Cge=Tc({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),Age={outline:Mge,filled:Ege,flushed:Tge,unstyled:Cge},qn=wge({baseStyle:Sge,sizes:bge,variants:Age,defaultProps:{size:"md",variant:"outline"}}),Pge=t=>({bg:He("gray.100","whiteAlpha")(t),borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}),Rge={baseStyle:Pge},Ige={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},kge={baseStyle:Ige},{defineMultiStyleConfig:Lge,definePartsStyle:Dge}=kr(Ode.keys),Oge={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},Nge=Dge({icon:Oge}),Fge=Lge({baseStyle:Nge}),{defineMultiStyleConfig:zge,definePartsStyle:Bge}=kr(Nde.keys),Uge=t=>({bg:He("#fff","gray.700")(t),boxShadow:He("sm","dark-lg")(t),color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px"}),Vge=t=>({py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{bg:He("gray.100","whiteAlpha.100")(t)},_active:{bg:He("gray.200","whiteAlpha.200")(t)},_expanded:{bg:He("gray.100","whiteAlpha.100")(t)},_disabled:{opacity:.4,cursor:"not-allowed"}}),Hge={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},Wge={opacity:.6},$ge={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},Gge={transitionProperty:"common",transitionDuration:"normal"},jge=Bge(t=>({button:Gge,list:ei(Uge,t),item:ei(Vge,t),groupTitle:Hge,command:Wge,divider:$ge})),qge=zge({baseStyle:jge}),{defineMultiStyleConfig:Xge,definePartsStyle:p3}=kr(Fde.keys),Yge={bg:"blackAlpha.600",zIndex:"modal"},Qge=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto"}},Kge=t=>{const{scrollBehavior:e}=t;return{borderRadius:"md",bg:He("white","gray.700")(t),color:"inherit",my:"16",zIndex:"modal",maxH:e==="inside"?"calc(100% - 7.5rem)":void 0,boxShadow:He("lg","dark-lg")(t)}},Zge={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Jge={position:"absolute",top:"2",insetEnd:"3"},e0e=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},t0e={px:"6",py:"4"},n0e=p3(t=>({overlay:Yge,dialogContainer:ei(Qge,t),dialog:ei(Kge,t),header:Zge,closeButton:Jge,body:ei(e0e,t),footer:t0e}));function yl(t){return p3(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var r0e={xs:yl("xs"),sm:yl("sm"),md:yl("md"),lg:yl("lg"),xl:yl("xl"),"2xl":yl("2xl"),"3xl":yl("3xl"),"4xl":yl("4xl"),"5xl":yl("5xl"),"6xl":yl("6xl"),full:yl("full")},i0e=Xge({baseStyle:n0e,sizes:r0e,defaultProps:{size:"md"}}),s0e={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},TG=s0e,{defineMultiStyleConfig:o0e,definePartsStyle:CG}=kr(zde.keys),QL=wo("number-input-stepper-width"),AG=wo("number-input-input-padding"),a0e=wc(QL).add("0.5rem").toString(),l0e={[QL.variable]:"sizes.6",[AG.variable]:a0e},u0e=t=>{var n;var e;return(n=(e=ei(qn.baseStyle,t))==null?void 0:e.field)!=null?n:{}},c0e={width:[QL.reference]},f0e=t=>({borderStart:"1px solid",borderStartColor:He("inherit","whiteAlpha.300")(t),color:He("inherit","whiteAlpha.800")(t),_active:{bg:He("gray.200","whiteAlpha.300")(t)},_disabled:{opacity:.4,cursor:"not-allowed"}}),h0e=CG(t=>{var e,n;return{root:l0e,field:(e=ei(u0e,t))!=null?e:{},stepperGroup:c0e,stepper:(n=ei(f0e,t))!=null?n:{}}});function kS(t){var a;var e,n;const r=(e=qn.sizes)==null?void 0:e[t],i={lg:"md",md:"md",sm:"sm",xs:"sm"},s=(a=(n=r.field)==null?void 0:n.fontSize)!=null?a:"md",o=TG.fontSizes[s];return CG({field:{...r.field,paddingInlineEnd:AG.reference,verticalAlign:"top"},stepper:{fontSize:wc(o).multiply(.75).toString(),_first:{borderTopEndRadius:i[t]},_last:{borderBottomEndRadius:i[t],mt:"-1px",borderTopWidth:1}}})}var d0e={xs:kS("xs"),sm:kS("sm"),md:kS("md"),lg:kS("lg")},p0e=o0e({baseStyle:h0e,sizes:d0e,variants:qn.variants,defaultProps:qn.defaultProps}),dz,m0e={...(dz=qn.baseStyle)==null?void 0:dz.field,textAlign:"center"},g0e={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},pz,s6,v0e={outline:t=>{var r;var e,n;return(r=(n=ei((e=qn.variants)==null?void 0:e.outline,t))==null?void 0:n.field)!=null?r:{}},flushed:t=>{var r;var e,n;return(r=(n=ei((e=qn.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)!=null?r:{}},filled:t=>{var r;var e,n;return(r=(n=ei((e=qn.variants)==null?void 0:e.filled,t))==null?void 0:n.field)!=null?r:{}},unstyled:(s6=(pz=qn.variants)==null?void 0:pz.unstyled.field)!=null?s6:{}},y0e={baseStyle:m0e,sizes:g0e,variants:v0e,defaultProps:qn.defaultProps},{defineMultiStyleConfig:x0e,definePartsStyle:_0e}=kr(Bde.keys),yA=wo("popper-bg"),w0e=wo("popper-arrow-bg"),S0e=wo("popper-arrow-shadow-color"),b0e={zIndex:10},M0e=t=>{const e=He("white","gray.700")(t),n=He("gray.200","whiteAlpha.300")(t);return{[yA.variable]:`colors.${e}`,bg:yA.reference,[w0e.variable]:yA.reference,[S0e.variable]:`colors.${n}`,width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}}},E0e={px:3,py:2,borderBottomWidth:"1px"},T0e={px:3,py:2},C0e={px:3,py:2,borderTopWidth:"1px"},A0e={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},P0e=_0e(t=>({popper:b0e,content:M0e(t),header:E0e,body:T0e,footer:C0e,closeButton:A0e})),R0e=x0e({baseStyle:P0e}),{defineMultiStyleConfig:I0e,definePartsStyle:Dy}=kr(Ude.keys),k0e=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:i}=t,s=He(az(),az("1rem","rgba(0,0,0,0.1)"))(t),o=He(`${e}.500`,`${e}.200`)(t),a=`linear-gradient(
    to right,
    transparent 0%,
    ${ki(n,o)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:a}:{bgColor:o}}},L0e={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},D0e=t=>({bg:He("gray.100","whiteAlpha.300")(t)}),O0e=t=>({transitionProperty:"common",transitionDuration:"slow",...k0e(t)}),N0e=Dy(t=>({label:L0e,filledTrack:O0e(t),track:D0e(t)})),F0e={xs:Dy({track:{h:"1"}}),sm:Dy({track:{h:"2"}}),md:Dy({track:{h:"3"}}),lg:Dy({track:{h:"4"}})},z0e=I0e({sizes:F0e,baseStyle:N0e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:B0e,definePartsStyle:Jb}=kr(Vde.keys),U0e=t=>{var e;const n=(e=ei(oE.baseStyle,t))==null?void 0:e.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},V0e=Jb(t=>{var e,n,r,i;return{label:(n=(e=oE).baseStyle)==null?void 0:n.call(e,t).label,container:(i=(r=oE).baseStyle)==null?void 0:i.call(r,t).container,control:U0e(t)}}),H0e={md:Jb({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:Jb({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:Jb({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},W0e=B0e({baseStyle:V0e,sizes:H0e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:$0e,definePartsStyle:G0e}=kr(Hde.keys),j0e=t=>{var e;return{...(e=qn.baseStyle)==null?void 0:e.field,bg:He("white","gray.700")(t),appearance:"none",paddingBottom:"1px",lineHeight:"normal","> option, > optgroup":{bg:He("white","gray.700")(t)}}},q0e={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},X0e=G0e(t=>({field:j0e(t),icon:q0e})),LS={paddingInlineEnd:"8"},mz,gz,vz,yz,xz,_z,wz,Sz,Y0e={lg:{...(mz=qn.sizes)==null?void 0:mz.lg,field:{...(gz=qn.sizes)==null?void 0:gz.lg.field,...LS}},md:{...(vz=qn.sizes)==null?void 0:vz.md,field:{...(yz=qn.sizes)==null?void 0:yz.md.field,...LS}},sm:{...(xz=qn.sizes)==null?void 0:xz.sm,field:{...(_z=qn.sizes)==null?void 0:_z.sm.field,...LS}},xs:{...(wz=qn.sizes)==null?void 0:wz.xs,field:{...(Sz=qn.sizes)==null?void 0:Sz.xs.field,...LS},icon:{insetEnd:"1"}}},Q0e=$0e({baseStyle:X0e,sizes:Y0e,variants:qn.variants,defaultProps:qn.defaultProps}),K0e=Ih("skeleton-start-color"),Z0e=Ih("skeleton-end-color"),J0e=t=>{const e=He("gray.100","gray.800")(t),n=He("gray.400","gray.600")(t),{startColor:r=e,endColor:i=n,theme:s}=t,o=ki(s,r),a=ki(s,i);return{[K0e.variable]:o,[Z0e.variable]:a,opacity:.7,borderRadius:"2px",borderColor:o,background:a}},eve={baseStyle:J0e},tve=t=>({borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",bg:He("white","gray.700")(t)}}),nve={baseStyle:tve},{defineMultiStyleConfig:rve,definePartsStyle:qT}=kr(Wde.keys),r1=Ih("slider-thumb-size"),i1=Ih("slider-track-size"),ive=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...qL({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},sve=t=>({...qL({orientation:t.orientation,horizontal:{h:i1.reference},vertical:{w:i1.reference}}),overflow:"hidden",borderRadius:"sm",bg:He("gray.200","whiteAlpha.200")(t),_disabled:{bg:He("gray.300","whiteAlpha.300")(t)}}),ove=t=>{const{orientation:e}=t;return{...qL({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:r1.reference,h:r1.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},ave=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",bg:He(`${e}.500`,`${e}.200`)(t)}},lve=qT(t=>({container:ive(t),track:sve(t),thumb:ove(t),filledTrack:ave(t)})),uve=qT({container:{[r1.variable]:"sizes.4",[i1.variable]:"sizes.1"}}),cve=qT({container:{[r1.variable]:"sizes.3.5",[i1.variable]:"sizes.1"}}),fve=qT({container:{[r1.variable]:"sizes.2.5",[i1.variable]:"sizes.0.5"}}),hve={lg:uve,md:cve,sm:fve},dve=rve({baseStyle:lve,sizes:hve,defaultProps:{size:"md",colorScheme:"blue"}}),Hd=wo("spinner-size"),pve={width:[Hd.reference],height:[Hd.reference]},mve={xs:{[Hd.variable]:"sizes.3"},sm:{[Hd.variable]:"sizes.4"},md:{[Hd.variable]:"sizes.6"},lg:{[Hd.variable]:"sizes.8"},xl:{[Hd.variable]:"sizes.12"}},gve={baseStyle:pve,sizes:mve,defaultProps:{size:"md"}},{defineMultiStyleConfig:vve,definePartsStyle:PG}=kr($de.keys),yve={fontWeight:"medium"},xve={opacity:.8,marginBottom:"2"},_ve={verticalAlign:"baseline",fontWeight:"semibold"},wve={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},Sve=PG({container:{},label:yve,helpText:xve,number:_ve,icon:wve}),bve={md:PG({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},Mve=vve({baseStyle:Sve,sizes:bve,defaultProps:{size:"md"}}),{defineMultiStyleConfig:Eve,definePartsStyle:eM}=kr(Gde.keys),fx=wo("switch-track-width"),fp=wo("switch-track-height"),xA=wo("switch-track-diff"),Tve=wc.subtract(fx,fp),m3=wo("switch-thumb-x"),Cve=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[fx.reference],height:[fp.reference],transitionProperty:"common",transitionDuration:"fast",bg:He("gray.300","whiteAlpha.400")(t),_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{bg:He(`${e}.500`,`${e}.200`)(t)}}},Ave={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[fp.reference],height:[fp.reference],_checked:{transform:`translateX(${m3.reference})`}},Pve=eM(t=>({container:{[xA.variable]:Tve,[m3.variable]:xA.reference,_rtl:{[m3.variable]:wc(xA).negate().toString()}},track:Cve(t),thumb:Ave})),Rve={sm:eM({container:{[fx.variable]:"1.375rem",[fp.variable]:"sizes.3"}}),md:eM({container:{[fx.variable]:"1.875rem",[fp.variable]:"sizes.4"}}),lg:eM({container:{[fx.variable]:"2.875rem",[fp.variable]:"sizes.6"}})},Ive=Eve({baseStyle:Pve,sizes:Rve,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:kve,definePartsStyle:Xg}=kr(jde.keys),Lve=Xg({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),aE={"&[data-is-numeric=true]":{textAlign:"end"}},Dve=Xg(t=>{const{colorScheme:e}=t;return{th:{color:He("gray.600","gray.400")(t),borderBottom:"1px",borderColor:He(`${e}.100`,`${e}.700`)(t),...aE},td:{borderBottom:"1px",borderColor:He(`${e}.100`,`${e}.700`)(t),...aE},caption:{color:He("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),Ove=Xg(t=>{const{colorScheme:e}=t;return{th:{color:He("gray.600","gray.400")(t),borderBottom:"1px",borderColor:He(`${e}.100`,`${e}.700`)(t),...aE},td:{borderBottom:"1px",borderColor:He(`${e}.100`,`${e}.700`)(t),...aE},caption:{color:He("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:He(`${e}.100`,`${e}.700`)(t)},td:{background:He(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),Nve={simple:Dve,striped:Ove,unstyled:{}},Fve={sm:Xg({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Xg({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Xg({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},zve=kve({baseStyle:Lve,variants:Nve,sizes:Fve,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),{defineMultiStyleConfig:Bve,definePartsStyle:Pu}=kr(qde.keys),Uve=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},Vve=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},Hve=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},Wve={p:4},$ve=Pu(t=>({root:Uve(t),tab:Vve(t),tablist:Hve(t),tabpanel:Wve})),Gve={sm:Pu({tab:{py:1,px:4,fontSize:"sm"}}),md:Pu({tab:{fontSize:"md",py:2,px:4}}),lg:Pu({tab:{fontSize:"lg",py:3,px:4}})},jve=Pu(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",i=n==="vertical"?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{color:He(`${e}.600`,`${e}.300`)(t),borderColor:"currentColor"},_active:{bg:He("gray.200","whiteAlpha.300")(t)},_disabled:{_active:{bg:"none"}}}}}),qve=Pu(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",_selected:{color:He(`${e}.600`,`${e}.300`)(t),borderColor:"inherit",borderBottomColor:He("white","gray.800")(t)}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),Xve=Pu(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",bg:He("gray.50","whiteAlpha.50")(t),mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{bg:He("#fff","gray.800")(t),color:He(`${e}.600`,`${e}.300`)(t),borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),Yve=Pu(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:ki(n,`${e}.700`),bg:ki(n,`${e}.100`)}}}}),Qve=Pu(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:He("gray.600","inherit")(t),_selected:{color:He("#fff","gray.800")(t),bg:He(`${e}.600`,`${e}.300`)(t)}}}}),Kve=Pu({}),Zve={line:jve,enclosed:qve,"enclosed-colored":Xve,"soft-rounded":Yve,"solid-rounded":Qve,unstyled:Kve},Jve=Bve({baseStyle:$ve,sizes:Gve,variants:Zve,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:eye,definePartsStyle:hp}=kr(Xde.keys),tye={fontWeight:"medium",lineHeight:1.2,outline:0,borderRadius:"md",_focusVisible:{boxShadow:"outline"}},nye={lineHeight:1.2,overflow:"visible"},rye={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},iye=hp({container:tye,label:nye,closeButton:rye}),sye={sm:hp({container:{minH:"5",minW:"5",fontSize:"xs",px:"2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:hp({container:{minH:"6",minW:"6",fontSize:"sm",px:"2"}}),lg:hp({container:{minH:"8",minW:"8",fontSize:"md",px:"3"}})},oye={subtle:hp(t=>{var e;return{container:(e=lx.variants)==null?void 0:e.subtle(t)}}),solid:hp(t=>{var e;return{container:(e=lx.variants)==null?void 0:e.solid(t)}}),outline:hp(t=>{var e;return{container:(e=lx.variants)==null?void 0:e.outline(t)}})},aye=eye({variants:oye,baseStyle:iye,sizes:sye,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),bz,lye={...(bz=qn.baseStyle)==null?void 0:bz.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},Mz,o6,uye={outline:t=>{var n;var e;return(n=(e=qn.variants)==null?void 0:e.outline(t).field)!=null?n:{}},flushed:t=>{var n;var e;return(n=(e=qn.variants)==null?void 0:e.flushed(t).field)!=null?n:{}},filled:t=>{var n;var e;return(n=(e=qn.variants)==null?void 0:e.filled(t).field)!=null?n:{}},unstyled:(o6=(Mz=qn.variants)==null?void 0:Mz.unstyled.field)!=null?o6:{}},Ez,Tz,Cz,Az,a6,l6,u6,c6,cye={xs:(a6=(Ez=qn.sizes)==null?void 0:Ez.xs.field)!=null?a6:{},sm:(l6=(Tz=qn.sizes)==null?void 0:Tz.sm.field)!=null?l6:{},md:(u6=(Cz=qn.sizes)==null?void 0:Cz.md.field)!=null?u6:{},lg:(c6=(Az=qn.sizes)==null?void 0:Az.lg.field)!=null?c6:{}},fye={baseStyle:lye,sizes:cye,variants:uye,defaultProps:{size:"md",variant:"outline"}},_A=wo("tooltip-bg"),Pz=wo("tooltip-fg"),hye=wo("popper-arrow-bg"),dye=t=>{const e=He("gray.700","gray.300")(t),n=He("whiteAlpha.900","gray.900")(t);return{bg:_A.reference,color:Pz.reference,[_A.variable]:`colors.${e}`,[Pz.variable]:`colors.${n}`,[hye.variable]:_A.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"}},pye={baseStyle:dye},mye={Accordion:Dpe,Alert:Hpe,Avatar:Jpe,Badge:lx,Breadcrumb:ume,Button:yme,Checkbox:oE,CloseButton:Ame,Code:kme,Container:Dme,Divider:Bme,Drawer:Qme,Editable:rge,Form:uge,FormError:mge,FormLabel:vge,Heading:_ge,Input:qn,Kbd:Rge,Link:kge,List:Fge,Menu:qge,Modal:i0e,NumberInput:p0e,PinInput:y0e,Popover:R0e,Progress:z0e,Radio:W0e,Select:Q0e,Skeleton:eve,SkipLink:nve,Slider:dve,Spinner:gve,Stat:Mve,Switch:Ive,Table:zve,Tabs:Jve,Tag:aye,Textarea:fye,Tooltip:pye},gye={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},vye=gye,yye={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},xye=yye,_ye={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},wye=_ye,Sye={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},bye=Sye,Mye={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},Eye=Mye,Tye={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},Cye={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},Aye={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},Pye={property:Tye,easing:Cye,duration:Aye},Rye=Pye,Iye={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},kye=Iye,Lye={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},Dye=Lye,Oye={breakpoints:xye,zIndices:kye,radii:bye,blur:Dye,colors:wye,...TG,sizes:bG,shadows:Eye,space:SG,borders:vye,transition:Rye},Nye={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},Fye={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color",wordWrap:"break-word"}}};function zye(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}var Bye=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function Uye(t){return zye(t)?Bye.every(e=>Object.prototype.hasOwnProperty.call(t,e)):!1}var Vye="ltr",Hye={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},RG={semanticTokens:Nye,direction:Vye,...Oye,components:mye,styles:Fye,config:Hye};function Wye(t,e){const n=GM(t);U.exports.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}function $ye(t,...e){return Gye(t)?t(...e):t}var Gye=t=>typeof t=="function",jye=(t,e)=>t.find(n=>n.id===e);function Rz(t,e){const n=IG(t,e),r=n?t[n].findIndex(i=>i.id===e):-1;return{position:n,index:r}}function IG(t,e){for(const[n,r]of Object.entries(t))if(jye(r,e))return n}function qye(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function Xye(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:5500,pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:i,right:s,left:o}}var Yye={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},hx=Qye(Yye);function Qye(t){let e=t;const n=new Set,r=i=>{e=i(e),n.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(n.add(i),()=>{r(()=>t),n.delete(i)}),removeToast:(i,s)=>{r(o=>({...o,[s]:o[s].filter(a=>a.id!=i)}))},notify:(i,s)=>{const o=Kye(i,s),{position:a,id:l}=o;return r(u=>{var m,v;const p=a.includes("top")?[o,...(m=u[a])!=null?m:[]]:[...(v=u[a])!=null?v:[],o];return{...u,[a]:p}}),l},update:(i,s)=>{!i||r(o=>{const a={...o},{position:l,index:u}=Rz(a,i);return l&&u!==-1&&(a[l][u]={...a[l][u],...s,message:Jye(s)}),a})},closeAll:({positions:i}={})=>{r(s=>{const o=["bottom","bottom-right","bottom-left","top","top-left","top-right"];return(i!=null?i:o).reduce((l,u)=>(l[u]=s[u].map(c=>({...c,requestClose:!0})),l),{...s})})},close:i=>{r(s=>{const o=IG(s,i);return o?{...s,[o]:s[o].map(a=>a.id==i?{...a,requestClose:!0}:a)}:s})},isActive:i=>Boolean(Rz(hx.getState(),i).position)}}var Iz=0;function Kye(t,e={}){var i,s;Iz+=1;const n=(i=e.id)!=null?i:Iz,r=(s=e.position)!=null?s:"bottom";return{id:n,message:t,position:r,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>hx.removeToast(String(n),r),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var Zye=t=>{const{status:e,variant:n="solid",id:r,title:i,isClosable:s,onClose:o,description:a,icon:l}=t,u=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return Ye.createElement(P$,{addRole:!1,status:e,variant:n,id:u==null?void 0:u.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto"},J(I$,{children:l}),Ye.createElement(xt.div,{flex:"1",maxWidth:"100%"},i&&J(k$,{id:u==null?void 0:u.title,children:i}),a&&J(R$,{id:u==null?void 0:u.description,display:"block",children:a})),s&&J(z$,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1}))};function Jye(t={}){const{render:e,toastComponent:n=Zye}=t;return i=>typeof e=="function"?e(i):J(n,{...i,...t})}var exe={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},kG=U.exports.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:u=exe,toastSpacing:c="0.5rem"}=t,[p,m]=U.exports.useState(a),v=Jae();H5(()=>{v||r==null||r()},[v]),H5(()=>{m(a)},[a]);const y=()=>m(null),x=()=>m(a),_=()=>{v&&i()};U.exports.useEffect(()=>{v&&s&&i()},[v,s,i]),Wye(_,p);const b=U.exports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:c,...l}),[l,c]),M=U.exports.useMemo(()=>qye(o),[o]);return Ye.createElement(ts.li,{layout:!0,className:"chakra-toast",variants:u,initial:"initial",animate:"animate",exit:"exit",onHoverStart:y,onHoverEnd:x,custom:{position:o},style:M},Ye.createElement(xt.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:b},$ye(n,{id:e,onClose:_})))});kG.displayName="ToastComponent";var txe=t=>{const e=U.exports.useSyncExternalStore(hx.subscribe,hx.getState,hx.getState),{children:n,motionVariants:r,component:i=kG,portalProps:s}=t,a=Object.keys(e).map(l=>{const u=e[l];return J("ul",{role:"region","aria-live":"polite",id:`chakra-toast-manager-${l}`,style:Xye(l),children:J(Lu,{initial:!1,children:u.map(c=>J(i,{motionVariants:r,...c},c.id))})},l)});return jt(ga,{children:[n,J(V0,{...s,children:a})]})};function nxe(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function rxe(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}var ixe={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}};function cy(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var lE=t=>{var e;return((e=t.current)==null?void 0:e.ownerDocument)||document},g3=t=>{var e,n;return((n=(e=t.current)==null?void 0:e.ownerDocument)==null?void 0:n.defaultView)||window};function sxe(t={}){const{openDelay:e=0,closeDelay:n=0,closeOnClick:r=!0,closeOnMouseDown:i,closeOnScroll:s,closeOnPointerDown:o=i,closeOnEsc:a=!0,onOpen:l,onClose:u,placement:c,id:p,isOpen:m,defaultIsOpen:v,arrowSize:y=10,arrowShadowColor:x,arrowPadding:_,modifiers:b,isDisabled:M,gutter:w,offset:T,direction:A,...k}=t,{isOpen:L,onOpen:P,onClose:O}=hde({isOpen:m,defaultIsOpen:v,onOpen:l,onClose:u}),{referenceRef:N,getPopperProps:H,getArrowInnerProps:ie,getArrowProps:te}=cde({enabled:L,placement:c,arrowPadding:_,modifiers:b,gutter:w,offset:T,direction:A}),ee=U.exports.useId(),ae=`tooltip-${p!=null?p:ee}`,fe=U.exports.useRef(null),z=U.exports.useRef(),Y=U.exports.useRef(),Z=U.exports.useCallback(()=>{Y.current&&(clearTimeout(Y.current),Y.current=void 0),O()},[O]),B=oxe(fe,Z),G=U.exports.useCallback(()=>{if(!M&&!z.current){B();const Fe=g3(fe);z.current=Fe.setTimeout(P,e)}},[B,M,P,e]),le=U.exports.useCallback(()=>{z.current&&(clearTimeout(z.current),z.current=void 0);const Fe=g3(fe);Y.current=Fe.setTimeout(Z,n)},[n,Z]),we=U.exports.useCallback(()=>{L&&r&&le()},[r,le,L]),Me=U.exports.useCallback(()=>{L&&o&&le()},[o,le,L]),pe=U.exports.useCallback(Fe=>{L&&Fe.key==="Escape"&&le()},[L,le]);hA(()=>lE(fe),"keydown",a?pe:void 0),hA(()=>lE(fe),"scroll",()=>{L&&s&&Z()}),U.exports.useEffect(()=>()=>{clearTimeout(z.current),clearTimeout(Y.current)},[]),hA(()=>fe.current,"pointerleave",le);const We=U.exports.useCallback((Fe={},pt=null)=>({...Fe,ref:c0(fe,pt,N),onPointerEnter:cy(Fe.onPointerEnter,Ae=>{Ae.pointerType!=="touch"&&G()}),onClick:cy(Fe.onClick,we),onPointerDown:cy(Fe.onPointerDown,Me),onFocus:cy(Fe.onFocus,G),onBlur:cy(Fe.onBlur,le),"aria-describedby":L?ae:void 0}),[G,le,Me,L,ae,we,N]),Be=U.exports.useCallback((Fe={},pt=null)=>H({...Fe,style:{...Fe.style,[ms.arrowSize.var]:y?`${y}px`:void 0,[ms.arrowShadowColor.var]:x}},pt),[H,y,x]),Qe=U.exports.useCallback((Fe={},pt=null)=>{const Ie={...Fe.style,position:"relative",transformOrigin:ms.transformOrigin.varRef};return{ref:pt,...k,...Fe,id:ae,role:"tooltip",style:Ie}},[k,ae]);return{isOpen:L,show:G,hide:le,getTriggerProps:We,getTooltipProps:Qe,getTooltipPositionerProps:Be,getArrowProps:te,getArrowInnerProps:ie}}var wA="chakra-ui:close-tooltip";function oxe(t,e){return U.exports.useEffect(()=>{const n=lE(t);return n.addEventListener(wA,e),()=>n.removeEventListener(wA,e)},[e,t]),()=>{const n=lE(t),r=g3(t);n.dispatchEvent(new r.CustomEvent(wA))}}var axe=xt(ts.div),s1=Et((t,e)=>{var O,N;const n=Vo("Tooltip",t),r=di(t),i=aL(),{children:s,label:o,shouldWrapChildren:a,"aria-label":l,hasArrow:u,bg:c,portalProps:p,background:m,backgroundColor:v,bgColor:y,motionProps:x,..._}=r,b=(N=(O=m!=null?m:v)!=null?O:c)!=null?N:y;if(b){n.bg=b;const H=eie(i,"colors",b);n[ms.arrowBg.var]=H}const M=sxe({..._,direction:i.direction}),w=typeof s=="string"||a;let T;if(w)T=Ye.createElement(xt.span,{display:"inline-block",tabIndex:0,...M.getTriggerProps()},s);else{const H=U.exports.Children.only(s);T=U.exports.cloneElement(H,M.getTriggerProps(H.props,H.ref))}const A=!!l,k=M.getTooltipProps({},e),L=A?nxe(k,["role","id"]):k,P=rxe(k,["role","id"]);return o?jt(ga,{children:[T,J(Lu,{children:M.isOpen&&Ye.createElement(V0,{...p},Ye.createElement(xt.div,{...M.getTooltipPositionerProps(),__css:{zIndex:n.zIndex,pointerEvents:"none"}},jt(axe,{variants:ixe,initial:"exit",animate:"enter",exit:"exit",...x,...L,__css:n,children:[o,A&&Ye.createElement(xt.span,{srOnly:!0,...P},l),u&&Ye.createElement(xt.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper"},Ye.createElement(xt.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:n.bg}}))]})))})]}):J(ga,{children:s})});s1.displayName="Tooltip";var lxe=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetCSS:i=!0,theme:s={},environment:o,cssVarsRoot:a}=t,l=J(tG,{environment:o,children:e});return J(vse,{theme:s,cssVarsRoot:a,children:jt(_H,{colorModeManager:n,options:s.config,children:[i?J(hfe,{}):J(ffe,{}),J(xse,{}),r?J(fG,{zIndex:r,children:l}):l]})})};function uxe({children:t,theme:e=RG,toastOptions:n,...r}){return jt(lxe,{theme:e,...r,children:[t,J(txe,{...n})]})}function LG(...t){let e=[...t],n=t[t.length-1];return Uye(n)&&e.length>1?e=e.slice(0,e.length-1):n=RG,Jie(...e.map(r=>i=>Cg(r)?r(i):cxe(i,r)))(n)}function cxe(...t){return qa({},...t,DG)}function DG(t,e,n,r){if((Cg(t)||Cg(e))&&Object.prototype.hasOwnProperty.call(r,n))return(...i)=>{const s=Cg(t)?t(...i):t,o=Cg(e)?e(...i):e;return qa({},s,o,DG)}}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const XT="148",Nd={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Fd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},OG=0,v3=1,NG=2,fxe=3,hxe=0,KL=1,ZL=2,Rg=3,_h=0,da=1,d_=2,Oy=3,Rc=0,dp=1,y3=2,x3=3,_3=4,FG=5,Wd=100,zG=101,BG=102,w3=103,S3=104,UG=200,VG=201,HG=202,WG=203,JL=204,eD=205,$G=206,GG=207,jG=208,qG=209,XG=210,YG=0,QG=1,KG=2,uE=3,ZG=4,JG=5,e9=6,t9=7,p_=0,n9=1,r9=2,Ol=0,i9=1,s9=2,o9=3,tD=4,a9=5,YT=300,Uc=301,wh=302,y0=303,o1=304,H0=306,a1=1e3,Us=1001,l1=1002,ci=1003,cE=1004,dxe=1004,dx=1005,pxe=1005,Er=1006,nD=1007,mxe=1007,Sh=1008,gxe=1008,bh=1009,l9=1010,u9=1011,rD=1012,c9=1013,Qf=1014,ca=1015,Xa=1016,f9=1017,h9=1018,pp=1020,d9=1021,p9=1022,la=1023,m9=1024,g9=1025,uh=1026,Rp=1027,v9=1028,y9=1029,x9=1030,_9=1031,w9=1033,tM=33776,nM=33777,rM=33778,iM=33779,b3=35840,M3=35841,E3=35842,T3=35843,S9=36196,C3=37492,A3=37496,P3=37808,R3=37809,I3=37810,k3=37811,L3=37812,D3=37813,O3=37814,N3=37815,F3=37816,z3=37817,B3=37818,U3=37819,V3=37820,H3=37821,W3=36492,b9=2200,M9=2201,E9=2202,u1=2300,c1=2301,sM=2302,Jd=2400,ep=2401,f1=2402,QT=2500,iD=2501,vxe=0,yxe=1,xxe=2,zl=3e3,ir=3001,T9=3200,C9=3201,Lh=0,A9=1,_xe="",El="srgb",x0="srgb-linear",wxe=0,oM=7680,Sxe=7681,bxe=7682,Mxe=7683,Exe=34055,Txe=34056,Cxe=5386,Axe=512,Pxe=513,Rxe=514,Ixe=515,kxe=516,Lxe=517,Dxe=518,P9=519,h1=35044,Oxe=35048,Nxe=35040,Fxe=35045,zxe=35049,Bxe=35041,Uxe=35046,Vxe=35050,Hxe=35042,Wxe="100",$3="300 es",fE=1035;class zu{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Ls=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let kz=1234567;const mp=Math.PI/180,d1=180/Math.PI;function pa(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ls[t&255]+Ls[t>>8&255]+Ls[t>>16&255]+Ls[t>>24&255]+"-"+Ls[e&255]+Ls[e>>8&255]+"-"+Ls[e>>16&15|64]+Ls[e>>24&255]+"-"+Ls[n&63|128]+Ls[n>>8&255]+"-"+Ls[n>>16&255]+Ls[n>>24&255]+Ls[r&255]+Ls[r>>8&255]+Ls[r>>16&255]+Ls[r>>24&255]).toLowerCase()}function hi(t,e,n){return Math.max(e,Math.min(n,t))}function sD(t,e){return(t%e+e)%e}function $xe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Gxe(t,e,n){return t!==e?(n-t)/(e-t):0}function px(t,e,n){return(1-n)*t+n*e}function jxe(t,e,n,r){return px(t,e,1-Math.exp(-n*r))}function qxe(t,e=1){return e-Math.abs(sD(t,e*2)-e)}function Xxe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Yxe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Qxe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Kxe(t,e){return t+Math.random()*(e-t)}function Zxe(t){return t*(.5-Math.random())}function Jxe(t){t!==void 0&&(kz=t);let e=kz+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function e1e(t){return t*mp}function t1e(t){return t*d1}function G3(t){return(t&t-1)===0&&t!==0}function R9(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function hE(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function n1e(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),c=o((e+r)/2),p=s((e-r)/2),m=o((e-r)/2),v=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*p,l*m,a*u);break;case"YZY":t.set(l*m,a*c,l*p,a*u);break;case"ZXZ":t.set(l*p,l*m,a*c,a*u);break;case"XZX":t.set(a*c,l*y,l*v,a*u);break;case"YXY":t.set(l*v,a*c,l*y,a*u);break;case"ZYZ":t.set(l*y,l*v,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Cc(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function hr(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var r1e=Object.freeze({__proto__:null,DEG2RAD:mp,RAD2DEG:d1,generateUUID:pa,clamp:hi,euclideanModulo:sD,mapLinear:$xe,inverseLerp:Gxe,lerp:px,damp:jxe,pingpong:qxe,smoothstep:Xxe,smootherstep:Yxe,randInt:Qxe,randFloat:Kxe,randFloatSpread:Zxe,seededRandom:Jxe,degToRad:e1e,radToDeg:t1e,isPowerOfTwo:G3,ceilPowerOfTwo:R9,floorPowerOfTwo:hE,setQuaternionFromProperEuler:n1e,normalize:hr,denormalize:Cc});class Ne{constructor(e=0,n=0){Ne.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class mo{constructor(){mo.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],p=r[7],m=r[2],v=r[5],y=r[8],x=i[0],_=i[3],b=i[6],M=i[1],w=i[4],T=i[7],A=i[2],k=i[5],L=i[8];return s[0]=o*x+a*M+l*A,s[3]=o*_+a*w+l*k,s[6]=o*b+a*T+l*L,s[1]=u*x+c*M+p*A,s[4]=u*_+c*w+p*k,s[7]=u*b+c*T+p*L,s[2]=m*x+v*M+y*A,s[5]=m*_+v*w+y*k,s[8]=m*b+v*T+y*L,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],p=c*o-a*u,m=a*l-c*s,v=u*s-o*l,y=n*p+r*m+i*v;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/y;return e[0]=p*x,e[1]=(i*u-c*r)*x,e[2]=(a*r-i*o)*x,e[3]=m*x,e[4]=(c*n-i*l)*x,e[5]=(i*s-a*n)*x,e[6]=v*x,e[7]=(r*l-u*n)*x,e[8]=(o*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(SA.makeScale(e,n)),this}rotate(e){return this.premultiply(SA.makeRotation(-e)),this}translate(e,n){return this.premultiply(SA.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const SA=new mo;function I9(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const i1e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ig(t,e){return new i1e[t](e)}function p1(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function gp(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function aM(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const bA={[El]:{[x0]:gp},[x0]:{[El]:aM}},Os={legacyMode:!0,get workingColorSpace(){return x0},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(bA[e]&&bA[e][n]!==void 0){const r=bA[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},k9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ai={r:0,g:0,b:0},xl={h:0,s:0,l:0},DS={h:0,s:0,l:0};function MA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function OS(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class mt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=El){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Os.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Os.workingColorSpace){return this.r=e,this.g=n,this.b=r,Os.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Os.workingColorSpace){if(e=sD(e,1),n=hi(n,0,1),r=hi(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=MA(o,s,e+1/3),this.g=MA(o,s,e),this.b=MA(o,s,e-1/3)}return Os.toWorkingColorSpace(this,i),this}setStyle(e,n=El){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Os.toWorkingColorSpace(this,n),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Os.toWorkingColorSpace(this,n),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,c=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,c,n)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Os.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Os.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=El){const r=k9[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=gp(e.r),this.g=gp(e.g),this.b=gp(e.b),this}copyLinearToSRGB(e){return this.r=aM(e.r),this.g=aM(e.g),this.b=aM(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=El){return Os.fromWorkingColorSpace(OS(this,Ai),e),hi(Ai.r*255,0,255)<<16^hi(Ai.g*255,0,255)<<8^hi(Ai.b*255,0,255)<<0}getHexString(e=El){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Os.workingColorSpace){Os.fromWorkingColorSpace(OS(this,Ai),n);const r=Ai.r,i=Ai.g,s=Ai.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const p=o-a;switch(u=c<=.5?p/(o+a):p/(2-o-a),o){case r:l=(i-s)/p+(i<s?6:0);break;case i:l=(s-r)/p+2;break;case s:l=(r-i)/p+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=Os.workingColorSpace){return Os.fromWorkingColorSpace(OS(this,Ai),n),e.r=Ai.r,e.g=Ai.g,e.b=Ai.b,e}getStyle(e=El){return Os.fromWorkingColorSpace(OS(this,Ai),e),e!==El?`color(${e} ${Ai.r} ${Ai.g} ${Ai.b})`:`rgb(${Ai.r*255|0},${Ai.g*255|0},${Ai.b*255|0})`}offsetHSL(e,n,r){return this.getHSL(xl),xl.h+=e,xl.s+=n,xl.l+=r,this.setHSL(xl.h,xl.s,xl.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(xl),e.getHSL(DS);const r=px(xl.h,DS.h,n),i=px(xl.s,DS.s,n),s=px(xl.l,DS.l,n);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}mt.NAMES=k9;let Gm;class oD{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Gm===void 0&&(Gm=p1("canvas")),Gm.width=e.width,Gm.height=e.height;const r=Gm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Gm}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=p1("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=gp(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(gp(n[r]/255)*255):n[r]=gp(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class tp{constructor(e=null){this.isSource=!0,this.uuid=pa(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(EA(i[o].image)):s.push(EA(i[o]))}else s=EA(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function EA(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?oD.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let s1e=0;class ti extends zu{constructor(e=ti.DEFAULT_IMAGE,n=ti.DEFAULT_MAPPING,r=Us,i=Us,s=Er,o=Sh,a=la,l=bh,u=ti.DEFAULT_ANISOTROPY,c=zl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:s1e++}),this.uuid=pa(),this.name="",this.source=new tp(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ne(0,0),this.repeat=new Ne(1,1),this.center=new Ne(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new mo,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==YT)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case a1:e.x=e.x-Math.floor(e.x);break;case Us:e.x=e.x<0?0:1;break;case l1:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case a1:e.y=e.y-Math.floor(e.y);break;case Us:e.y=e.y<0?0:1;break;case l1:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}ti.DEFAULT_IMAGE=null;ti.DEFAULT_MAPPING=YT;ti.DEFAULT_ANISOTROPY=1;class sr{constructor(e=0,n=0,r=0,i=1){sr.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],p=l[8],m=l[1],v=l[5],y=l[9],x=l[2],_=l[6],b=l[10];if(Math.abs(c-m)<.01&&Math.abs(p-x)<.01&&Math.abs(y-_)<.01){if(Math.abs(c+m)<.1&&Math.abs(p+x)<.1&&Math.abs(y+_)<.1&&Math.abs(u+v+b-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(u+1)/2,T=(v+1)/2,A=(b+1)/2,k=(c+m)/4,L=(p+x)/4,P=(y+_)/4;return w>T&&w>A?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=k/r,s=L/r):T>A?T<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(T),r=k/i,s=P/i):A<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(A),r=L/s,i=P/s),this.set(r,i,s,n),this}let M=Math.sqrt((_-y)*(_-y)+(p-x)*(p-x)+(m-c)*(m-c));return Math.abs(M)<.001&&(M=1),this.x=(_-y)/M,this.y=(p-x)/M,this.z=(m-c)/M,this.w=Math.acos((u+v+b-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class yo extends zu{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new sr(0,0,e,n),this.scissorTest=!1,this.viewport=new sr(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new ti(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Er,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new tp(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class m_ extends ti{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ci,this.minFilter=ci,this.wrapR=Us,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class o1e extends yo{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new m_(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class KT extends ti{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ci,this.minFilter=ci,this.wrapR=Us,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class a1e extends yo{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new KT(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class l1e extends yo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Hs{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],p=r[i+3];const m=s[o+0],v=s[o+1],y=s[o+2],x=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=p;return}if(a===1){e[n+0]=m,e[n+1]=v,e[n+2]=y,e[n+3]=x;return}if(p!==x||l!==m||u!==v||c!==y){let _=1-a;const b=l*m+u*v+c*y+p*x,M=b>=0?1:-1,w=1-b*b;if(w>Number.EPSILON){const A=Math.sqrt(w),k=Math.atan2(A,b*M);_=Math.sin(_*k)/A,a=Math.sin(a*k)/A}const T=a*M;if(l=l*_+m*T,u=u*_+v*T,c=c*_+y*T,p=p*_+x*T,_===1-a){const A=1/Math.sqrt(l*l+u*u+c*c+p*p);l*=A,u*=A,c*=A,p*=A}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=p}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],p=s[o],m=s[o+1],v=s[o+2],y=s[o+3];return e[n]=a*y+c*p+l*v-u*m,e[n+1]=l*y+c*m+u*p-a*v,e[n+2]=u*y+c*v+a*m-l*p,e[n+3]=c*y-a*p-l*m-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),p=a(s/2),m=l(r/2),v=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=m*c*p+u*v*y,this._y=u*v*p-m*c*y,this._z=u*c*y+m*v*p,this._w=u*c*p-m*v*y;break;case"YXZ":this._x=m*c*p+u*v*y,this._y=u*v*p-m*c*y,this._z=u*c*y-m*v*p,this._w=u*c*p+m*v*y;break;case"ZXY":this._x=m*c*p-u*v*y,this._y=u*v*p+m*c*y,this._z=u*c*y+m*v*p,this._w=u*c*p-m*v*y;break;case"ZYX":this._x=m*c*p-u*v*y,this._y=u*v*p+m*c*y,this._z=u*c*y-m*v*p,this._w=u*c*p+m*v*y;break;case"YZX":this._x=m*c*p+u*v*y,this._y=u*v*p+m*c*y,this._z=u*c*y-m*v*p,this._w=u*c*p-m*v*y;break;case"XZY":this._x=m*c*p-u*v*y,this._y=u*v*p-m*c*y,this._z=u*c*y+m*v*p,this._w=u*c*p+m*v*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],p=n[10],m=r+a+p;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(c-l)*v,this._y=(s-u)*v,this._z=(o-i)*v}else if(r>a&&r>p){const v=2*Math.sqrt(1+r-a-p);this._w=(c-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+u)/v}else if(a>p){const v=2*Math.sqrt(1+a-r-p);this._w=(s-u)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+c)/v}else{const v=2*Math.sqrt(1+p-r-a);this._w=(o-i)/v,this._x=(s+u)/v,this._y=(l+c)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(hi(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*r+n*this._x,this._y=v*i+n*this._y,this._z=v*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),p=Math.sin((1-n)*c)/u,m=Math.sin(n*c)/u;return this._w=o*p+this._w*m,this._x=r*p+this._x*m,this._y=i*p+this._y*m,this._z=s*p+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class X{constructor(e=0,n=0,r=0){X.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(Lz.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Lz.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,c=l*r+a*n-s*i,p=l*i+s*r-o*n,m=-s*n-o*r-a*i;return this.x=u*l+m*-s+c*-a-p*-o,this.y=c*l+m*-o+p*-s-u*-a,this.z=p*l+m*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return TA.copy(this).projectOnVector(e),this.sub(TA)}reflect(e){return this.sub(TA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(hi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const TA=new X,Lz=new Hs;class qp{constructor(e=new X(1/0,1/0,1/0),n=new X(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],p=e[l+1],m=e[l+2];c<n&&(n=c),p<r&&(r=p),m<i&&(i=m),c>s&&(s=c),p>o&&(o=p),m>a&&(a=m)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),p=e.getY(l),m=e.getZ(l);c<n&&(n=c),p<r&&(r=p),m<i&&(i=m),c>s&&(s=c),p>o&&(o=p),m>a&&(a=m)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ed.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Ed.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ed)}else r.boundingBox===null&&r.computeBoundingBox(),CA.copy(r.boundingBox),CA.applyMatrix4(e.matrixWorld),this.union(CA);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ed),Ed.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(fy),NS.subVectors(this.max,fy),jm.subVectors(e.a,fy),qm.subVectors(e.b,fy),Xm.subVectors(e.c,fy),Rf.subVectors(qm,jm),If.subVectors(Xm,qm),Td.subVectors(jm,Xm);let n=[0,-Rf.z,Rf.y,0,-If.z,If.y,0,-Td.z,Td.y,Rf.z,0,-Rf.x,If.z,0,-If.x,Td.z,0,-Td.x,-Rf.y,Rf.x,0,-If.y,If.x,0,-Td.y,Td.x,0];return!AA(n,jm,qm,Xm,NS)||(n=[1,0,0,0,1,0,0,0,1],!AA(n,jm,qm,Xm,NS))?!1:(FS.crossVectors(Rf,If),n=[FS.x,FS.y,FS.z],AA(n,jm,qm,Xm,NS))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ed.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Ed).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(fc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fc=[new X,new X,new X,new X,new X,new X,new X,new X],Ed=new X,CA=new qp,jm=new X,qm=new X,Xm=new X,Rf=new X,If=new X,Td=new X,fy=new X,NS=new X,FS=new X,Cd=new X;function AA(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Cd.fromArray(t,s);const a=i.x*Math.abs(Cd.x)+i.y*Math.abs(Cd.y)+i.z*Math.abs(Cd.z),l=e.dot(Cd),u=n.dot(Cd),c=r.dot(Cd);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const u1e=new qp,hy=new X,PA=new X;class Xp{constructor(e=new X,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):u1e.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;hy.subVectors(e,this.center);const n=hy.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(hy,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(PA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(hy.copy(e.center).add(PA)),this.expandByPoint(hy.copy(e.center).sub(PA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const hc=new X,RA=new X,zS=new X,kf=new X,IA=new X,BS=new X,kA=new X;class g_{constructor(e=new X,n=new X(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,hc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=hc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(hc.copy(this.direction).multiplyScalar(n).add(this.origin),hc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){RA.copy(e).add(n).multiplyScalar(.5),zS.copy(n).sub(e).normalize(),kf.copy(this.origin).sub(RA);const s=e.distanceTo(n)*.5,o=-this.direction.dot(zS),a=kf.dot(this.direction),l=-kf.dot(zS),u=kf.lengthSq(),c=Math.abs(1-o*o);let p,m,v,y;if(c>0)if(p=o*l-a,m=o*a-l,y=s*c,p>=0)if(m>=-y)if(m<=y){const x=1/c;p*=x,m*=x,v=p*(p+o*m+2*a)+m*(o*p+m+2*l)+u}else m=s,p=Math.max(0,-(o*m+a)),v=-p*p+m*(m+2*l)+u;else m=-s,p=Math.max(0,-(o*m+a)),v=-p*p+m*(m+2*l)+u;else m<=-y?(p=Math.max(0,-(-o*s+a)),m=p>0?-s:Math.min(Math.max(-s,-l),s),v=-p*p+m*(m+2*l)+u):m<=y?(p=0,m=Math.min(Math.max(-s,-l),s),v=m*(m+2*l)+u):(p=Math.max(0,-(o*s+a)),m=p>0?s:Math.min(Math.max(-s,-l),s),v=-p*p+m*(m+2*l)+u);else m=o>0?-s:s,p=Math.max(0,-(o*m+a)),v=-p*p+m*(m+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(p).add(this.origin),i&&i.copy(zS).multiplyScalar(m).add(RA),v}intersectSphere(e,n){hc.subVectors(e.center,this.origin);const r=hc.dot(this.direction),i=hc.dot(hc)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,p=1/this.direction.z,m=this.origin;return u>=0?(r=(e.min.x-m.x)*u,i=(e.max.x-m.x)*u):(r=(e.max.x-m.x)*u,i=(e.min.x-m.x)*u),c>=0?(s=(e.min.y-m.y)*c,o=(e.max.y-m.y)*c):(s=(e.max.y-m.y)*c,o=(e.min.y-m.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),p>=0?(a=(e.min.z-m.z)*p,l=(e.max.z-m.z)*p):(a=(e.max.z-m.z)*p,l=(e.min.z-m.z)*p),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,hc)!==null}intersectTriangle(e,n,r,i,s){IA.subVectors(n,e),BS.subVectors(r,e),kA.crossVectors(IA,BS);let o=this.direction.dot(kA),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;kf.subVectors(this.origin,e);const l=a*this.direction.dot(BS.crossVectors(kf,BS));if(l<0)return null;const u=a*this.direction.dot(IA.cross(kf));if(u<0||l+u>o)return null;const c=-a*kf.dot(kA);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class vn{constructor(){vn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,r,i,s,o,a,l,u,c,p,m,v,y,x,_){const b=this.elements;return b[0]=e,b[4]=n,b[8]=r,b[12]=i,b[1]=s,b[5]=o,b[9]=a,b[13]=l,b[2]=u,b[6]=c,b[10]=p,b[14]=m,b[3]=v,b[7]=y,b[11]=x,b[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new vn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Ym.setFromMatrixColumn(e,0).length(),s=1/Ym.setFromMatrixColumn(e,1).length(),o=1/Ym.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const m=o*c,v=o*p,y=a*c,x=a*p;n[0]=l*c,n[4]=-l*p,n[8]=u,n[1]=v+y*u,n[5]=m-x*u,n[9]=-a*l,n[2]=x-m*u,n[6]=y+v*u,n[10]=o*l}else if(e.order==="YXZ"){const m=l*c,v=l*p,y=u*c,x=u*p;n[0]=m+x*a,n[4]=y*a-v,n[8]=o*u,n[1]=o*p,n[5]=o*c,n[9]=-a,n[2]=v*a-y,n[6]=x+m*a,n[10]=o*l}else if(e.order==="ZXY"){const m=l*c,v=l*p,y=u*c,x=u*p;n[0]=m-x*a,n[4]=-o*p,n[8]=y+v*a,n[1]=v+y*a,n[5]=o*c,n[9]=x-m*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const m=o*c,v=o*p,y=a*c,x=a*p;n[0]=l*c,n[4]=y*u-v,n[8]=m*u+x,n[1]=l*p,n[5]=x*u+m,n[9]=v*u-y,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const m=o*l,v=o*u,y=a*l,x=a*u;n[0]=l*c,n[4]=x-m*p,n[8]=y*p+v,n[1]=p,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=v*p+y,n[10]=m-x*p}else if(e.order==="XZY"){const m=o*l,v=o*u,y=a*l,x=a*u;n[0]=l*c,n[4]=-p,n[8]=u*c,n[1]=m*p+x,n[5]=o*c,n[9]=v*p-y,n[2]=y*p-v,n[6]=a*c,n[10]=x*p+m}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(c1e,e,f1e)}lookAt(e,n,r){const i=this.elements;return ia.subVectors(e,n),ia.lengthSq()===0&&(ia.z=1),ia.normalize(),Lf.crossVectors(r,ia),Lf.lengthSq()===0&&(Math.abs(r.z)===1?ia.x+=1e-4:ia.z+=1e-4,ia.normalize(),Lf.crossVectors(r,ia)),Lf.normalize(),US.crossVectors(ia,Lf),i[0]=Lf.x,i[4]=US.x,i[8]=ia.x,i[1]=Lf.y,i[5]=US.y,i[9]=ia.y,i[2]=Lf.z,i[6]=US.z,i[10]=ia.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],p=r[5],m=r[9],v=r[13],y=r[2],x=r[6],_=r[10],b=r[14],M=r[3],w=r[7],T=r[11],A=r[15],k=i[0],L=i[4],P=i[8],O=i[12],N=i[1],H=i[5],ie=i[9],te=i[13],ee=i[2],ue=i[6],ae=i[10],fe=i[14],z=i[3],Y=i[7],Z=i[11],B=i[15];return s[0]=o*k+a*N+l*ee+u*z,s[4]=o*L+a*H+l*ue+u*Y,s[8]=o*P+a*ie+l*ae+u*Z,s[12]=o*O+a*te+l*fe+u*B,s[1]=c*k+p*N+m*ee+v*z,s[5]=c*L+p*H+m*ue+v*Y,s[9]=c*P+p*ie+m*ae+v*Z,s[13]=c*O+p*te+m*fe+v*B,s[2]=y*k+x*N+_*ee+b*z,s[6]=y*L+x*H+_*ue+b*Y,s[10]=y*P+x*ie+_*ae+b*Z,s[14]=y*O+x*te+_*fe+b*B,s[3]=M*k+w*N+T*ee+A*z,s[7]=M*L+w*H+T*ue+A*Y,s[11]=M*P+w*ie+T*ae+A*Z,s[15]=M*O+w*te+T*fe+A*B,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],p=e[6],m=e[10],v=e[14],y=e[3],x=e[7],_=e[11],b=e[15];return y*(+s*l*p-i*u*p-s*a*m+r*u*m+i*a*v-r*l*v)+x*(+n*l*v-n*u*m+s*o*m-i*o*v+i*u*c-s*l*c)+_*(+n*u*p-n*a*v-s*o*p+r*o*v+s*a*c-r*u*c)+b*(-i*a*c-n*l*p+n*a*m+i*o*p-r*o*m+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],p=e[9],m=e[10],v=e[11],y=e[12],x=e[13],_=e[14],b=e[15],M=p*_*u-x*m*u+x*l*v-a*_*v-p*l*b+a*m*b,w=y*m*u-c*_*u-y*l*v+o*_*v+c*l*b-o*m*b,T=c*x*u-y*p*u+y*a*v-o*x*v-c*a*b+o*p*b,A=y*p*l-c*x*l-y*a*m+o*x*m+c*a*_-o*p*_,k=n*M+r*w+i*T+s*A;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/k;return e[0]=M*L,e[1]=(x*m*s-p*_*s-x*i*v+r*_*v+p*i*b-r*m*b)*L,e[2]=(a*_*s-x*l*s+x*i*u-r*_*u-a*i*b+r*l*b)*L,e[3]=(p*l*s-a*m*s-p*i*u+r*m*u+a*i*v-r*l*v)*L,e[4]=w*L,e[5]=(c*_*s-y*m*s+y*i*v-n*_*v-c*i*b+n*m*b)*L,e[6]=(y*l*s-o*_*s-y*i*u+n*_*u+o*i*b-n*l*b)*L,e[7]=(o*m*s-c*l*s+c*i*u-n*m*u-o*i*v+n*l*v)*L,e[8]=T*L,e[9]=(y*p*s-c*x*s-y*r*v+n*x*v+c*r*b-n*p*b)*L,e[10]=(o*x*s-y*a*s+y*r*u-n*x*u-o*r*b+n*a*b)*L,e[11]=(c*a*s-o*p*s-c*r*u+n*p*u+o*r*v-n*a*v)*L,e[12]=A*L,e[13]=(c*x*i-y*p*i+y*r*m-n*x*m-c*r*_+n*p*_)*L,e[14]=(y*a*i-o*x*i-y*r*l+n*x*l+o*r*_-n*a*_)*L,e[15]=(o*p*i-c*a*i+c*r*l-n*p*l-o*r*m+n*a*m)*L,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,p=a+a,m=s*u,v=s*c,y=s*p,x=o*c,_=o*p,b=a*p,M=l*u,w=l*c,T=l*p,A=r.x,k=r.y,L=r.z;return i[0]=(1-(x+b))*A,i[1]=(v+T)*A,i[2]=(y-w)*A,i[3]=0,i[4]=(v-T)*k,i[5]=(1-(m+b))*k,i[6]=(_+M)*k,i[7]=0,i[8]=(y+w)*L,i[9]=(_-M)*L,i[10]=(1-(m+x))*L,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Ym.set(i[0],i[1],i[2]).length();const o=Ym.set(i[4],i[5],i[6]).length(),a=Ym.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],_l.copy(this);const u=1/s,c=1/o,p=1/a;return _l.elements[0]*=u,_l.elements[1]*=u,_l.elements[2]*=u,_l.elements[4]*=c,_l.elements[5]*=c,_l.elements[6]*=c,_l.elements[8]*=p,_l.elements[9]*=p,_l.elements[10]*=p,n.setFromRotationMatrix(_l),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o){const a=this.elements,l=2*s/(n-e),u=2*s/(r-i),c=(n+e)/(n-e),p=(r+i)/(r-i),m=-(o+s)/(o-s),v=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=p,a[13]=0,a[2]=0,a[6]=0,a[10]=m,a[14]=v,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,s,o){const a=this.elements,l=1/(n-e),u=1/(r-i),c=1/(o-s),p=(n+e)*l,m=(r+i)*u,v=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-p,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-m,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-v,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ym=new X,_l=new vn,c1e=new X(0,0,0),f1e=new X(1,1,1),Lf=new X,US=new X,ia=new X,Dz=new vn,Oz=new Hs;class W0{constructor(e=0,n=0,r=0,i=W0.DefaultOrder){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],p=i[2],m=i[6],v=i[10];switch(n){case"XYZ":this._y=Math.asin(hi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(m,u),this._z=0);break;case"YXZ":this._x=Math.asin(-hi(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(hi(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-hi(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(hi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-hi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(m,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return Dz.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Dz,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Oz.setFromEuler(this),this.setFromQuaternion(Oz,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}W0.DefaultOrder="XYZ";W0.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class vp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let h1e=0;const Nz=new X,Qm=new Hs,dc=new vn,VS=new X,dy=new X,d1e=new X,p1e=new Hs,Fz=new X(1,0,0),zz=new X(0,1,0),Bz=new X(0,0,1),m1e={type:"added"},Uz={type:"removed"};class Hn extends zu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:h1e++}),this.uuid=pa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Hn.DefaultUp.clone();const e=new X,n=new W0,r=new Hs,i=new X(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new vn},normalMatrix:{value:new mo}}),this.matrix=new vn,this.matrixWorld=new vn,this.matrixAutoUpdate=Hn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Hn.DefaultMatrixWorldAutoUpdate,this.layers=new vp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Qm.setFromAxisAngle(e,n),this.quaternion.multiply(Qm),this}rotateOnWorldAxis(e,n){return Qm.setFromAxisAngle(e,n),this.quaternion.premultiply(Qm),this}rotateX(e){return this.rotateOnAxis(Fz,e)}rotateY(e){return this.rotateOnAxis(zz,e)}rotateZ(e){return this.rotateOnAxis(Bz,e)}translateOnAxis(e,n){return Nz.copy(e).applyQuaternion(this.quaternion),this.position.add(Nz.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Fz,e)}translateY(e){return this.translateOnAxis(zz,e)}translateZ(e){return this.translateOnAxis(Bz,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(dc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?VS.copy(e):VS.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),dy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?dc.lookAt(dy,VS,this.up):dc.lookAt(VS,dy,this.up),this.quaternion.setFromRotationMatrix(dc),i&&(dc.extractRotation(i.matrixWorld),Qm.setFromRotationMatrix(dc),this.quaternion.premultiply(Qm.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(m1e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Uz)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(Uz)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),dc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),dc.multiply(e.parent.matrixWorld)),e.applyMatrix4(dc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dy,e,d1e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dy,p1e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const p=l[u];s(e.shapes,p)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),p=o(e.shapes),m=o(e.skeletons),v=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),p.length>0&&(r.shapes=p),m.length>0&&(r.skeletons=m),v.length>0&&(r.animations=v),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Hn.DefaultUp=new X(0,1,0);Hn.DefaultMatrixAutoUpdate=!0;Hn.DefaultMatrixWorldAutoUpdate=!0;const wl=new X,pc=new X,LA=new X,mc=new X,Km=new X,Zm=new X,Vz=new X,DA=new X,OA=new X,NA=new X;class Wa{constructor(e=new X,n=new X,r=new X){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),wl.subVectors(e,n),i.cross(wl);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){wl.subVectors(i,n),pc.subVectors(r,n),LA.subVectors(e,n);const o=wl.dot(wl),a=wl.dot(pc),l=wl.dot(LA),u=pc.dot(pc),c=pc.dot(LA),p=o*u-a*a;if(p===0)return s.set(-2,-1,-1);const m=1/p,v=(u*l-a*c)*m,y=(o*c-a*l)*m;return s.set(1-v-y,y,v)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,mc),mc.x>=0&&mc.y>=0&&mc.x+mc.y<=1}static getUV(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,mc),l.set(0,0),l.addScaledVector(s,mc.x),l.addScaledVector(o,mc.y),l.addScaledVector(a,mc.z),l}static isFrontFacing(e,n,r,i){return wl.subVectors(r,n),pc.subVectors(e,n),wl.cross(pc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return wl.subVectors(this.c,this.b),pc.subVectors(this.a,this.b),wl.cross(pc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Wa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Wa.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return Wa.getUV(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Wa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Wa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Km.subVectors(i,r),Zm.subVectors(s,r),DA.subVectors(e,r);const l=Km.dot(DA),u=Zm.dot(DA);if(l<=0&&u<=0)return n.copy(r);OA.subVectors(e,i);const c=Km.dot(OA),p=Zm.dot(OA);if(c>=0&&p<=c)return n.copy(i);const m=l*p-c*u;if(m<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(Km,o);NA.subVectors(e,s);const v=Km.dot(NA),y=Zm.dot(NA);if(y>=0&&v<=y)return n.copy(s);const x=v*u-l*y;if(x<=0&&u>=0&&y<=0)return a=u/(u-y),n.copy(r).addScaledVector(Zm,a);const _=c*y-v*p;if(_<=0&&p-c>=0&&v-y>=0)return Vz.subVectors(s,i),a=(p-c)/(p-c+(v-y)),n.copy(i).addScaledVector(Vz,a);const b=1/(_+x+m);return o=x*b,a=m*b,n.copy(r).addScaledVector(Km,o).addScaledVector(Zm,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let g1e=0;class Ss extends zu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:g1e++}),this.uuid=pa(),this.name="",this.type="Material",this.blending=dp,this.side=_h,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=JL,this.blendDst=eD,this.blendEquation=Wd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=uE,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=P9,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=oM,this.stencilZFail=oM,this.stencilZPass=oM,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==dp&&(r.blending=this.blending),this.side!==_h&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Dh extends Ss{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=p_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _i=new X,HS=new Ne;class dr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=h1,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)HS.fromBufferAttribute(this,n),HS.applyMatrix3(e),this.setXY(n,HS.x,HS.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)_i.fromBufferAttribute(this,n),_i.applyMatrix3(e),this.setXYZ(n,_i.x,_i.y,_i.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)_i.fromBufferAttribute(this,n),_i.applyMatrix4(e),this.setXYZ(n,_i.x,_i.y,_i.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)_i.fromBufferAttribute(this,n),_i.applyNormalMatrix(e),this.setXYZ(n,_i.x,_i.y,_i.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)_i.fromBufferAttribute(this,n),_i.transformDirection(e),this.setXYZ(n,_i.x,_i.y,_i.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Cc(n,this.array)),n}setX(e,n){return this.normalized&&(n=hr(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Cc(n,this.array)),n}setY(e,n){return this.normalized&&(n=hr(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Cc(n,this.array)),n}setZ(e,n){return this.normalized&&(n=hr(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Cc(n,this.array)),n}setW(e,n){return this.normalized&&(n=hr(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=hr(n,this.array),r=hr(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=hr(n,this.array),r=hr(r,this.array),i=hr(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=hr(n,this.array),r=hr(r,this.array),i=hr(i,this.array),s=hr(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==h1&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class v1e extends dr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class y1e extends dr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class x1e extends dr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class _1e extends dr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class aD extends dr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class w1e extends dr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class lD extends dr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class S1e extends dr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}}class Pt extends dr{constructor(e,n,r){super(new Float32Array(e),n,r)}}class b1e extends dr{constructor(e,n,r){super(new Float64Array(e),n,r)}}let M1e=0;const Fa=new vn,FA=new Hn,Jm=new X,sa=new qp,py=new qp,Qi=new X;class Mn extends zu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:M1e++}),this.uuid=pa(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(I9(e)?lD:aD)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new mo().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Fa.makeRotationFromQuaternion(e),this.applyMatrix4(Fa),this}rotateX(e){return Fa.makeRotationX(e),this.applyMatrix4(Fa),this}rotateY(e){return Fa.makeRotationY(e),this.applyMatrix4(Fa),this}rotateZ(e){return Fa.makeRotationZ(e),this.applyMatrix4(Fa),this}translate(e,n,r){return Fa.makeTranslation(e,n,r),this.applyMatrix4(Fa),this}scale(e,n,r){return Fa.makeScale(e,n,r),this.applyMatrix4(Fa),this}lookAt(e){return FA.lookAt(e),FA.updateMatrix(),this.applyMatrix4(FA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Jm).negate(),this.translate(Jm.x,Jm.y,Jm.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Pt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new qp);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new X(-1/0,-1/0,-1/0),new X(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];sa.setFromBufferAttribute(s),this.morphTargetsRelative?(Qi.addVectors(this.boundingBox.min,sa.min),this.boundingBox.expandByPoint(Qi),Qi.addVectors(this.boundingBox.max,sa.max),this.boundingBox.expandByPoint(Qi)):(this.boundingBox.expandByPoint(sa.min),this.boundingBox.expandByPoint(sa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Xp);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new X,1/0);return}if(e){const r=this.boundingSphere.center;if(sa.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];py.setFromBufferAttribute(a),this.morphTargetsRelative?(Qi.addVectors(sa.min,py.min),sa.expandByPoint(Qi),Qi.addVectors(sa.max,py.max),sa.expandByPoint(Qi)):(sa.expandByPoint(py.min),sa.expandByPoint(py.max))}sa.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Qi.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Qi));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Qi.fromBufferAttribute(a,u),l&&(Jm.fromBufferAttribute(e,u),Qi.add(Jm)),i=Math.max(i,r.distanceToSquared(Qi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new dr(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let N=0;N<a;N++)u[N]=new X,c[N]=new X;const p=new X,m=new X,v=new X,y=new Ne,x=new Ne,_=new Ne,b=new X,M=new X;function w(N,H,ie){p.fromArray(i,N*3),m.fromArray(i,H*3),v.fromArray(i,ie*3),y.fromArray(o,N*2),x.fromArray(o,H*2),_.fromArray(o,ie*2),m.sub(p),v.sub(p),x.sub(y),_.sub(y);const te=1/(x.x*_.y-_.x*x.y);!isFinite(te)||(b.copy(m).multiplyScalar(_.y).addScaledVector(v,-x.y).multiplyScalar(te),M.copy(v).multiplyScalar(x.x).addScaledVector(m,-_.x).multiplyScalar(te),u[N].add(b),u[H].add(b),u[ie].add(b),c[N].add(M),c[H].add(M),c[ie].add(M))}let T=this.groups;T.length===0&&(T=[{start:0,count:r.length}]);for(let N=0,H=T.length;N<H;++N){const ie=T[N],te=ie.start,ee=ie.count;for(let ue=te,ae=te+ee;ue<ae;ue+=3)w(r[ue+0],r[ue+1],r[ue+2])}const A=new X,k=new X,L=new X,P=new X;function O(N){L.fromArray(s,N*3),P.copy(L);const H=u[N];A.copy(H),A.sub(L.multiplyScalar(L.dot(H))).normalize(),k.crossVectors(P,H);const te=k.dot(c[N])<0?-1:1;l[N*4]=A.x,l[N*4+1]=A.y,l[N*4+2]=A.z,l[N*4+3]=te}for(let N=0,H=T.length;N<H;++N){const ie=T[N],te=ie.start,ee=ie.count;for(let ue=te,ae=te+ee;ue<ae;ue+=3)O(r[ue+0]),O(r[ue+1]),O(r[ue+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new dr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let m=0,v=r.count;m<v;m++)r.setXYZ(m,0,0,0);const i=new X,s=new X,o=new X,a=new X,l=new X,u=new X,c=new X,p=new X;if(e)for(let m=0,v=e.count;m<v;m+=3){const y=e.getX(m+0),x=e.getX(m+1),_=e.getX(m+2);i.fromBufferAttribute(n,y),s.fromBufferAttribute(n,x),o.fromBufferAttribute(n,_),c.subVectors(o,s),p.subVectors(i,s),c.cross(p),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,_),a.add(c),l.add(c),u.add(c),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(_,u.x,u.y,u.z)}else for(let m=0,v=n.count;m<v;m+=3)i.fromBufferAttribute(n,m+0),s.fromBufferAttribute(n,m+1),o.fromBufferAttribute(n,m+2),c.subVectors(o,s),p.subVectors(i,s),c.cross(p),r.setXYZ(m+0,c.x,c.y,c.z),r.setXYZ(m+1,c.x,c.y,c.z),r.setXYZ(m+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Qi.fromBufferAttribute(e,n),Qi.normalize(),e.setXYZ(n,Qi.x,Qi.y,Qi.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,p=a.normalized,m=new u.constructor(l.length*c);let v=0,y=0;for(let x=0,_=l.length;x<_;x++){a.isInterleavedBufferAttribute?v=l[x]*a.data.stride+a.offset:v=l[x]*c;for(let b=0;b<c;b++)m[y++]=u[v++]}return new dr(m,c,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Mn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,p=u.length;c<p;c++){const m=u[c],v=e(m,r);l.push(v)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let p=0,m=u.length;p<m;p++){const v=u[p];c.push(v.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],p=s[u];for(let m=0,v=p.length;m<v;m++)c.push(p[m].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const p=o[u];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Hz=new vn,eg=new g_,zA=new Xp,my=new X,gy=new X,vy=new X,BA=new X,WS=new X,$S=new Ne,GS=new Ne,jS=new Ne,UA=new X,qS=new X;class Li extends Hn{constructor(e=new Mn,n=new Dh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){WS.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],p=s[l];c!==0&&(BA.fromBufferAttribute(p,e),o?WS.addScaledVector(BA,c):WS.addScaledVector(BA.sub(n),c))}n.add(WS)}return this.isSkinnedMesh&&this.boneTransform(e,n),n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),zA.copy(r.boundingSphere),zA.applyMatrix4(s),e.ray.intersectsSphere(zA)===!1)||(Hz.copy(s).invert(),eg.copy(e.ray).applyMatrix4(Hz),r.boundingBox!==null&&eg.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.attributes.uv,c=r.attributes.uv2,p=r.groups,m=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const x=p[v],_=i[x.materialIndex],b=Math.max(x.start,m.start),M=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let w=b,T=M;w<T;w+=3){const A=a.getX(w),k=a.getX(w+1),L=a.getX(w+2);o=XS(this,_,e,eg,u,c,A,k,L),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=x.materialIndex,n.push(o))}}else{const v=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let x=v,_=y;x<_;x+=3){const b=a.getX(x),M=a.getX(x+1),w=a.getX(x+2);o=XS(this,i,e,eg,u,c,b,M,w),o&&(o.faceIndex=Math.floor(x/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const x=p[v],_=i[x.materialIndex],b=Math.max(x.start,m.start),M=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let w=b,T=M;w<T;w+=3){const A=w,k=w+1,L=w+2;o=XS(this,_,e,eg,u,c,A,k,L),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=x.materialIndex,n.push(o))}}else{const v=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let x=v,_=y;x<_;x+=3){const b=x,M=x+1,w=x+2;o=XS(this,i,e,eg,u,c,b,M,w),o&&(o.faceIndex=Math.floor(x/3),n.push(o))}}}}function E1e(t,e,n,r,i,s,o,a){let l;if(e.side===da?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===_h,a),l===null)return null;qS.copy(a),qS.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(qS);return u<n.near||u>n.far?null:{distance:u,point:qS.clone(),object:t}}function XS(t,e,n,r,i,s,o,a,l){t.getVertexPosition(o,my),t.getVertexPosition(a,gy),t.getVertexPosition(l,vy);const u=E1e(t,e,n,r,my,gy,vy,UA);if(u){i&&($S.fromBufferAttribute(i,o),GS.fromBufferAttribute(i,a),jS.fromBufferAttribute(i,l),u.uv=Wa.getUV(UA,my,gy,vy,$S,GS,jS,new Ne)),s&&($S.fromBufferAttribute(s,o),GS.fromBufferAttribute(s,a),jS.fromBufferAttribute(s,l),u.uv2=Wa.getUV(UA,my,gy,vy,$S,GS,jS,new Ne));const c={a:o,b:a,c:l,normal:new X,materialIndex:0};Wa.getNormal(my,gy,vy,c.normal),u.face=c}return u}class Oh extends Mn{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],p=[];let m=0,v=0;y("z","y","x",-1,-1,r,n,e,o,s,0),y("z","y","x",1,-1,r,n,-e,o,s,1),y("x","z","y",1,1,e,r,n,i,o,2),y("x","z","y",1,-1,e,r,-n,i,o,3),y("x","y","z",1,-1,e,n,r,i,s,4),y("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Pt(u,3)),this.setAttribute("normal",new Pt(c,3)),this.setAttribute("uv",new Pt(p,2));function y(x,_,b,M,w,T,A,k,L,P,O){const N=T/L,H=A/P,ie=T/2,te=A/2,ee=k/2,ue=L+1,ae=P+1;let fe=0,z=0;const Y=new X;for(let Z=0;Z<ae;Z++){const B=Z*H-te;for(let G=0;G<ue;G++){const le=G*N-ie;Y[x]=le*M,Y[_]=B*w,Y[b]=ee,u.push(Y.x,Y.y,Y.z),Y[x]=0,Y[_]=0,Y[b]=k>0?1:-1,c.push(Y.x,Y.y,Y.z),p.push(G/L),p.push(1-Z/P),fe+=1}}for(let Z=0;Z<P;Z++)for(let B=0;B<L;B++){const G=m+B+ue*Z,le=m+B+ue*(Z+1),we=m+(B+1)+ue*(Z+1),Me=m+(B+1)+ue*Z;l.push(G,le,Me),l.push(le,we,Me),z+=6}a.addGroup(v,z,O),v+=z,m+=fe}}static fromJSON(e){return new Oh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function _0(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function fo(t){const e={};for(let n=0;n<t.length;n++){const r=_0(t[n]);for(const i in r)e[i]=r[i]}return e}function T1e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function L9(t){return t.getRenderTarget()===null&&t.outputEncoding===ir?El:x0}const D9={clone:_0,merge:fo};var C1e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,A1e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class xa extends Ss{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=C1e,this.fragmentShader=A1e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_0(e.uniforms),this.uniformsGroups=T1e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class v_ extends Hn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new vn,this.projectionMatrix=new vn,this.projectionMatrixInverse=new vn}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Pr extends v_{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=d1*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(mp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return d1*2*Math.atan(Math.tan(mp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(mp*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const tg=-90,ng=1;class O9 extends Hn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new Pr(tg,ng,e,n);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new Pr(tg,ng,e,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Pr(tg,ng,e,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Pr(tg,ng,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Pr(tg,ng,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new Pr(tg,ng,e,n);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),p=e.toneMapping,m=e.xr.enabled;e.toneMapping=Ol,e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=v,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=p,e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class y_ extends ti{constructor(e,n,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:Uc,super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class uD extends yo{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new y_(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Er}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Oh(5,5,5),s=new xa({name:"CubemapFromEquirect",uniforms:_0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:da,blending:Rc});s.uniforms.tEquirect.value=n;const o=new Li(i,s),a=n.minFilter;return n.minFilter===Sh&&(n.minFilter=Er),new O9(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const VA=new X,P1e=new X,R1e=new mo;class Vf{constructor(e=new X(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=VA.subVectors(r,n).cross(P1e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const r=e.delta(VA),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||R1e.getNormalMatrix(e),i=this.coplanarPoint(VA).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const rg=new Xp,YS=new X;class ZT{constructor(e=new Vf,n=new Vf,r=new Vf,i=new Vf,s=new Vf,o=new Vf){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],p=r[7],m=r[8],v=r[9],y=r[10],x=r[11],_=r[12],b=r[13],M=r[14],w=r[15];return n[0].setComponents(a-i,p-l,x-m,w-_).normalize(),n[1].setComponents(a+i,p+l,x+m,w+_).normalize(),n[2].setComponents(a+s,p+u,x+v,w+b).normalize(),n[3].setComponents(a-s,p-u,x-v,w-b).normalize(),n[4].setComponents(a-o,p-c,x-y,w-M).normalize(),n[5].setComponents(a+o,p+c,x+y,w+M).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),rg.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(rg)}intersectsSprite(e){return rg.center.set(0,0,0),rg.radius=.7071067811865476,rg.applyMatrix4(e.matrixWorld),this.intersectsSphere(rg)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(YS.x=i.normal.x>0?e.max.x:e.min.x,YS.y=i.normal.y>0?e.max.y:e.min.y,YS.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(YS)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function N9(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function I1e(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const p=u.array,m=u.usage,v=t.createBuffer();t.bindBuffer(c,v),t.bufferData(c,p,m),u.onUploadCallback();let y;if(p instanceof Float32Array)y=5126;else if(p instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(p instanceof Int16Array)y=5122;else if(p instanceof Uint32Array)y=5125;else if(p instanceof Int32Array)y=5124;else if(p instanceof Int8Array)y=5120;else if(p instanceof Uint8Array)y=5121;else if(p instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:v,type:y,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,p){const m=c.array,v=c.updateRange;t.bindBuffer(p,u),v.count===-1?t.bufferSubData(p,0,m):(n?t.bufferSubData(p,v.offset*m.BYTES_PER_ELEMENT,m,v.offset,v.count):t.bufferSubData(p,v.offset*m.BYTES_PER_ELEMENT,m.subarray(v.offset,v.offset+v.count)),v.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const m=r.get(u);(!m||m.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const p=r.get(u);p===void 0?r.set(u,i(u,c)):p.version<u.version&&(s(p.buffer,u,c),p.version=u.version)}return{get:o,remove:a,update:l}}class Yp extends Mn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,p=e/a,m=n/l,v=[],y=[],x=[],_=[];for(let b=0;b<c;b++){const M=b*m-o;for(let w=0;w<u;w++){const T=w*p-s;y.push(T,-M,0),x.push(0,0,1),_.push(w/a),_.push(1-b/l)}}for(let b=0;b<l;b++)for(let M=0;M<a;M++){const w=M+u*b,T=M+u*(b+1),A=M+1+u*(b+1),k=M+1+u*b;v.push(w,T,k),v.push(T,A,k)}this.setIndex(v),this.setAttribute("position",new Pt(y,3)),this.setAttribute("normal",new Pt(x,3)),this.setAttribute("uv",new Pt(_,2))}static fromJSON(e){return new Yp(e.width,e.height,e.widthSegments,e.heightSegments)}}var k1e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,L1e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,D1e=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,O1e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,N1e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,F1e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,z1e="vec3 transformed = vec3( position );",B1e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,U1e=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,V1e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,H1e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,W1e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,$1e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,G1e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,j1e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,q1e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,X1e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Y1e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Q1e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,K1e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Z1e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,J1e=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,e_e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,t_e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,n_e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,r_e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,i_e="gl_FragColor = linearToOutputTexel( gl_FragColor );",s_e=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,o_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,a_e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,l_e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,u_e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,c_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,f_e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,h_e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,d_e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,p_e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,m_e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,g_e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,v_e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,y_e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,x_e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,__e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,w_e=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,S_e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,b_e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,M_e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,E_e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,T_e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,C_e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,A_e=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,P_e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,R_e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,I_e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,k_e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,L_e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,D_e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,O_e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,N_e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,F_e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,z_e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,B_e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,U_e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,V_e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,H_e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,W_e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,$_e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,G_e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,j_e=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,q_e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,X_e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Y_e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Q_e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,K_e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Z_e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,J_e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,ewe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,twe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,nwe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,rwe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,iwe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,swe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,owe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,awe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,lwe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,uwe=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,cwe=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,fwe=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,hwe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,dwe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,pwe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,mwe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,gwe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,vwe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ywe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,xwe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,_we=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,wwe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Swe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,bwe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Mwe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Ewe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Twe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Cwe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Awe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Pwe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Rwe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Iwe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,kwe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Lwe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Dwe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Owe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Nwe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Fwe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,zwe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Bwe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Uwe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Vwe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Hwe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Wwe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$we=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Gwe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jwe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qwe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xwe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Ywe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qwe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Kwe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Zwe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jwe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eSe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,tSe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nSe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rSe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iSe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,sSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,oSe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aSe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,lSe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,bn={alphamap_fragment:k1e,alphamap_pars_fragment:L1e,alphatest_fragment:D1e,alphatest_pars_fragment:O1e,aomap_fragment:N1e,aomap_pars_fragment:F1e,begin_vertex:z1e,beginnormal_vertex:B1e,bsdfs:U1e,iridescence_fragment:V1e,bumpmap_pars_fragment:H1e,clipping_planes_fragment:W1e,clipping_planes_pars_fragment:$1e,clipping_planes_pars_vertex:G1e,clipping_planes_vertex:j1e,color_fragment:q1e,color_pars_fragment:X1e,color_pars_vertex:Y1e,color_vertex:Q1e,common:K1e,cube_uv_reflection_fragment:Z1e,defaultnormal_vertex:J1e,displacementmap_pars_vertex:e_e,displacementmap_vertex:t_e,emissivemap_fragment:n_e,emissivemap_pars_fragment:r_e,encodings_fragment:i_e,encodings_pars_fragment:s_e,envmap_fragment:o_e,envmap_common_pars_fragment:a_e,envmap_pars_fragment:l_e,envmap_pars_vertex:u_e,envmap_physical_pars_fragment:w_e,envmap_vertex:c_e,fog_vertex:f_e,fog_pars_vertex:h_e,fog_fragment:d_e,fog_pars_fragment:p_e,gradientmap_pars_fragment:m_e,lightmap_fragment:g_e,lightmap_pars_fragment:v_e,lights_lambert_fragment:y_e,lights_lambert_pars_fragment:x_e,lights_pars_begin:__e,lights_toon_fragment:S_e,lights_toon_pars_fragment:b_e,lights_phong_fragment:M_e,lights_phong_pars_fragment:E_e,lights_physical_fragment:T_e,lights_physical_pars_fragment:C_e,lights_fragment_begin:A_e,lights_fragment_maps:P_e,lights_fragment_end:R_e,logdepthbuf_fragment:I_e,logdepthbuf_pars_fragment:k_e,logdepthbuf_pars_vertex:L_e,logdepthbuf_vertex:D_e,map_fragment:O_e,map_pars_fragment:N_e,map_particle_fragment:F_e,map_particle_pars_fragment:z_e,metalnessmap_fragment:B_e,metalnessmap_pars_fragment:U_e,morphcolor_vertex:V_e,morphnormal_vertex:H_e,morphtarget_pars_vertex:W_e,morphtarget_vertex:$_e,normal_fragment_begin:G_e,normal_fragment_maps:j_e,normal_pars_fragment:q_e,normal_pars_vertex:X_e,normal_vertex:Y_e,normalmap_pars_fragment:Q_e,clearcoat_normal_fragment_begin:K_e,clearcoat_normal_fragment_maps:Z_e,clearcoat_pars_fragment:J_e,iridescence_pars_fragment:ewe,output_fragment:twe,packing:nwe,premultiplied_alpha_fragment:rwe,project_vertex:iwe,dithering_fragment:swe,dithering_pars_fragment:owe,roughnessmap_fragment:awe,roughnessmap_pars_fragment:lwe,shadowmap_pars_fragment:uwe,shadowmap_pars_vertex:cwe,shadowmap_vertex:fwe,shadowmask_pars_fragment:hwe,skinbase_vertex:dwe,skinning_pars_vertex:pwe,skinning_vertex:mwe,skinnormal_vertex:gwe,specularmap_fragment:vwe,specularmap_pars_fragment:ywe,tonemapping_fragment:xwe,tonemapping_pars_fragment:_we,transmission_fragment:wwe,transmission_pars_fragment:Swe,uv_pars_fragment:bwe,uv_pars_vertex:Mwe,uv_vertex:Ewe,uv2_pars_fragment:Twe,uv2_pars_vertex:Cwe,uv2_vertex:Awe,worldpos_vertex:Pwe,background_vert:Rwe,background_frag:Iwe,backgroundCube_vert:kwe,backgroundCube_frag:Lwe,cube_vert:Dwe,cube_frag:Owe,depth_vert:Nwe,depth_frag:Fwe,distanceRGBA_vert:zwe,distanceRGBA_frag:Bwe,equirect_vert:Uwe,equirect_frag:Vwe,linedashed_vert:Hwe,linedashed_frag:Wwe,meshbasic_vert:$we,meshbasic_frag:Gwe,meshlambert_vert:jwe,meshlambert_frag:qwe,meshmatcap_vert:Xwe,meshmatcap_frag:Ywe,meshnormal_vert:Qwe,meshnormal_frag:Kwe,meshphong_vert:Zwe,meshphong_frag:Jwe,meshphysical_vert:eSe,meshphysical_frag:tSe,meshtoon_vert:nSe,meshtoon_frag:rSe,points_vert:iSe,points_frag:sSe,shadow_vert:oSe,shadow_frag:aSe,sprite_vert:lSe,sprite_frag:uSe},ot={common:{diffuse:{value:new mt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new mo},uv2Transform:{value:new mo},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ne(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new mt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new mt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new mo}},sprite:{diffuse:{value:new mt(16777215)},opacity:{value:1},center:{value:new Ne(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new mo}}},Cl={basic:{uniforms:fo([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.fog]),vertexShader:bn.meshbasic_vert,fragmentShader:bn.meshbasic_frag},lambert:{uniforms:fo([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,ot.lights,{emissive:{value:new mt(0)}}]),vertexShader:bn.meshlambert_vert,fragmentShader:bn.meshlambert_frag},phong:{uniforms:fo([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,ot.lights,{emissive:{value:new mt(0)},specular:{value:new mt(1118481)},shininess:{value:30}}]),vertexShader:bn.meshphong_vert,fragmentShader:bn.meshphong_frag},standard:{uniforms:fo([ot.common,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.roughnessmap,ot.metalnessmap,ot.fog,ot.lights,{emissive:{value:new mt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:bn.meshphysical_vert,fragmentShader:bn.meshphysical_frag},toon:{uniforms:fo([ot.common,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.gradientmap,ot.fog,ot.lights,{emissive:{value:new mt(0)}}]),vertexShader:bn.meshtoon_vert,fragmentShader:bn.meshtoon_frag},matcap:{uniforms:fo([ot.common,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,{matcap:{value:null}}]),vertexShader:bn.meshmatcap_vert,fragmentShader:bn.meshmatcap_frag},points:{uniforms:fo([ot.points,ot.fog]),vertexShader:bn.points_vert,fragmentShader:bn.points_frag},dashed:{uniforms:fo([ot.common,ot.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:bn.linedashed_vert,fragmentShader:bn.linedashed_frag},depth:{uniforms:fo([ot.common,ot.displacementmap]),vertexShader:bn.depth_vert,fragmentShader:bn.depth_frag},normal:{uniforms:fo([ot.common,ot.bumpmap,ot.normalmap,ot.displacementmap,{opacity:{value:1}}]),vertexShader:bn.meshnormal_vert,fragmentShader:bn.meshnormal_frag},sprite:{uniforms:fo([ot.sprite,ot.fog]),vertexShader:bn.sprite_vert,fragmentShader:bn.sprite_frag},background:{uniforms:{uvTransform:{value:new mo},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:bn.background_vert,fragmentShader:bn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:bn.backgroundCube_vert,fragmentShader:bn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:bn.cube_vert,fragmentShader:bn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:bn.equirect_vert,fragmentShader:bn.equirect_frag},distanceRGBA:{uniforms:fo([ot.common,ot.displacementmap,{referencePosition:{value:new X},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:bn.distanceRGBA_vert,fragmentShader:bn.distanceRGBA_frag},shadow:{uniforms:fo([ot.lights,ot.fog,{color:{value:new mt(0)},opacity:{value:1}}]),vertexShader:bn.shadow_vert,fragmentShader:bn.shadow_frag}};Cl.physical={uniforms:fo([Cl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ne(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new mt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ne},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new mt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new mt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:bn.meshphysical_vert,fragmentShader:bn.meshphysical_frag};const QS={r:0,b:0,g:0};function cSe(t,e,n,r,i,s,o){const a=new mt(0);let l=s===!0?0:1,u,c,p=null,m=0,v=null;function y(_,b){let M=!1,w=b.isScene===!0?b.background:null;w&&w.isTexture&&(w=(b.backgroundBlurriness>0?n:e).get(w));const T=t.xr,A=T.getSession&&T.getSession();A&&A.environmentBlendMode==="additive"&&(w=null),w===null?x(a,l):w&&w.isColor&&(x(w,1),M=!0),(t.autoClear||M)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.mapping===H0)?(c===void 0&&(c=new Li(new Oh(1,1,1),new xa({name:"BackgroundCubeMaterial",uniforms:_0(Cl.backgroundCube.uniforms),vertexShader:Cl.backgroundCube.vertexShader,fragmentShader:Cl.backgroundCube.fragmentShader,side:da,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(k,L,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=w.encoding!==ir,(p!==w||m!==w.version||v!==t.toneMapping)&&(c.material.needsUpdate=!0,p=w,m=w.version,v=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new Li(new Yp(2,2),new xa({name:"BackgroundMaterial",uniforms:_0(Cl.background.uniforms),vertexShader:Cl.background.vertexShader,fragmentShader:Cl.background.fragmentShader,side:_h,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.toneMapped=w.encoding!==ir,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(p!==w||m!==w.version||v!==t.toneMapping)&&(u.material.needsUpdate=!0,p=w,m=w.version,v=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null))}function x(_,b){_.getRGB(QS,L9(t)),r.buffers.color.setClear(QS.r,QS.g,QS.b,b,o)}return{getClearColor:function(){return a},setClearColor:function(_,b=1){a.set(_),l=b,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,x(a,l)},render:y}}function fSe(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let u=l,c=!1;function p(ee,ue,ae,fe,z){let Y=!1;if(o){const Z=x(fe,ae,ue);u!==Z&&(u=Z,v(u.object)),Y=b(ee,fe,ae,z),Y&&M(ee,fe,ae,z)}else{const Z=ue.wireframe===!0;(u.geometry!==fe.id||u.program!==ae.id||u.wireframe!==Z)&&(u.geometry=fe.id,u.program=ae.id,u.wireframe=Z,Y=!0)}z!==null&&n.update(z,34963),(Y||c)&&(c=!1,P(ee,ue,ae,fe),z!==null&&t.bindBuffer(34963,n.get(z).buffer))}function m(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function v(ee){return r.isWebGL2?t.bindVertexArray(ee):s.bindVertexArrayOES(ee)}function y(ee){return r.isWebGL2?t.deleteVertexArray(ee):s.deleteVertexArrayOES(ee)}function x(ee,ue,ae){const fe=ae.wireframe===!0;let z=a[ee.id];z===void 0&&(z={},a[ee.id]=z);let Y=z[ue.id];Y===void 0&&(Y={},z[ue.id]=Y);let Z=Y[fe];return Z===void 0&&(Z=_(m()),Y[fe]=Z),Z}function _(ee){const ue=[],ae=[],fe=[];for(let z=0;z<i;z++)ue[z]=0,ae[z]=0,fe[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ue,enabledAttributes:ae,attributeDivisors:fe,object:ee,attributes:{},index:null}}function b(ee,ue,ae,fe){const z=u.attributes,Y=ue.attributes;let Z=0;const B=ae.getAttributes();for(const G in B)if(B[G].location>=0){const we=z[G];let Me=Y[G];if(Me===void 0&&(G==="instanceMatrix"&&ee.instanceMatrix&&(Me=ee.instanceMatrix),G==="instanceColor"&&ee.instanceColor&&(Me=ee.instanceColor)),we===void 0||we.attribute!==Me||Me&&we.data!==Me.data)return!0;Z++}return u.attributesNum!==Z||u.index!==fe}function M(ee,ue,ae,fe){const z={},Y=ue.attributes;let Z=0;const B=ae.getAttributes();for(const G in B)if(B[G].location>=0){let we=Y[G];we===void 0&&(G==="instanceMatrix"&&ee.instanceMatrix&&(we=ee.instanceMatrix),G==="instanceColor"&&ee.instanceColor&&(we=ee.instanceColor));const Me={};Me.attribute=we,we&&we.data&&(Me.data=we.data),z[G]=Me,Z++}u.attributes=z,u.attributesNum=Z,u.index=fe}function w(){const ee=u.newAttributes;for(let ue=0,ae=ee.length;ue<ae;ue++)ee[ue]=0}function T(ee){A(ee,0)}function A(ee,ue){const ae=u.newAttributes,fe=u.enabledAttributes,z=u.attributeDivisors;ae[ee]=1,fe[ee]===0&&(t.enableVertexAttribArray(ee),fe[ee]=1),z[ee]!==ue&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ee,ue),z[ee]=ue)}function k(){const ee=u.newAttributes,ue=u.enabledAttributes;for(let ae=0,fe=ue.length;ae<fe;ae++)ue[ae]!==ee[ae]&&(t.disableVertexAttribArray(ae),ue[ae]=0)}function L(ee,ue,ae,fe,z,Y){r.isWebGL2===!0&&(ae===5124||ae===5125)?t.vertexAttribIPointer(ee,ue,ae,z,Y):t.vertexAttribPointer(ee,ue,ae,fe,z,Y)}function P(ee,ue,ae,fe){if(r.isWebGL2===!1&&(ee.isInstancedMesh||fe.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const z=fe.attributes,Y=ae.getAttributes(),Z=ue.defaultAttributeValues;for(const B in Y){const G=Y[B];if(G.location>=0){let le=z[B];if(le===void 0&&(B==="instanceMatrix"&&ee.instanceMatrix&&(le=ee.instanceMatrix),B==="instanceColor"&&ee.instanceColor&&(le=ee.instanceColor)),le!==void 0){const we=le.normalized,Me=le.itemSize,pe=n.get(le);if(pe===void 0)continue;const We=pe.buffer,Be=pe.type,Qe=pe.bytesPerElement;if(le.isInterleavedBufferAttribute){const Fe=le.data,pt=Fe.stride,Ie=le.offset;if(Fe.isInstancedInterleavedBuffer){for(let Ae=0;Ae<G.locationSize;Ae++)A(G.location+Ae,Fe.meshPerAttribute);ee.isInstancedMesh!==!0&&fe._maxInstanceCount===void 0&&(fe._maxInstanceCount=Fe.meshPerAttribute*Fe.count)}else for(let Ae=0;Ae<G.locationSize;Ae++)T(G.location+Ae);t.bindBuffer(34962,We);for(let Ae=0;Ae<G.locationSize;Ae++)L(G.location+Ae,Me/G.locationSize,Be,we,pt*Qe,(Ie+Me/G.locationSize*Ae)*Qe)}else{if(le.isInstancedBufferAttribute){for(let Fe=0;Fe<G.locationSize;Fe++)A(G.location+Fe,le.meshPerAttribute);ee.isInstancedMesh!==!0&&fe._maxInstanceCount===void 0&&(fe._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let Fe=0;Fe<G.locationSize;Fe++)T(G.location+Fe);t.bindBuffer(34962,We);for(let Fe=0;Fe<G.locationSize;Fe++)L(G.location+Fe,Me/G.locationSize,Be,we,Me*Qe,Me/G.locationSize*Fe*Qe)}}else if(Z!==void 0){const we=Z[B];if(we!==void 0)switch(we.length){case 2:t.vertexAttrib2fv(G.location,we);break;case 3:t.vertexAttrib3fv(G.location,we);break;case 4:t.vertexAttrib4fv(G.location,we);break;default:t.vertexAttrib1fv(G.location,we)}}}}k()}function O(){ie();for(const ee in a){const ue=a[ee];for(const ae in ue){const fe=ue[ae];for(const z in fe)y(fe[z].object),delete fe[z];delete ue[ae]}delete a[ee]}}function N(ee){if(a[ee.id]===void 0)return;const ue=a[ee.id];for(const ae in ue){const fe=ue[ae];for(const z in fe)y(fe[z].object),delete fe[z];delete ue[ae]}delete a[ee.id]}function H(ee){for(const ue in a){const ae=a[ue];if(ae[ee.id]===void 0)continue;const fe=ae[ee.id];for(const z in fe)y(fe[z].object),delete fe[z];delete ae[ee.id]}}function ie(){te(),c=!0,u!==l&&(u=l,v(u.object))}function te(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:p,reset:ie,resetDefaultState:te,dispose:O,releaseStatesOfGeometry:N,releaseStatesOfProgram:H,initAttributes:w,enableAttribute:T,disableUnusedAttributes:k}}function hSe(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){t.drawArrays(s,u,c),n.update(c,s,1)}function l(u,c,p){if(p===0)return;let m,v;if(i)m=t,v="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](s,u,c,p),n.update(c,s,p)}this.setMode=o,this.render=a,this.renderInstances=l}function dSe(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(L){if(L==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";L="mediump"}return L==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,p=t.getParameter(34930),m=t.getParameter(35660),v=t.getParameter(3379),y=t.getParameter(34076),x=t.getParameter(34921),_=t.getParameter(36347),b=t.getParameter(36348),M=t.getParameter(36349),w=m>0,T=o||e.has("OES_texture_float"),A=w&&T,k=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:p,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:y,maxAttributes:x,maxVertexUniforms:_,maxVaryings:b,maxFragmentUniforms:M,vertexTextures:w,floatFragmentTextures:T,floatVertexTextures:A,maxSamples:k}}function pSe(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Vf,a=new mo,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,m,v){const y=p.length!==0||m||r!==0||i;return i=m,n=c(p,v,0),r=p.length,y},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1,u()},this.setState=function(p,m,v){const y=p.clippingPlanes,x=p.clipIntersection,_=p.clipShadows,b=t.get(p);if(!i||y===null||y.length===0||s&&!_)s?c(null):u();else{const M=s?0:r,w=M*4;let T=b.clippingState||null;l.value=T,T=c(y,m,w,v);for(let A=0;A!==w;++A)T[A]=n[A];b.clippingState=T,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=M}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(p,m,v,y){const x=p!==null?p.length:0;let _=null;if(x!==0){if(_=l.value,y!==!0||_===null){const b=v+x*4,M=m.matrixWorldInverse;a.getNormalMatrix(M),(_===null||_.length<b)&&(_=new Float32Array(b));for(let w=0,T=v;w!==x;++w,T+=4)o.copy(p[w]).applyMatrix4(M,a),o.normal.toArray(_,T),_[T+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,_}}function mSe(t){let e=new WeakMap;function n(o,a){return a===y0?o.mapping=Uc:a===o1&&(o.mapping=wh),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===y0||a===o1)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new uD(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class ch extends v_{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const kg=4,Wz=[.125,.215,.35,.446,.526,.582],$d=20,HA=new ch,$z=new mt;let WA=null;const zd=(1+Math.sqrt(5))/2,ig=1/zd,Gz=[new X(1,1,1),new X(-1,1,1),new X(1,1,-1),new X(-1,1,-1),new X(0,zd,ig),new X(0,zd,-ig),new X(ig,0,zd),new X(-ig,0,zd),new X(zd,ig,0),new X(-zd,ig,0)];class j3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){WA=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Xz(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=qz(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(WA),e.scissorTest=!1,KS(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Uc||e.mapping===wh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),WA=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Er,minFilter:Er,generateMipmaps:!1,type:Xa,format:la,encoding:zl,depthBuffer:!1},i=jz(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=jz(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=gSe(s)),this._blurMaterial=vSe(s,e,n)}return i}_compileMaterial(e){const n=new Li(this._lodPlanes[0],e);this._renderer.compile(n,HA)}_sceneToCubeUV(e,n,r,i){const a=new Pr(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,p=c.autoClear,m=c.toneMapping;c.getClearColor($z),c.toneMapping=Ol,c.autoClear=!1;const v=new Dh({name:"PMREM.Background",side:da,depthWrite:!1,depthTest:!1}),y=new Li(new Oh,v);let x=!1;const _=e.background;_?_.isColor&&(v.color.copy(_),e.background=null,x=!0):(v.color.copy($z),x=!0);for(let b=0;b<6;b++){const M=b%3;M===0?(a.up.set(0,l[b],0),a.lookAt(u[b],0,0)):M===1?(a.up.set(0,0,l[b]),a.lookAt(0,u[b],0)):(a.up.set(0,l[b],0),a.lookAt(0,0,u[b]));const w=this._cubeSize;KS(i,M*w,b>2?w:0,w,w),c.setRenderTarget(i),x&&c.render(y,a),c.render(e,a)}y.geometry.dispose(),y.material.dispose(),c.toneMapping=m,c.autoClear=p,e.background=_}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Uc||e.mapping===wh;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Xz()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=qz());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Li(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;KS(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,HA)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=Gz[(i-1)%Gz.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,p=new Li(this._lodPlanes[i],u),m=u.uniforms,v=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*$d-1),x=s/y,_=isFinite(s)?1+Math.floor(c*x):$d;_>$d&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${$d}`);const b=[];let M=0;for(let L=0;L<$d;++L){const P=L/x,O=Math.exp(-P*P/2);b.push(O),L===0?M+=O:L<_&&(M+=2*O)}for(let L=0;L<b.length;L++)b[L]=b[L]/M;m.envMap.value=e.texture,m.samples.value=_,m.weights.value=b,m.latitudinal.value=o==="latitudinal",a&&(m.poleAxis.value=a);const{_lodMax:w}=this;m.dTheta.value=y,m.mipInt.value=w-r;const T=this._sizeLods[i],A=3*T*(i>w-kg?i-w+kg:0),k=4*(this._cubeSize-T);KS(n,A,k,3*T,2*T),l.setRenderTarget(n),l.render(p,HA)}}function gSe(t){const e=[],n=[],r=[];let i=t;const s=t-kg+1+Wz.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-kg?l=Wz[o-t+kg-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,p=1+u,m=[c,c,p,c,p,p,c,c,p,p,c,p],v=6,y=6,x=3,_=2,b=1,M=new Float32Array(x*y*v),w=new Float32Array(_*y*v),T=new Float32Array(b*y*v);for(let k=0;k<v;k++){const L=k%3*2/3-1,P=k>2?0:-1,O=[L,P,0,L+2/3,P,0,L+2/3,P+1,0,L,P,0,L+2/3,P+1,0,L,P+1,0];M.set(O,x*y*k),w.set(m,_*y*k);const N=[k,k,k,k,k,k];T.set(N,b*y*k)}const A=new Mn;A.setAttribute("position",new dr(M,x)),A.setAttribute("uv",new dr(w,_)),A.setAttribute("faceIndex",new dr(T,b)),e.push(A),i>kg&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function jz(t,e,n){const r=new yo(t,e,n);return r.texture.mapping=H0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function KS(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function vSe(t,e,n){const r=new Float32Array($d),i=new X(0,1,0);return new xa({name:"SphericalGaussianBlur",defines:{n:$d,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:cD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Rc,depthTest:!1,depthWrite:!1})}function qz(){return new xa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:cD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Rc,depthTest:!1,depthWrite:!1})}function Xz(){return new xa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:cD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Rc,depthTest:!1,depthWrite:!1})}function cD(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ySe(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===y0||l===o1,c=l===Uc||l===wh;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let p=e.get(a);return n===null&&(n=new j3(t)),p=u?n.fromEquirectangular(a,p):n.fromCubemap(a,p),e.set(a,p),p.texture}else{if(e.has(a))return e.get(a).texture;{const p=a.image;if(u&&p&&p.height>0||c&&p&&i(p)){n===null&&(n=new j3(t));const m=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,m),a.addEventListener("dispose",s),m.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function xSe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function _Se(t,e,n,r){const i={},s=new WeakMap;function o(p){const m=p.target;m.index!==null&&e.remove(m.index);for(const y in m.attributes)e.remove(m.attributes[y]);m.removeEventListener("dispose",o),delete i[m.id];const v=s.get(m);v&&(e.remove(v),s.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,n.memory.geometries--}function a(p,m){return i[m.id]===!0||(m.addEventListener("dispose",o),i[m.id]=!0,n.memory.geometries++),m}function l(p){const m=p.attributes;for(const y in m)e.update(m[y],34962);const v=p.morphAttributes;for(const y in v){const x=v[y];for(let _=0,b=x.length;_<b;_++)e.update(x[_],34962)}}function u(p){const m=[],v=p.index,y=p.attributes.position;let x=0;if(v!==null){const M=v.array;x=v.version;for(let w=0,T=M.length;w<T;w+=3){const A=M[w+0],k=M[w+1],L=M[w+2];m.push(A,k,k,L,L,A)}}else{const M=y.array;x=y.version;for(let w=0,T=M.length/3-1;w<T;w+=3){const A=w+0,k=w+1,L=w+2;m.push(A,k,k,L,L,A)}}const _=new(I9(m)?lD:aD)(m,1);_.version=x;const b=s.get(p);b&&e.remove(b),s.set(p,_)}function c(p){const m=s.get(p);if(m){const v=p.index;v!==null&&m.version<v.version&&u(p)}else u(p);return s.get(p)}return{get:a,update:l,getWireframeAttribute:c}}function wSe(t,e,n,r){const i=r.isWebGL2;let s;function o(m){s=m}let a,l;function u(m){a=m.type,l=m.bytesPerElement}function c(m,v){t.drawElements(s,v,a,m*l),n.update(v,s,1)}function p(m,v,y){if(y===0)return;let x,_;if(i)x=t,_="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[_](s,v,a,m*l,y),n.update(v,s,y)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=p}function SSe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function bSe(t,e){return t[0]-e[0]}function MSe(t,e){return Math.abs(e[1])-Math.abs(t[1])}function ESe(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new sr,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,p,m){const v=u.morphTargetInfluences;if(e.isWebGL2===!0){const x=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,_=x!==void 0?x.length:0;let b=s.get(c);if(b===void 0||b.count!==_){let ae=function(){ee.dispose(),s.delete(c),c.removeEventListener("dispose",ae)};var y=ae;b!==void 0&&b.texture.dispose();const T=c.morphAttributes.position!==void 0,A=c.morphAttributes.normal!==void 0,k=c.morphAttributes.color!==void 0,L=c.morphAttributes.position||[],P=c.morphAttributes.normal||[],O=c.morphAttributes.color||[];let N=0;T===!0&&(N=1),A===!0&&(N=2),k===!0&&(N=3);let H=c.attributes.position.count*N,ie=1;H>e.maxTextureSize&&(ie=Math.ceil(H/e.maxTextureSize),H=e.maxTextureSize);const te=new Float32Array(H*ie*4*_),ee=new m_(te,H,ie,_);ee.type=ca,ee.needsUpdate=!0;const ue=N*4;for(let fe=0;fe<_;fe++){const z=L[fe],Y=P[fe],Z=O[fe],B=H*ie*4*fe;for(let G=0;G<z.count;G++){const le=G*ue;T===!0&&(o.fromBufferAttribute(z,G),te[B+le+0]=o.x,te[B+le+1]=o.y,te[B+le+2]=o.z,te[B+le+3]=0),A===!0&&(o.fromBufferAttribute(Y,G),te[B+le+4]=o.x,te[B+le+5]=o.y,te[B+le+6]=o.z,te[B+le+7]=0),k===!0&&(o.fromBufferAttribute(Z,G),te[B+le+8]=o.x,te[B+le+9]=o.y,te[B+le+10]=o.z,te[B+le+11]=Z.itemSize===4?o.w:1)}}b={count:_,texture:ee,size:new Ne(H,ie)},s.set(c,b),c.addEventListener("dispose",ae)}let M=0;for(let T=0;T<v.length;T++)M+=v[T];const w=c.morphTargetsRelative?1:1-M;m.getUniforms().setValue(t,"morphTargetBaseInfluence",w),m.getUniforms().setValue(t,"morphTargetInfluences",v),m.getUniforms().setValue(t,"morphTargetsTexture",b.texture,n),m.getUniforms().setValue(t,"morphTargetsTextureSize",b.size)}else{const x=v===void 0?0:v.length;let _=r[c.id];if(_===void 0||_.length!==x){_=[];for(let A=0;A<x;A++)_[A]=[A,0];r[c.id]=_}for(let A=0;A<x;A++){const k=_[A];k[0]=A,k[1]=v[A]}_.sort(MSe);for(let A=0;A<8;A++)A<x&&_[A][1]?(a[A][0]=_[A][0],a[A][1]=_[A][1]):(a[A][0]=Number.MAX_SAFE_INTEGER,a[A][1]=0);a.sort(bSe);const b=c.morphAttributes.position,M=c.morphAttributes.normal;let w=0;for(let A=0;A<8;A++){const k=a[A],L=k[0],P=k[1];L!==Number.MAX_SAFE_INTEGER&&P?(b&&c.getAttribute("morphTarget"+A)!==b[L]&&c.setAttribute("morphTarget"+A,b[L]),M&&c.getAttribute("morphNormal"+A)!==M[L]&&c.setAttribute("morphNormal"+A,M[L]),i[A]=P,w+=P):(b&&c.hasAttribute("morphTarget"+A)===!0&&c.deleteAttribute("morphTarget"+A),M&&c.hasAttribute("morphNormal"+A)===!0&&c.deleteAttribute("morphNormal"+A),i[A]=0)}const T=c.morphTargetsRelative?1:1-w;m.getUniforms().setValue(t,"morphTargetBaseInfluence",T),m.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function TSe(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,p=e.get(l,c);return i.get(p)!==u&&(e.update(p),i.set(p,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),p}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const F9=new ti,z9=new m_,B9=new KT,U9=new y_,Yz=[],Qz=[],Kz=new Float32Array(16),Zz=new Float32Array(9),Jz=new Float32Array(4);function $0(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=Yz[i];if(s===void 0&&(s=new Float32Array(i),Yz[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Ni(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Fi(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function JT(t,e){let n=Qz[e];n===void 0&&(n=new Int32Array(e),Qz[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function CSe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function ASe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ni(n,e))return;t.uniform2fv(this.addr,e),Fi(n,e)}}function PSe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ni(n,e))return;t.uniform3fv(this.addr,e),Fi(n,e)}}function RSe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ni(n,e))return;t.uniform4fv(this.addr,e),Fi(n,e)}}function ISe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ni(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Fi(n,e)}else{if(Ni(n,r))return;Jz.set(r),t.uniformMatrix2fv(this.addr,!1,Jz),Fi(n,r)}}function kSe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ni(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Fi(n,e)}else{if(Ni(n,r))return;Zz.set(r),t.uniformMatrix3fv(this.addr,!1,Zz),Fi(n,r)}}function LSe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ni(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Fi(n,e)}else{if(Ni(n,r))return;Kz.set(r),t.uniformMatrix4fv(this.addr,!1,Kz),Fi(n,r)}}function DSe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function OSe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ni(n,e))return;t.uniform2iv(this.addr,e),Fi(n,e)}}function NSe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ni(n,e))return;t.uniform3iv(this.addr,e),Fi(n,e)}}function FSe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ni(n,e))return;t.uniform4iv(this.addr,e),Fi(n,e)}}function zSe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function BSe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ni(n,e))return;t.uniform2uiv(this.addr,e),Fi(n,e)}}function USe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ni(n,e))return;t.uniform3uiv(this.addr,e),Fi(n,e)}}function VSe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ni(n,e))return;t.uniform4uiv(this.addr,e),Fi(n,e)}}function HSe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||F9,i)}function WSe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||B9,i)}function $Se(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||U9,i)}function GSe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||z9,i)}function jSe(t){switch(t){case 5126:return CSe;case 35664:return ASe;case 35665:return PSe;case 35666:return RSe;case 35674:return ISe;case 35675:return kSe;case 35676:return LSe;case 5124:case 35670:return DSe;case 35667:case 35671:return OSe;case 35668:case 35672:return NSe;case 35669:case 35673:return FSe;case 5125:return zSe;case 36294:return BSe;case 36295:return USe;case 36296:return VSe;case 35678:case 36198:case 36298:case 36306:case 35682:return HSe;case 35679:case 36299:case 36307:return WSe;case 35680:case 36300:case 36308:case 36293:return $Se;case 36289:case 36303:case 36311:case 36292:return GSe}}function qSe(t,e){t.uniform1fv(this.addr,e)}function XSe(t,e){const n=$0(e,this.size,2);t.uniform2fv(this.addr,n)}function YSe(t,e){const n=$0(e,this.size,3);t.uniform3fv(this.addr,n)}function QSe(t,e){const n=$0(e,this.size,4);t.uniform4fv(this.addr,n)}function KSe(t,e){const n=$0(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function ZSe(t,e){const n=$0(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function JSe(t,e){const n=$0(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function ebe(t,e){t.uniform1iv(this.addr,e)}function tbe(t,e){t.uniform2iv(this.addr,e)}function nbe(t,e){t.uniform3iv(this.addr,e)}function rbe(t,e){t.uniform4iv(this.addr,e)}function ibe(t,e){t.uniform1uiv(this.addr,e)}function sbe(t,e){t.uniform2uiv(this.addr,e)}function obe(t,e){t.uniform3uiv(this.addr,e)}function abe(t,e){t.uniform4uiv(this.addr,e)}function lbe(t,e,n){const r=this.cache,i=e.length,s=JT(n,i);Ni(r,s)||(t.uniform1iv(this.addr,s),Fi(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||F9,s[o])}function ube(t,e,n){const r=this.cache,i=e.length,s=JT(n,i);Ni(r,s)||(t.uniform1iv(this.addr,s),Fi(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||B9,s[o])}function cbe(t,e,n){const r=this.cache,i=e.length,s=JT(n,i);Ni(r,s)||(t.uniform1iv(this.addr,s),Fi(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||U9,s[o])}function fbe(t,e,n){const r=this.cache,i=e.length,s=JT(n,i);Ni(r,s)||(t.uniform1iv(this.addr,s),Fi(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||z9,s[o])}function hbe(t){switch(t){case 5126:return qSe;case 35664:return XSe;case 35665:return YSe;case 35666:return QSe;case 35674:return KSe;case 35675:return ZSe;case 35676:return JSe;case 5124:case 35670:return ebe;case 35667:case 35671:return tbe;case 35668:case 35672:return nbe;case 35669:case 35673:return rbe;case 5125:return ibe;case 36294:return sbe;case 36295:return obe;case 36296:return abe;case 35678:case 36198:case 36298:case 36306:case 35682:return lbe;case 35679:case 36299:case 36307:return ube;case 35680:case 36300:case 36308:case 36293:return cbe;case 36289:case 36303:case 36311:case 36292:return fbe}}class dbe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=jSe(n.type)}}class pbe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=hbe(n.type)}}class mbe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const $A=/(\w+)(\])?(\[|\.)?/g;function eB(t,e){t.seq.push(e),t.map[e.id]=e}function gbe(t,e,n){const r=t.name,i=r.length;for($A.lastIndex=0;;){const s=$A.exec(r),o=$A.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){eB(n,u===void 0?new dbe(a,t,e):new pbe(a,t,e));break}else{let p=n.map[a];p===void 0&&(p=new mbe(a),eB(n,p)),n=p}}}class lM{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);gbe(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function tB(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let vbe=0;function ybe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function xbe(t){switch(t){case zl:return["Linear","( value )"];case ir:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function nB(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+ybe(t.getShaderSource(e),o)}else return i}function _be(t,e){const n=xbe(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function wbe(t,e){let n;switch(e){case i9:n="Linear";break;case s9:n="Reinhard";break;case o9:n="OptimizedCineon";break;case tD:n="ACESFilmic";break;case a9:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Sbe(t){return[t.extensionDerivatives||!!t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ny).join(`
`)}function bbe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Mbe(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Ny(t){return t!==""}function rB(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function iB(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Ebe=/^[ \t]*#include +<([\w\d./]+)>/gm;function q3(t){return t.replace(Ebe,Tbe)}function Tbe(t,e){const n=bn[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return q3(n)}const Cbe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function sB(t){return t.replace(Cbe,Abe)}function Abe(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function oB(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Pbe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===KL?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===ZL?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Rg&&(e="SHADOWMAP_TYPE_VSM"),e}function Rbe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Uc:case wh:e="ENVMAP_TYPE_CUBE";break;case H0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Ibe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case wh:e="ENVMAP_MODE_REFRACTION";break}return e}function kbe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case p_:e="ENVMAP_BLENDING_MULTIPLY";break;case n9:e="ENVMAP_BLENDING_MIX";break;case r9:e="ENVMAP_BLENDING_ADD";break}return e}function Lbe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Dbe(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Pbe(n),u=Rbe(n),c=Ibe(n),p=kbe(n),m=Lbe(n),v=n.isWebGL2?"":Sbe(n),y=bbe(s),x=i.createProgram();let _,b,M=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(_=[y].filter(Ny).join(`
`),_.length>0&&(_+=`
`),b=[v,y].filter(Ny).join(`
`),b.length>0&&(b+=`
`)):(_=[oB(n),"#define SHADER_NAME "+n.shaderName,y,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ny).join(`
`),b=[v,oB(n),"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+p:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ol?"#define TONE_MAPPING":"",n.toneMapping!==Ol?bn.tonemapping_pars_fragment:"",n.toneMapping!==Ol?wbe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",bn.encodings_pars_fragment,_be("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ny).join(`
`)),o=q3(o),o=rB(o,n),o=iB(o,n),a=q3(a),a=rB(a,n),a=iB(a,n),o=sB(o),a=sB(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(M=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,b=["#define varying in",n.glslVersion===$3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===$3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const w=M+_+o,T=M+b+a,A=tB(i,35633,w),k=tB(i,35632,T);if(i.attachShader(x,A),i.attachShader(x,k),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x),t.debug.checkShaderErrors){const O=i.getProgramInfoLog(x).trim(),N=i.getShaderInfoLog(A).trim(),H=i.getShaderInfoLog(k).trim();let ie=!0,te=!0;if(i.getProgramParameter(x,35714)===!1){ie=!1;const ee=nB(i,A,"vertex"),ue=nB(i,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,35715)+`

Program Info Log: `+O+`
`+ee+`
`+ue)}else O!==""?console.warn("THREE.WebGLProgram: Program Info Log:",O):(N===""||H==="")&&(te=!1);te&&(this.diagnostics={runnable:ie,programLog:O,vertexShader:{log:N,prefix:_},fragmentShader:{log:H,prefix:b}})}i.deleteShader(A),i.deleteShader(k);let L;this.getUniforms=function(){return L===void 0&&(L=new lM(i,x)),L};let P;return this.getAttributes=function(){return P===void 0&&(P=Mbe(i,x)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.name=n.shaderName,this.id=vbe++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=A,this.fragmentShader=k,this}let Obe=0;class Nbe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Fbe(e),n.set(e,r)),r}}class Fbe{constructor(e){this.id=Obe++,this.code=e,this.usedTimes=0}}function zbe(t,e,n,r,i,s,o){const a=new vp,l=new Nbe,u=[],c=i.isWebGL2,p=i.logarithmicDepthBuffer,m=i.vertexTextures;let v=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(P,O,N,H,ie){const te=H.fog,ee=ie.geometry,ue=P.isMeshStandardMaterial?H.environment:null,ae=(P.isMeshStandardMaterial?n:e).get(P.envMap||ue),fe=!!ae&&ae.mapping===H0?ae.image.height:null,z=y[P.type];P.precision!==null&&(v=i.getMaxPrecision(P.precision),v!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",v,"instead."));const Y=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,Z=Y!==void 0?Y.length:0;let B=0;ee.morphAttributes.position!==void 0&&(B=1),ee.morphAttributes.normal!==void 0&&(B=2),ee.morphAttributes.color!==void 0&&(B=3);let G,le,we,Me;if(z){const pt=Cl[z];G=pt.vertexShader,le=pt.fragmentShader}else G=P.vertexShader,le=P.fragmentShader,l.update(P),we=l.getVertexShaderID(P),Me=l.getFragmentShaderID(P);const pe=t.getRenderTarget(),We=P.alphaTest>0,Be=P.clearcoat>0,Qe=P.iridescence>0;return{isWebGL2:c,shaderID:z,shaderName:P.type,vertexShader:G,fragmentShader:le,defines:P.defines,customVertexShaderID:we,customFragmentShaderID:Me,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:v,instancing:ie.isInstancedMesh===!0,instancingColor:ie.isInstancedMesh===!0&&ie.instanceColor!==null,supportsVertexTextures:m,outputEncoding:pe===null?t.outputEncoding:pe.isXRRenderTarget===!0?pe.texture.encoding:zl,map:!!P.map,matcap:!!P.matcap,envMap:!!ae,envMapMode:ae&&ae.mapping,envMapCubeUVHeight:fe,lightMap:!!P.lightMap,aoMap:!!P.aoMap,emissiveMap:!!P.emissiveMap,bumpMap:!!P.bumpMap,normalMap:!!P.normalMap,objectSpaceNormalMap:P.normalMapType===A9,tangentSpaceNormalMap:P.normalMapType===Lh,decodeVideoTexture:!!P.map&&P.map.isVideoTexture===!0&&P.map.encoding===ir,clearcoat:Be,clearcoatMap:Be&&!!P.clearcoatMap,clearcoatRoughnessMap:Be&&!!P.clearcoatRoughnessMap,clearcoatNormalMap:Be&&!!P.clearcoatNormalMap,iridescence:Qe,iridescenceMap:Qe&&!!P.iridescenceMap,iridescenceThicknessMap:Qe&&!!P.iridescenceThicknessMap,displacementMap:!!P.displacementMap,roughnessMap:!!P.roughnessMap,metalnessMap:!!P.metalnessMap,specularMap:!!P.specularMap,specularIntensityMap:!!P.specularIntensityMap,specularColorMap:!!P.specularColorMap,opaque:P.transparent===!1&&P.blending===dp,alphaMap:!!P.alphaMap,alphaTest:We,gradientMap:!!P.gradientMap,sheen:P.sheen>0,sheenColorMap:!!P.sheenColorMap,sheenRoughnessMap:!!P.sheenRoughnessMap,transmission:P.transmission>0,transmissionMap:!!P.transmissionMap,thicknessMap:!!P.thicknessMap,combine:P.combine,vertexTangents:!!P.normalMap&&!!ee.attributes.tangent,vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,vertexUvs:!!P.map||!!P.bumpMap||!!P.normalMap||!!P.specularMap||!!P.alphaMap||!!P.emissiveMap||!!P.roughnessMap||!!P.metalnessMap||!!P.clearcoatMap||!!P.clearcoatRoughnessMap||!!P.clearcoatNormalMap||!!P.iridescenceMap||!!P.iridescenceThicknessMap||!!P.displacementMap||!!P.transmissionMap||!!P.thicknessMap||!!P.specularIntensityMap||!!P.specularColorMap||!!P.sheenColorMap||!!P.sheenRoughnessMap,uvsVertexOnly:!(!!P.map||!!P.bumpMap||!!P.normalMap||!!P.specularMap||!!P.alphaMap||!!P.emissiveMap||!!P.roughnessMap||!!P.metalnessMap||!!P.clearcoatNormalMap||!!P.iridescenceMap||!!P.iridescenceThicknessMap||P.transmission>0||!!P.transmissionMap||!!P.thicknessMap||!!P.specularIntensityMap||!!P.specularColorMap||P.sheen>0||!!P.sheenColorMap||!!P.sheenRoughnessMap)&&!!P.displacementMap,fog:!!te,useFog:P.fog===!0,fogExp2:te&&te.isFogExp2,flatShading:!!P.flatShading,sizeAttenuation:P.sizeAttenuation,logarithmicDepthBuffer:p,skinning:ie.isSkinnedMesh===!0,morphTargets:ee.morphAttributes.position!==void 0,morphNormals:ee.morphAttributes.normal!==void 0,morphColors:ee.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:B,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&N.length>0,shadowMapType:t.shadowMap.type,toneMapping:P.toneMapped?t.toneMapping:Ol,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===d_,flipSided:P.side===da,useDepthPacking:!!P.depthPacking,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:P.extensions&&P.extensions.derivatives,extensionFragDepth:P.extensions&&P.extensions.fragDepth,extensionDrawBuffers:P.extensions&&P.extensions.drawBuffers,extensionShaderTextureLOD:P.extensions&&P.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:P.customProgramCacheKey()}}function _(P){const O=[];if(P.shaderID?O.push(P.shaderID):(O.push(P.customVertexShaderID),O.push(P.customFragmentShaderID)),P.defines!==void 0)for(const N in P.defines)O.push(N),O.push(P.defines[N]);return P.isRawShaderMaterial===!1&&(b(O,P),M(O,P),O.push(t.outputEncoding)),O.push(P.customProgramCacheKey),O.join()}function b(P,O){P.push(O.precision),P.push(O.outputEncoding),P.push(O.envMapMode),P.push(O.envMapCubeUVHeight),P.push(O.combine),P.push(O.vertexUvs),P.push(O.fogExp2),P.push(O.sizeAttenuation),P.push(O.morphTargetsCount),P.push(O.morphAttributeCount),P.push(O.numDirLights),P.push(O.numPointLights),P.push(O.numSpotLights),P.push(O.numSpotLightMaps),P.push(O.numHemiLights),P.push(O.numRectAreaLights),P.push(O.numDirLightShadows),P.push(O.numPointLightShadows),P.push(O.numSpotLightShadows),P.push(O.numSpotLightShadowsWithMaps),P.push(O.shadowMapType),P.push(O.toneMapping),P.push(O.numClippingPlanes),P.push(O.numClipIntersection),P.push(O.depthPacking)}function M(P,O){a.disableAll(),O.isWebGL2&&a.enable(0),O.supportsVertexTextures&&a.enable(1),O.instancing&&a.enable(2),O.instancingColor&&a.enable(3),O.map&&a.enable(4),O.matcap&&a.enable(5),O.envMap&&a.enable(6),O.lightMap&&a.enable(7),O.aoMap&&a.enable(8),O.emissiveMap&&a.enable(9),O.bumpMap&&a.enable(10),O.normalMap&&a.enable(11),O.objectSpaceNormalMap&&a.enable(12),O.tangentSpaceNormalMap&&a.enable(13),O.clearcoat&&a.enable(14),O.clearcoatMap&&a.enable(15),O.clearcoatRoughnessMap&&a.enable(16),O.clearcoatNormalMap&&a.enable(17),O.iridescence&&a.enable(18),O.iridescenceMap&&a.enable(19),O.iridescenceThicknessMap&&a.enable(20),O.displacementMap&&a.enable(21),O.specularMap&&a.enable(22),O.roughnessMap&&a.enable(23),O.metalnessMap&&a.enable(24),O.gradientMap&&a.enable(25),O.alphaMap&&a.enable(26),O.alphaTest&&a.enable(27),O.vertexColors&&a.enable(28),O.vertexAlphas&&a.enable(29),O.vertexUvs&&a.enable(30),O.vertexTangents&&a.enable(31),O.uvsVertexOnly&&a.enable(32),P.push(a.mask),a.disableAll(),O.fog&&a.enable(0),O.useFog&&a.enable(1),O.flatShading&&a.enable(2),O.logarithmicDepthBuffer&&a.enable(3),O.skinning&&a.enable(4),O.morphTargets&&a.enable(5),O.morphNormals&&a.enable(6),O.morphColors&&a.enable(7),O.premultipliedAlpha&&a.enable(8),O.shadowMapEnabled&&a.enable(9),O.physicallyCorrectLights&&a.enable(10),O.doubleSided&&a.enable(11),O.flipSided&&a.enable(12),O.useDepthPacking&&a.enable(13),O.dithering&&a.enable(14),O.specularIntensityMap&&a.enable(15),O.specularColorMap&&a.enable(16),O.transmission&&a.enable(17),O.transmissionMap&&a.enable(18),O.thicknessMap&&a.enable(19),O.sheen&&a.enable(20),O.sheenColorMap&&a.enable(21),O.sheenRoughnessMap&&a.enable(22),O.decodeVideoTexture&&a.enable(23),O.opaque&&a.enable(24),P.push(a.mask)}function w(P){const O=y[P.type];let N;if(O){const H=Cl[O];N=D9.clone(H.uniforms)}else N=P.uniforms;return N}function T(P,O){let N;for(let H=0,ie=u.length;H<ie;H++){const te=u[H];if(te.cacheKey===O){N=te,++N.usedTimes;break}}return N===void 0&&(N=new Dbe(t,O,P,s),u.push(N)),N}function A(P){if(--P.usedTimes===0){const O=u.indexOf(P);u[O]=u[u.length-1],u.pop(),P.destroy()}}function k(P){l.remove(P)}function L(){l.dispose()}return{getParameters:x,getProgramCacheKey:_,getUniforms:w,acquireProgram:T,releaseProgram:A,releaseShaderCache:k,programs:u,dispose:L}}function Bbe(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function Ube(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function aB(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function lB(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(p,m,v,y,x,_){let b=t[e];return b===void 0?(b={id:p.id,object:p,geometry:m,material:v,groupOrder:y,renderOrder:p.renderOrder,z:x,group:_},t[e]=b):(b.id=p.id,b.object=p,b.geometry=m,b.material=v,b.groupOrder=y,b.renderOrder=p.renderOrder,b.z=x,b.group=_),e++,b}function a(p,m,v,y,x,_){const b=o(p,m,v,y,x,_);v.transmission>0?r.push(b):v.transparent===!0?i.push(b):n.push(b)}function l(p,m,v,y,x,_){const b=o(p,m,v,y,x,_);v.transmission>0?r.unshift(b):v.transparent===!0?i.unshift(b):n.unshift(b)}function u(p,m){n.length>1&&n.sort(p||Ube),r.length>1&&r.sort(m||aB),i.length>1&&i.sort(m||aB)}function c(){for(let p=e,m=t.length;p<m;p++){const v=t[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function Vbe(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new lB,t.set(r,[o])):i>=s.length?(o=new lB,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function Hbe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new X,color:new mt};break;case"SpotLight":n={position:new X,direction:new X,color:new mt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new X,color:new mt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new X,skyColor:new mt,groundColor:new mt};break;case"RectAreaLight":n={color:new mt,position:new X,halfWidth:new X,halfHeight:new X};break}return t[e.id]=n,n}}}function Wbe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ne};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ne};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ne,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let $be=0;function Gbe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function jbe(t,e){const n=new Hbe,r=Wbe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new X);const s=new X,o=new vn,a=new vn;function l(c,p){let m=0,v=0,y=0;for(let H=0;H<9;H++)i.probe[H].set(0,0,0);let x=0,_=0,b=0,M=0,w=0,T=0,A=0,k=0,L=0,P=0;c.sort(Gbe);const O=p!==!0?Math.PI:1;for(let H=0,ie=c.length;H<ie;H++){const te=c[H],ee=te.color,ue=te.intensity,ae=te.distance,fe=te.shadow&&te.shadow.map?te.shadow.map.texture:null;if(te.isAmbientLight)m+=ee.r*ue*O,v+=ee.g*ue*O,y+=ee.b*ue*O;else if(te.isLightProbe)for(let z=0;z<9;z++)i.probe[z].addScaledVector(te.sh.coefficients[z],ue);else if(te.isDirectionalLight){const z=n.get(te);if(z.color.copy(te.color).multiplyScalar(te.intensity*O),te.castShadow){const Y=te.shadow,Z=r.get(te);Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,i.directionalShadow[x]=Z,i.directionalShadowMap[x]=fe,i.directionalShadowMatrix[x]=te.shadow.matrix,T++}i.directional[x]=z,x++}else if(te.isSpotLight){const z=n.get(te);z.position.setFromMatrixPosition(te.matrixWorld),z.color.copy(ee).multiplyScalar(ue*O),z.distance=ae,z.coneCos=Math.cos(te.angle),z.penumbraCos=Math.cos(te.angle*(1-te.penumbra)),z.decay=te.decay,i.spot[b]=z;const Y=te.shadow;if(te.map&&(i.spotLightMap[L]=te.map,L++,Y.updateMatrices(te),te.castShadow&&P++),i.spotLightMatrix[b]=Y.matrix,te.castShadow){const Z=r.get(te);Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,i.spotShadow[b]=Z,i.spotShadowMap[b]=fe,k++}b++}else if(te.isRectAreaLight){const z=n.get(te);z.color.copy(ee).multiplyScalar(ue),z.halfWidth.set(te.width*.5,0,0),z.halfHeight.set(0,te.height*.5,0),i.rectArea[M]=z,M++}else if(te.isPointLight){const z=n.get(te);if(z.color.copy(te.color).multiplyScalar(te.intensity*O),z.distance=te.distance,z.decay=te.decay,te.castShadow){const Y=te.shadow,Z=r.get(te);Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,Z.shadowCameraNear=Y.camera.near,Z.shadowCameraFar=Y.camera.far,i.pointShadow[_]=Z,i.pointShadowMap[_]=fe,i.pointShadowMatrix[_]=te.shadow.matrix,A++}i.point[_]=z,_++}else if(te.isHemisphereLight){const z=n.get(te);z.skyColor.copy(te.color).multiplyScalar(ue*O),z.groundColor.copy(te.groundColor).multiplyScalar(ue*O),i.hemi[w]=z,w++}}M>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ot.LTC_FLOAT_1,i.rectAreaLTC2=ot.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=ot.LTC_HALF_1,i.rectAreaLTC2=ot.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=y;const N=i.hash;(N.directionalLength!==x||N.pointLength!==_||N.spotLength!==b||N.rectAreaLength!==M||N.hemiLength!==w||N.numDirectionalShadows!==T||N.numPointShadows!==A||N.numSpotShadows!==k||N.numSpotMaps!==L)&&(i.directional.length=x,i.spot.length=b,i.rectArea.length=M,i.point.length=_,i.hemi.length=w,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=k,i.spotShadowMap.length=k,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=k+L-P,i.spotLightMap.length=L,i.numSpotLightShadowsWithMaps=P,N.directionalLength=x,N.pointLength=_,N.spotLength=b,N.rectAreaLength=M,N.hemiLength=w,N.numDirectionalShadows=T,N.numPointShadows=A,N.numSpotShadows=k,N.numSpotMaps=L,i.version=$be++)}function u(c,p){let m=0,v=0,y=0,x=0,_=0;const b=p.matrixWorldInverse;for(let M=0,w=c.length;M<w;M++){const T=c[M];if(T.isDirectionalLight){const A=i.directional[m];A.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(b),m++}else if(T.isSpotLight){const A=i.spot[y];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(b),A.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(b),y++}else if(T.isRectAreaLight){const A=i.rectArea[x];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(b),a.identity(),o.copy(T.matrixWorld),o.premultiply(b),a.extractRotation(o),A.halfWidth.set(T.width*.5,0,0),A.halfHeight.set(0,T.height*.5,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),x++}else if(T.isPointLight){const A=i.point[v];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(b),v++}else if(T.isHemisphereLight){const A=i.hemi[_];A.direction.setFromMatrixPosition(T.matrixWorld),A.direction.transformDirection(b),_++}}}return{setup:l,setupView:u,state:i}}function uB(t,e){const n=new jbe(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(p){r.push(p)}function a(p){i.push(p)}function l(p){n.setup(r,p)}function u(p){n.setupView(r,p)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function qbe(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new uB(t,e),n.set(s,[l])):o>=a.length?(l=new uB(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class eC extends Ss{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=T9,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class fD extends Ss{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new X,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Xbe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Ybe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Qbe(t,e,n){let r=new ZT;const i=new Ne,s=new Ne,o=new sr,a=new eC({depthPacking:C9}),l=new fD,u={},c=n.maxTextureSize,p={0:da,1:_h,2:d_},m=new xa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ne},radius:{value:4}},vertexShader:Xbe,fragmentShader:Ybe}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const y=new Mn;y.setAttribute("position",new dr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Li(y,m),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=KL,this.render=function(T,A,k){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||T.length===0)return;const L=t.getRenderTarget(),P=t.getActiveCubeFace(),O=t.getActiveMipmapLevel(),N=t.state;N.setBlending(Rc),N.buffers.color.setClear(1,1,1,1),N.buffers.depth.setTest(!0),N.setScissorTest(!1);for(let H=0,ie=T.length;H<ie;H++){const te=T[H],ee=te.shadow;if(ee===void 0){console.warn("THREE.WebGLShadowMap:",te,"has no shadow.");continue}if(ee.autoUpdate===!1&&ee.needsUpdate===!1)continue;i.copy(ee.mapSize);const ue=ee.getFrameExtents();if(i.multiply(ue),s.copy(ee.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/ue.x),i.x=s.x*ue.x,ee.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/ue.y),i.y=s.y*ue.y,ee.mapSize.y=s.y)),ee.map===null){const fe=this.type!==Rg?{minFilter:ci,magFilter:ci}:{};ee.map=new yo(i.x,i.y,fe),ee.map.texture.name=te.name+".shadowMap",ee.camera.updateProjectionMatrix()}t.setRenderTarget(ee.map),t.clear();const ae=ee.getViewportCount();for(let fe=0;fe<ae;fe++){const z=ee.getViewport(fe);o.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),N.viewport(o),ee.updateMatrices(te,fe),r=ee.getFrustum(),w(A,k,ee.camera,te,this.type)}ee.isPointLightShadow!==!0&&this.type===Rg&&b(ee,k),ee.needsUpdate=!1}_.needsUpdate=!1,t.setRenderTarget(L,P,O)};function b(T,A){const k=e.update(x);m.defines.VSM_SAMPLES!==T.blurSamples&&(m.defines.VSM_SAMPLES=T.blurSamples,v.defines.VSM_SAMPLES=T.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new yo(i.x,i.y)),m.uniforms.shadow_pass.value=T.map.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,t.setRenderTarget(T.mapPass),t.clear(),t.renderBufferDirect(A,null,k,m,x,null),v.uniforms.shadow_pass.value=T.mapPass.texture,v.uniforms.resolution.value=T.mapSize,v.uniforms.radius.value=T.radius,t.setRenderTarget(T.map),t.clear(),t.renderBufferDirect(A,null,k,v,x,null)}function M(T,A,k,L,P,O){let N=null;const H=k.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(H!==void 0)N=H;else if(N=k.isPointLight===!0?l:a,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const ie=N.uuid,te=A.uuid;let ee=u[ie];ee===void 0&&(ee={},u[ie]=ee);let ue=ee[te];ue===void 0&&(ue=N.clone(),ee[te]=ue),N=ue}return N.visible=A.visible,N.wireframe=A.wireframe,O===Rg?N.side=A.shadowSide!==null?A.shadowSide:A.side:N.side=A.shadowSide!==null?A.shadowSide:p[A.side],N.alphaMap=A.alphaMap,N.alphaTest=A.alphaTest,N.map=A.map,N.clipShadows=A.clipShadows,N.clippingPlanes=A.clippingPlanes,N.clipIntersection=A.clipIntersection,N.displacementMap=A.displacementMap,N.displacementScale=A.displacementScale,N.displacementBias=A.displacementBias,N.wireframeLinewidth=A.wireframeLinewidth,N.linewidth=A.linewidth,k.isPointLight===!0&&N.isMeshDistanceMaterial===!0&&(N.referencePosition.setFromMatrixPosition(k.matrixWorld),N.nearDistance=L,N.farDistance=P),N}function w(T,A,k,L,P){if(T.visible===!1)return;if(T.layers.test(A.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&P===Rg)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,T.matrixWorld);const H=e.update(T),ie=T.material;if(Array.isArray(ie)){const te=H.groups;for(let ee=0,ue=te.length;ee<ue;ee++){const ae=te[ee],fe=ie[ae.materialIndex];if(fe&&fe.visible){const z=M(T,fe,L,k.near,k.far,P);t.renderBufferDirect(k,null,H,z,T,ae)}}}else if(ie.visible){const te=M(T,ie,L,k.near,k.far,P);t.renderBufferDirect(k,null,H,te,T,null)}}const N=T.children;for(let H=0,ie=N.length;H<ie;H++)w(N[H],A,k,L,P)}}function Kbe(t,e,n){const r=n.isWebGL2;function i(){let de=!1;const Pe=new sr;let Ve=null;const at=new sr(0,0,0,0);return{setMask:function(Tt){Ve!==Tt&&!de&&(t.colorMask(Tt,Tt,Tt,Tt),Ve=Tt)},setLocked:function(Tt){de=Tt},setClear:function(Tt,ln,wr,Wr,Xs){Xs===!0&&(Tt*=Wr,ln*=Wr,wr*=Wr),Pe.set(Tt,ln,wr,Wr),at.equals(Pe)===!1&&(t.clearColor(Tt,ln,wr,Wr),at.copy(Pe))},reset:function(){de=!1,Ve=null,at.set(-1,0,0,0)}}}function s(){let de=!1,Pe=null,Ve=null,at=null;return{setTest:function(Tt){Tt?We(2929):Be(2929)},setMask:function(Tt){Pe!==Tt&&!de&&(t.depthMask(Tt),Pe=Tt)},setFunc:function(Tt){if(Ve!==Tt){switch(Tt){case YG:t.depthFunc(512);break;case QG:t.depthFunc(519);break;case KG:t.depthFunc(513);break;case uE:t.depthFunc(515);break;case ZG:t.depthFunc(514);break;case JG:t.depthFunc(518);break;case e9:t.depthFunc(516);break;case t9:t.depthFunc(517);break;default:t.depthFunc(515)}Ve=Tt}},setLocked:function(Tt){de=Tt},setClear:function(Tt){at!==Tt&&(t.clearDepth(Tt),at=Tt)},reset:function(){de=!1,Pe=null,Ve=null,at=null}}}function o(){let de=!1,Pe=null,Ve=null,at=null,Tt=null,ln=null,wr=null,Wr=null,Xs=null;return{setTest:function(Wn){de||(Wn?We(2960):Be(2960))},setMask:function(Wn){Pe!==Wn&&!de&&(t.stencilMask(Wn),Pe=Wn)},setFunc:function(Wn,Ms,pr){(Ve!==Wn||at!==Ms||Tt!==pr)&&(t.stencilFunc(Wn,Ms,pr),Ve=Wn,at=Ms,Tt=pr)},setOp:function(Wn,Ms,pr){(ln!==Wn||wr!==Ms||Wr!==pr)&&(t.stencilOp(Wn,Ms,pr),ln=Wn,wr=Ms,Wr=pr)},setLocked:function(Wn){de=Wn},setClear:function(Wn){Xs!==Wn&&(t.clearStencil(Wn),Xs=Wn)},reset:function(){de=!1,Pe=null,Ve=null,at=null,Tt=null,ln=null,wr=null,Wr=null,Xs=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,p=new WeakMap;let m={},v={},y=new WeakMap,x=[],_=null,b=!1,M=null,w=null,T=null,A=null,k=null,L=null,P=null,O=!1,N=null,H=null,ie=null,te=null,ee=null;const ue=t.getParameter(35661);let ae=!1,fe=0;const z=t.getParameter(7938);z.indexOf("WebGL")!==-1?(fe=parseFloat(/^WebGL (\d)/.exec(z)[1]),ae=fe>=1):z.indexOf("OpenGL ES")!==-1&&(fe=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),ae=fe>=2);let Y=null,Z={};const B=t.getParameter(3088),G=t.getParameter(2978),le=new sr().fromArray(B),we=new sr().fromArray(G);function Me(de,Pe,Ve){const at=new Uint8Array(4),Tt=t.createTexture();t.bindTexture(de,Tt),t.texParameteri(de,10241,9728),t.texParameteri(de,10240,9728);for(let ln=0;ln<Ve;ln++)t.texImage2D(Pe+ln,0,6408,1,1,0,6408,5121,at);return Tt}const pe={};pe[3553]=Me(3553,3553,1),pe[34067]=Me(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),We(2929),l.setFunc(uE),rt(!1),St(v3),We(2884),qe(Rc);function We(de){m[de]!==!0&&(t.enable(de),m[de]=!0)}function Be(de){m[de]!==!1&&(t.disable(de),m[de]=!1)}function Qe(de,Pe){return v[de]!==Pe?(t.bindFramebuffer(de,Pe),v[de]=Pe,r&&(de===36009&&(v[36160]=Pe),de===36160&&(v[36009]=Pe)),!0):!1}function Fe(de,Pe){let Ve=x,at=!1;if(de)if(Ve=y.get(Pe),Ve===void 0&&(Ve=[],y.set(Pe,Ve)),de.isWebGLMultipleRenderTargets){const Tt=de.texture;if(Ve.length!==Tt.length||Ve[0]!==36064){for(let ln=0,wr=Tt.length;ln<wr;ln++)Ve[ln]=36064+ln;Ve.length=Tt.length,at=!0}}else Ve[0]!==36064&&(Ve[0]=36064,at=!0);else Ve[0]!==1029&&(Ve[0]=1029,at=!0);at&&(n.isWebGL2?t.drawBuffers(Ve):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ve))}function pt(de){return _!==de?(t.useProgram(de),_=de,!0):!1}const Ie={[Wd]:32774,[zG]:32778,[BG]:32779};if(r)Ie[w3]=32775,Ie[S3]=32776;else{const de=e.get("EXT_blend_minmax");de!==null&&(Ie[w3]=de.MIN_EXT,Ie[S3]=de.MAX_EXT)}const Ae={[UG]:0,[VG]:1,[HG]:768,[JL]:770,[XG]:776,[jG]:774,[$G]:772,[WG]:769,[eD]:771,[qG]:775,[GG]:773};function qe(de,Pe,Ve,at,Tt,ln,wr,Wr){if(de===Rc){b===!0&&(Be(3042),b=!1);return}if(b===!1&&(We(3042),b=!0),de!==FG){if(de!==M||Wr!==O){if((w!==Wd||k!==Wd)&&(t.blendEquation(32774),w=Wd,k=Wd),Wr)switch(de){case dp:t.blendFuncSeparate(1,771,1,771);break;case y3:t.blendFunc(1,1);break;case x3:t.blendFuncSeparate(0,769,0,1);break;case _3:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}else switch(de){case dp:t.blendFuncSeparate(770,771,1,771);break;case y3:t.blendFunc(770,1);break;case x3:t.blendFuncSeparate(0,769,0,1);break;case _3:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}T=null,A=null,L=null,P=null,M=de,O=Wr}return}Tt=Tt||Pe,ln=ln||Ve,wr=wr||at,(Pe!==w||Tt!==k)&&(t.blendEquationSeparate(Ie[Pe],Ie[Tt]),w=Pe,k=Tt),(Ve!==T||at!==A||ln!==L||wr!==P)&&(t.blendFuncSeparate(Ae[Ve],Ae[at],Ae[ln],Ae[wr]),T=Ve,A=at,L=ln,P=wr),M=de,O=!1}function ct(de,Pe){de.side===d_?Be(2884):We(2884);let Ve=de.side===da;Pe&&(Ve=!Ve),rt(Ve),de.blending===dp&&de.transparent===!1?qe(Rc):qe(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.premultipliedAlpha),l.setFunc(de.depthFunc),l.setTest(de.depthTest),l.setMask(de.depthWrite),a.setMask(de.colorWrite);const at=de.stencilWrite;u.setTest(at),at&&(u.setMask(de.stencilWriteMask),u.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),u.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),Mt(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),de.alphaToCoverage===!0?We(32926):Be(32926)}function rt(de){N!==de&&(de?t.frontFace(2304):t.frontFace(2305),N=de)}function St(de){de!==OG?(We(2884),de!==H&&(de===v3?t.cullFace(1029):de===NG?t.cullFace(1028):t.cullFace(1032))):Be(2884),H=de}function bt(de){de!==ie&&(ae&&t.lineWidth(de),ie=de)}function Mt(de,Pe,Ve){de?(We(32823),(te!==Pe||ee!==Ve)&&(t.polygonOffset(Pe,Ve),te=Pe,ee=Ve)):Be(32823)}function zt(de){de?We(3089):Be(3089)}function Nt(de){de===void 0&&(de=33984+ue-1),Y!==de&&(t.activeTexture(de),Y=de)}function Q(de,Pe,Ve){Ve===void 0&&(Y===null?Ve=33984+ue-1:Ve=Y);let at=Z[Ve];at===void 0&&(at={type:void 0,texture:void 0},Z[Ve]=at),(at.type!==de||at.texture!==Pe)&&(Y!==Ve&&(t.activeTexture(Ve),Y=Ve),t.bindTexture(de,Pe||pe[de]),at.type=de,at.texture=Pe)}function W(){const de=Z[Y];de!==void 0&&de.type!==void 0&&(t.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)}function be(){try{t.compressedTexImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function $e(){try{t.compressedTexImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ke(){try{t.texSubImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function nt(){try{t.texSubImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function _t(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function it(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function De(){try{t.texStorage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function yt(){try{t.texStorage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function re(){try{t.texImage2D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Te(){try{t.texImage3D.apply(t,arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function je(de){le.equals(de)===!1&&(t.scissor(de.x,de.y,de.z,de.w),le.copy(de))}function et(de){we.equals(de)===!1&&(t.viewport(de.x,de.y,de.z,de.w),we.copy(de))}function wt(de,Pe){let Ve=p.get(Pe);Ve===void 0&&(Ve=new WeakMap,p.set(Pe,Ve));let at=Ve.get(de);at===void 0&&(at=t.getUniformBlockIndex(Pe,de.name),Ve.set(de,at))}function Kt(de,Pe){const at=p.get(Pe).get(de);c.get(Pe)!==at&&(t.uniformBlockBinding(Pe,at,de.__bindingPointIndex),c.set(Pe,at))}function tr(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),m={},Y=null,Z={},v={},y=new WeakMap,x=[],_=null,b=!1,M=null,w=null,T=null,A=null,k=null,L=null,P=null,O=!1,N=null,H=null,ie=null,te=null,ee=null,le.set(0,0,t.canvas.width,t.canvas.height),we.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:We,disable:Be,bindFramebuffer:Qe,drawBuffers:Fe,useProgram:pt,setBlending:qe,setMaterial:ct,setFlipSided:rt,setCullFace:St,setLineWidth:bt,setPolygonOffset:Mt,setScissorTest:zt,activeTexture:Nt,bindTexture:Q,unbindTexture:W,compressedTexImage2D:be,compressedTexImage3D:$e,texImage2D:re,texImage3D:Te,updateUBOMapping:wt,uniformBlockBinding:Kt,texStorage2D:De,texStorage3D:yt,texSubImage2D:Ke,texSubImage3D:nt,compressedTexSubImage2D:_t,compressedTexSubImage3D:it,scissor:je,viewport:et,reset:tr}}function Zbe(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,p=i.maxSamples,m=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let x;const _=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(Q,W){return b?new OffscreenCanvas(Q,W):p1("canvas")}function w(Q,W,be,$e){let Ke=1;if((Q.width>$e||Q.height>$e)&&(Ke=$e/Math.max(Q.width,Q.height)),Ke<1||W===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const nt=W?hE:Math.floor,_t=nt(Ke*Q.width),it=nt(Ke*Q.height);x===void 0&&(x=M(_t,it));const De=be?M(_t,it):x;return De.width=_t,De.height=it,De.getContext("2d").drawImage(Q,0,0,_t,it),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+_t+"x"+it+")."),De}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function T(Q){return G3(Q.width)&&G3(Q.height)}function A(Q){return a?!1:Q.wrapS!==Us||Q.wrapT!==Us||Q.minFilter!==ci&&Q.minFilter!==Er}function k(Q,W){return Q.generateMipmaps&&W&&Q.minFilter!==ci&&Q.minFilter!==Er}function L(Q){t.generateMipmap(Q)}function P(Q,W,be,$e,Ke=!1){if(a===!1)return W;if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let nt=W;return W===6403&&(be===5126&&(nt=33326),be===5131&&(nt=33325),be===5121&&(nt=33321)),W===33319&&(be===5126&&(nt=33328),be===5131&&(nt=33327),be===5121&&(nt=33323)),W===6408&&(be===5126&&(nt=34836),be===5131&&(nt=34842),be===5121&&(nt=$e===ir&&Ke===!1?35907:32856),be===32819&&(nt=32854),be===32820&&(nt=32855)),(nt===33325||nt===33326||nt===33327||nt===33328||nt===34842||nt===34836)&&e.get("EXT_color_buffer_float"),nt}function O(Q,W,be){return k(Q,be)===!0||Q.isFramebufferTexture&&Q.minFilter!==ci&&Q.minFilter!==Er?Math.log2(Math.max(W.width,W.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?W.mipmaps.length:1}function N(Q){return Q===ci||Q===cE||Q===dx?9728:9729}function H(Q){const W=Q.target;W.removeEventListener("dispose",H),te(W),W.isVideoTexture&&y.delete(W)}function ie(Q){const W=Q.target;W.removeEventListener("dispose",ie),ue(W)}function te(Q){const W=r.get(Q);if(W.__webglInit===void 0)return;const be=Q.source,$e=_.get(be);if($e){const Ke=$e[W.__cacheKey];Ke.usedTimes--,Ke.usedTimes===0&&ee(Q),Object.keys($e).length===0&&_.delete(be)}r.remove(Q)}function ee(Q){const W=r.get(Q);t.deleteTexture(W.__webglTexture);const be=Q.source,$e=_.get(be);delete $e[W.__cacheKey],o.memory.textures--}function ue(Q){const W=Q.texture,be=r.get(Q),$e=r.get(W);if($e.__webglTexture!==void 0&&(t.deleteTexture($e.__webglTexture),o.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Ke=0;Ke<6;Ke++)t.deleteFramebuffer(be.__webglFramebuffer[Ke]),be.__webglDepthbuffer&&t.deleteRenderbuffer(be.__webglDepthbuffer[Ke]);else{if(t.deleteFramebuffer(be.__webglFramebuffer),be.__webglDepthbuffer&&t.deleteRenderbuffer(be.__webglDepthbuffer),be.__webglMultisampledFramebuffer&&t.deleteFramebuffer(be.__webglMultisampledFramebuffer),be.__webglColorRenderbuffer)for(let Ke=0;Ke<be.__webglColorRenderbuffer.length;Ke++)be.__webglColorRenderbuffer[Ke]&&t.deleteRenderbuffer(be.__webglColorRenderbuffer[Ke]);be.__webglDepthRenderbuffer&&t.deleteRenderbuffer(be.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let Ke=0,nt=W.length;Ke<nt;Ke++){const _t=r.get(W[Ke]);_t.__webglTexture&&(t.deleteTexture(_t.__webglTexture),o.memory.textures--),r.remove(W[Ke])}r.remove(W),r.remove(Q)}let ae=0;function fe(){ae=0}function z(){const Q=ae;return Q>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+l),ae+=1,Q}function Y(Q){const W=[];return W.push(Q.wrapS),W.push(Q.wrapT),W.push(Q.wrapR||0),W.push(Q.magFilter),W.push(Q.minFilter),W.push(Q.anisotropy),W.push(Q.internalFormat),W.push(Q.format),W.push(Q.type),W.push(Q.generateMipmaps),W.push(Q.premultiplyAlpha),W.push(Q.flipY),W.push(Q.unpackAlignment),W.push(Q.encoding),W.join()}function Z(Q,W){const be=r.get(Q);if(Q.isVideoTexture&&zt(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&be.__version!==Q.version){const $e=Q.image;if($e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if($e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Be(be,Q,W);return}}n.bindTexture(3553,be.__webglTexture,33984+W)}function B(Q,W){const be=r.get(Q);if(Q.version>0&&be.__version!==Q.version){Be(be,Q,W);return}n.bindTexture(35866,be.__webglTexture,33984+W)}function G(Q,W){const be=r.get(Q);if(Q.version>0&&be.__version!==Q.version){Be(be,Q,W);return}n.bindTexture(32879,be.__webglTexture,33984+W)}function le(Q,W){const be=r.get(Q);if(Q.version>0&&be.__version!==Q.version){Qe(be,Q,W);return}n.bindTexture(34067,be.__webglTexture,33984+W)}const we={[a1]:10497,[Us]:33071,[l1]:33648},Me={[ci]:9728,[cE]:9984,[dx]:9986,[Er]:9729,[nD]:9985,[Sh]:9987};function pe(Q,W,be){if(be?(t.texParameteri(Q,10242,we[W.wrapS]),t.texParameteri(Q,10243,we[W.wrapT]),(Q===32879||Q===35866)&&t.texParameteri(Q,32882,we[W.wrapR]),t.texParameteri(Q,10240,Me[W.magFilter]),t.texParameteri(Q,10241,Me[W.minFilter])):(t.texParameteri(Q,10242,33071),t.texParameteri(Q,10243,33071),(Q===32879||Q===35866)&&t.texParameteri(Q,32882,33071),(W.wrapS!==Us||W.wrapT!==Us)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Q,10240,N(W.magFilter)),t.texParameteri(Q,10241,N(W.minFilter)),W.minFilter!==ci&&W.minFilter!==Er&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const $e=e.get("EXT_texture_filter_anisotropic");if(W.magFilter===ci||W.minFilter!==dx&&W.minFilter!==Sh||W.type===ca&&e.has("OES_texture_float_linear")===!1||a===!1&&W.type===Xa&&e.has("OES_texture_half_float_linear")===!1)return;(W.anisotropy>1||r.get(W).__currentAnisotropy)&&(t.texParameterf(Q,$e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(W.anisotropy,i.getMaxAnisotropy())),r.get(W).__currentAnisotropy=W.anisotropy)}}function We(Q,W){let be=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,W.addEventListener("dispose",H));const $e=W.source;let Ke=_.get($e);Ke===void 0&&(Ke={},_.set($e,Ke));const nt=Y(W);if(nt!==Q.__cacheKey){Ke[nt]===void 0&&(Ke[nt]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,be=!0),Ke[nt].usedTimes++;const _t=Ke[Q.__cacheKey];_t!==void 0&&(Ke[Q.__cacheKey].usedTimes--,_t.usedTimes===0&&ee(W)),Q.__cacheKey=nt,Q.__webglTexture=Ke[nt].texture}return be}function Be(Q,W,be){let $e=3553;(W.isDataArrayTexture||W.isCompressedArrayTexture)&&($e=35866),W.isData3DTexture&&($e=32879);const Ke=We(Q,W),nt=W.source;n.bindTexture($e,Q.__webglTexture,33984+be);const _t=r.get(nt);if(nt.version!==_t.__version||Ke===!0){n.activeTexture(33984+be),t.pixelStorei(37440,W.flipY),t.pixelStorei(37441,W.premultiplyAlpha),t.pixelStorei(3317,W.unpackAlignment),t.pixelStorei(37443,0);const it=A(W)&&T(W.image)===!1;let De=w(W.image,it,!1,c);De=Nt(W,De);const yt=T(De)||a,re=s.convert(W.format,W.encoding);let Te=s.convert(W.type),je=P(W.internalFormat,re,Te,W.encoding,W.isVideoTexture);pe($e,W,yt);let et;const wt=W.mipmaps,Kt=a&&W.isVideoTexture!==!0,tr=_t.__version===void 0||Ke===!0,de=O(W,De,yt);if(W.isDepthTexture)je=6402,a?W.type===ca?je=36012:W.type===Qf?je=33190:W.type===pp?je=35056:je=33189:W.type===ca&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),W.format===uh&&je===6402&&W.type!==rD&&W.type!==Qf&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),W.type=Qf,Te=s.convert(W.type)),W.format===Rp&&je===6402&&(je=34041,W.type!==pp&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),W.type=pp,Te=s.convert(W.type))),tr&&(Kt?n.texStorage2D(3553,1,je,De.width,De.height):n.texImage2D(3553,0,je,De.width,De.height,0,re,Te,null));else if(W.isDataTexture)if(wt.length>0&&yt){Kt&&tr&&n.texStorage2D(3553,de,je,wt[0].width,wt[0].height);for(let Pe=0,Ve=wt.length;Pe<Ve;Pe++)et=wt[Pe],Kt?n.texSubImage2D(3553,Pe,0,0,et.width,et.height,re,Te,et.data):n.texImage2D(3553,Pe,je,et.width,et.height,0,re,Te,et.data);W.generateMipmaps=!1}else Kt?(tr&&n.texStorage2D(3553,de,je,De.width,De.height),n.texSubImage2D(3553,0,0,0,De.width,De.height,re,Te,De.data)):n.texImage2D(3553,0,je,De.width,De.height,0,re,Te,De.data);else if(W.isCompressedTexture)if(W.isCompressedArrayTexture){Kt&&tr&&n.texStorage3D(35866,de,je,wt[0].width,wt[0].height,De.depth);for(let Pe=0,Ve=wt.length;Pe<Ve;Pe++)et=wt[Pe],W.format!==la?re!==null?Kt?n.compressedTexSubImage3D(35866,Pe,0,0,0,et.width,et.height,De.depth,re,et.data,0,0):n.compressedTexImage3D(35866,Pe,je,et.width,et.height,De.depth,0,et.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Kt?n.texSubImage3D(35866,Pe,0,0,0,et.width,et.height,De.depth,re,Te,et.data):n.texImage3D(35866,Pe,je,et.width,et.height,De.depth,0,re,Te,et.data)}else{Kt&&tr&&n.texStorage2D(3553,de,je,wt[0].width,wt[0].height);for(let Pe=0,Ve=wt.length;Pe<Ve;Pe++)et=wt[Pe],W.format!==la?re!==null?Kt?n.compressedTexSubImage2D(3553,Pe,0,0,et.width,et.height,re,et.data):n.compressedTexImage2D(3553,Pe,je,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Kt?n.texSubImage2D(3553,Pe,0,0,et.width,et.height,re,Te,et.data):n.texImage2D(3553,Pe,je,et.width,et.height,0,re,Te,et.data)}else if(W.isDataArrayTexture)Kt?(tr&&n.texStorage3D(35866,de,je,De.width,De.height,De.depth),n.texSubImage3D(35866,0,0,0,0,De.width,De.height,De.depth,re,Te,De.data)):n.texImage3D(35866,0,je,De.width,De.height,De.depth,0,re,Te,De.data);else if(W.isData3DTexture)Kt?(tr&&n.texStorage3D(32879,de,je,De.width,De.height,De.depth),n.texSubImage3D(32879,0,0,0,0,De.width,De.height,De.depth,re,Te,De.data)):n.texImage3D(32879,0,je,De.width,De.height,De.depth,0,re,Te,De.data);else if(W.isFramebufferTexture){if(tr)if(Kt)n.texStorage2D(3553,de,je,De.width,De.height);else{let Pe=De.width,Ve=De.height;for(let at=0;at<de;at++)n.texImage2D(3553,at,je,Pe,Ve,0,re,Te,null),Pe>>=1,Ve>>=1}}else if(wt.length>0&&yt){Kt&&tr&&n.texStorage2D(3553,de,je,wt[0].width,wt[0].height);for(let Pe=0,Ve=wt.length;Pe<Ve;Pe++)et=wt[Pe],Kt?n.texSubImage2D(3553,Pe,0,0,re,Te,et):n.texImage2D(3553,Pe,je,re,Te,et);W.generateMipmaps=!1}else Kt?(tr&&n.texStorage2D(3553,de,je,De.width,De.height),n.texSubImage2D(3553,0,0,0,re,Te,De)):n.texImage2D(3553,0,je,re,Te,De);k(W,yt)&&L($e),_t.__version=nt.version,W.onUpdate&&W.onUpdate(W)}Q.__version=W.version}function Qe(Q,W,be){if(W.image.length!==6)return;const $e=We(Q,W),Ke=W.source;n.bindTexture(34067,Q.__webglTexture,33984+be);const nt=r.get(Ke);if(Ke.version!==nt.__version||$e===!0){n.activeTexture(33984+be),t.pixelStorei(37440,W.flipY),t.pixelStorei(37441,W.premultiplyAlpha),t.pixelStorei(3317,W.unpackAlignment),t.pixelStorei(37443,0);const _t=W.isCompressedTexture||W.image[0].isCompressedTexture,it=W.image[0]&&W.image[0].isDataTexture,De=[];for(let Pe=0;Pe<6;Pe++)!_t&&!it?De[Pe]=w(W.image[Pe],!1,!0,u):De[Pe]=it?W.image[Pe].image:W.image[Pe],De[Pe]=Nt(W,De[Pe]);const yt=De[0],re=T(yt)||a,Te=s.convert(W.format,W.encoding),je=s.convert(W.type),et=P(W.internalFormat,Te,je,W.encoding),wt=a&&W.isVideoTexture!==!0,Kt=nt.__version===void 0||$e===!0;let tr=O(W,yt,re);pe(34067,W,re);let de;if(_t){wt&&Kt&&n.texStorage2D(34067,tr,et,yt.width,yt.height);for(let Pe=0;Pe<6;Pe++){de=De[Pe].mipmaps;for(let Ve=0;Ve<de.length;Ve++){const at=de[Ve];W.format!==la?Te!==null?wt?n.compressedTexSubImage2D(34069+Pe,Ve,0,0,at.width,at.height,Te,at.data):n.compressedTexImage2D(34069+Pe,Ve,et,at.width,at.height,0,at.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):wt?n.texSubImage2D(34069+Pe,Ve,0,0,at.width,at.height,Te,je,at.data):n.texImage2D(34069+Pe,Ve,et,at.width,at.height,0,Te,je,at.data)}}}else{de=W.mipmaps,wt&&Kt&&(de.length>0&&tr++,n.texStorage2D(34067,tr,et,De[0].width,De[0].height));for(let Pe=0;Pe<6;Pe++)if(it){wt?n.texSubImage2D(34069+Pe,0,0,0,De[Pe].width,De[Pe].height,Te,je,De[Pe].data):n.texImage2D(34069+Pe,0,et,De[Pe].width,De[Pe].height,0,Te,je,De[Pe].data);for(let Ve=0;Ve<de.length;Ve++){const Tt=de[Ve].image[Pe].image;wt?n.texSubImage2D(34069+Pe,Ve+1,0,0,Tt.width,Tt.height,Te,je,Tt.data):n.texImage2D(34069+Pe,Ve+1,et,Tt.width,Tt.height,0,Te,je,Tt.data)}}else{wt?n.texSubImage2D(34069+Pe,0,0,0,Te,je,De[Pe]):n.texImage2D(34069+Pe,0,et,Te,je,De[Pe]);for(let Ve=0;Ve<de.length;Ve++){const at=de[Ve];wt?n.texSubImage2D(34069+Pe,Ve+1,0,0,Te,je,at.image[Pe]):n.texImage2D(34069+Pe,Ve+1,et,Te,je,at.image[Pe])}}}k(W,re)&&L(34067),nt.__version=Ke.version,W.onUpdate&&W.onUpdate(W)}Q.__version=W.version}function Fe(Q,W,be,$e,Ke){const nt=s.convert(be.format,be.encoding),_t=s.convert(be.type),it=P(be.internalFormat,nt,_t,be.encoding);r.get(W).__hasExternalTextures||(Ke===32879||Ke===35866?n.texImage3D(Ke,0,it,W.width,W.height,W.depth,0,nt,_t,null):n.texImage2D(Ke,0,it,W.width,W.height,0,nt,_t,null)),n.bindFramebuffer(36160,Q),Mt(W)?m.framebufferTexture2DMultisampleEXT(36160,$e,Ke,r.get(be).__webglTexture,0,bt(W)):(Ke===3553||Ke>=34069&&Ke<=34074)&&t.framebufferTexture2D(36160,$e,Ke,r.get(be).__webglTexture,0),n.bindFramebuffer(36160,null)}function pt(Q,W,be){if(t.bindRenderbuffer(36161,Q),W.depthBuffer&&!W.stencilBuffer){let $e=33189;if(be||Mt(W)){const Ke=W.depthTexture;Ke&&Ke.isDepthTexture&&(Ke.type===ca?$e=36012:Ke.type===Qf&&($e=33190));const nt=bt(W);Mt(W)?m.renderbufferStorageMultisampleEXT(36161,nt,$e,W.width,W.height):t.renderbufferStorageMultisample(36161,nt,$e,W.width,W.height)}else t.renderbufferStorage(36161,$e,W.width,W.height);t.framebufferRenderbuffer(36160,36096,36161,Q)}else if(W.depthBuffer&&W.stencilBuffer){const $e=bt(W);be&&Mt(W)===!1?t.renderbufferStorageMultisample(36161,$e,35056,W.width,W.height):Mt(W)?m.renderbufferStorageMultisampleEXT(36161,$e,35056,W.width,W.height):t.renderbufferStorage(36161,34041,W.width,W.height),t.framebufferRenderbuffer(36160,33306,36161,Q)}else{const $e=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let Ke=0;Ke<$e.length;Ke++){const nt=$e[Ke],_t=s.convert(nt.format,nt.encoding),it=s.convert(nt.type),De=P(nt.internalFormat,_t,it,nt.encoding),yt=bt(W);be&&Mt(W)===!1?t.renderbufferStorageMultisample(36161,yt,De,W.width,W.height):Mt(W)?m.renderbufferStorageMultisampleEXT(36161,yt,De,W.width,W.height):t.renderbufferStorage(36161,De,W.width,W.height)}}t.bindRenderbuffer(36161,null)}function Ie(Q,W){if(W&&W.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Q),!(W.depthTexture&&W.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(W.depthTexture).__webglTexture||W.depthTexture.image.width!==W.width||W.depthTexture.image.height!==W.height)&&(W.depthTexture.image.width=W.width,W.depthTexture.image.height=W.height,W.depthTexture.needsUpdate=!0),Z(W.depthTexture,0);const $e=r.get(W.depthTexture).__webglTexture,Ke=bt(W);if(W.depthTexture.format===uh)Mt(W)?m.framebufferTexture2DMultisampleEXT(36160,36096,3553,$e,0,Ke):t.framebufferTexture2D(36160,36096,3553,$e,0);else if(W.depthTexture.format===Rp)Mt(W)?m.framebufferTexture2DMultisampleEXT(36160,33306,3553,$e,0,Ke):t.framebufferTexture2D(36160,33306,3553,$e,0);else throw new Error("Unknown depthTexture format")}function Ae(Q){const W=r.get(Q),be=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!W.__autoAllocateDepthBuffer){if(be)throw new Error("target.depthTexture not supported in Cube render targets");Ie(W.__webglFramebuffer,Q)}else if(be){W.__webglDepthbuffer=[];for(let $e=0;$e<6;$e++)n.bindFramebuffer(36160,W.__webglFramebuffer[$e]),W.__webglDepthbuffer[$e]=t.createRenderbuffer(),pt(W.__webglDepthbuffer[$e],Q,!1)}else n.bindFramebuffer(36160,W.__webglFramebuffer),W.__webglDepthbuffer=t.createRenderbuffer(),pt(W.__webglDepthbuffer,Q,!1);n.bindFramebuffer(36160,null)}function qe(Q,W,be){const $e=r.get(Q);W!==void 0&&Fe($e.__webglFramebuffer,Q,Q.texture,36064,3553),be!==void 0&&Ae(Q)}function ct(Q){const W=Q.texture,be=r.get(Q),$e=r.get(W);Q.addEventListener("dispose",ie),Q.isWebGLMultipleRenderTargets!==!0&&($e.__webglTexture===void 0&&($e.__webglTexture=t.createTexture()),$e.__version=W.version,o.memory.textures++);const Ke=Q.isWebGLCubeRenderTarget===!0,nt=Q.isWebGLMultipleRenderTargets===!0,_t=T(Q)||a;if(Ke){be.__webglFramebuffer=[];for(let it=0;it<6;it++)be.__webglFramebuffer[it]=t.createFramebuffer()}else{if(be.__webglFramebuffer=t.createFramebuffer(),nt)if(i.drawBuffers){const it=Q.texture;for(let De=0,yt=it.length;De<yt;De++){const re=r.get(it[De]);re.__webglTexture===void 0&&(re.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Q.samples>0&&Mt(Q)===!1){const it=nt?W:[W];be.__webglMultisampledFramebuffer=t.createFramebuffer(),be.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,be.__webglMultisampledFramebuffer);for(let De=0;De<it.length;De++){const yt=it[De];be.__webglColorRenderbuffer[De]=t.createRenderbuffer(),t.bindRenderbuffer(36161,be.__webglColorRenderbuffer[De]);const re=s.convert(yt.format,yt.encoding),Te=s.convert(yt.type),je=P(yt.internalFormat,re,Te,yt.encoding,Q.isXRRenderTarget===!0),et=bt(Q);t.renderbufferStorageMultisample(36161,et,je,Q.width,Q.height),t.framebufferRenderbuffer(36160,36064+De,36161,be.__webglColorRenderbuffer[De])}t.bindRenderbuffer(36161,null),Q.depthBuffer&&(be.__webglDepthRenderbuffer=t.createRenderbuffer(),pt(be.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(36160,null)}}if(Ke){n.bindTexture(34067,$e.__webglTexture),pe(34067,W,_t);for(let it=0;it<6;it++)Fe(be.__webglFramebuffer[it],Q,W,36064,34069+it);k(W,_t)&&L(34067),n.unbindTexture()}else if(nt){const it=Q.texture;for(let De=0,yt=it.length;De<yt;De++){const re=it[De],Te=r.get(re);n.bindTexture(3553,Te.__webglTexture),pe(3553,re,_t),Fe(be.__webglFramebuffer,Q,re,36064+De,3553),k(re,_t)&&L(3553)}n.unbindTexture()}else{let it=3553;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(a?it=Q.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(it,$e.__webglTexture),pe(it,W,_t),Fe(be.__webglFramebuffer,Q,W,36064,it),k(W,_t)&&L(it),n.unbindTexture()}Q.depthBuffer&&Ae(Q)}function rt(Q){const W=T(Q)||a,be=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let $e=0,Ke=be.length;$e<Ke;$e++){const nt=be[$e];if(k(nt,W)){const _t=Q.isWebGLCubeRenderTarget?34067:3553,it=r.get(nt).__webglTexture;n.bindTexture(_t,it),L(_t),n.unbindTexture()}}}function St(Q){if(a&&Q.samples>0&&Mt(Q)===!1){const W=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],be=Q.width,$e=Q.height;let Ke=16384;const nt=[],_t=Q.stencilBuffer?33306:36096,it=r.get(Q),De=Q.isWebGLMultipleRenderTargets===!0;if(De)for(let yt=0;yt<W.length;yt++)n.bindFramebuffer(36160,it.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+yt,36161,null),n.bindFramebuffer(36160,it.__webglFramebuffer),t.framebufferTexture2D(36009,36064+yt,3553,null,0);n.bindFramebuffer(36008,it.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,it.__webglFramebuffer);for(let yt=0;yt<W.length;yt++){nt.push(36064+yt),Q.depthBuffer&&nt.push(_t);const re=it.__ignoreDepthValues!==void 0?it.__ignoreDepthValues:!1;if(re===!1&&(Q.depthBuffer&&(Ke|=256),Q.stencilBuffer&&(Ke|=1024)),De&&t.framebufferRenderbuffer(36008,36064,36161,it.__webglColorRenderbuffer[yt]),re===!0&&(t.invalidateFramebuffer(36008,[_t]),t.invalidateFramebuffer(36009,[_t])),De){const Te=r.get(W[yt]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,Te,0)}t.blitFramebuffer(0,0,be,$e,0,0,be,$e,Ke,9728),v&&t.invalidateFramebuffer(36008,nt)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),De)for(let yt=0;yt<W.length;yt++){n.bindFramebuffer(36160,it.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+yt,36161,it.__webglColorRenderbuffer[yt]);const re=r.get(W[yt]).__webglTexture;n.bindFramebuffer(36160,it.__webglFramebuffer),t.framebufferTexture2D(36009,36064+yt,3553,re,0)}n.bindFramebuffer(36009,it.__webglMultisampledFramebuffer)}}function bt(Q){return Math.min(p,Q.samples)}function Mt(Q){const W=r.get(Q);return a&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&W.__useRenderToTexture!==!1}function zt(Q){const W=o.render.frame;y.get(Q)!==W&&(y.set(Q,W),Q.update())}function Nt(Q,W){const be=Q.encoding,$e=Q.format,Ke=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||Q.format===fE||be!==zl&&(be===ir?a===!1?e.has("EXT_sRGB")===!0&&$e===la?(Q.format=fE,Q.minFilter=Er,Q.generateMipmaps=!1):W=oD.sRGBToLinear(W):($e!==la||Ke!==bh)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",be)),W}this.allocateTextureUnit=z,this.resetTextureUnits=fe,this.setTexture2D=Z,this.setTexture2DArray=B,this.setTexture3D=G,this.setTextureCube=le,this.rebindTextures=qe,this.setupRenderTarget=ct,this.updateRenderTargetMipmap=rt,this.updateMultisampleRenderTarget=St,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=Fe,this.useMultisampledRTT=Mt}function V9(t,e,n){const r=n.isWebGL2;function i(s,o=null){let a;if(s===bh)return 5121;if(s===f9)return 32819;if(s===h9)return 32820;if(s===l9)return 5120;if(s===u9)return 5122;if(s===rD)return 5123;if(s===c9)return 5124;if(s===Qf)return 5125;if(s===ca)return 5126;if(s===Xa)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===d9)return 6406;if(s===la)return 6408;if(s===m9)return 6409;if(s===g9)return 6410;if(s===uh)return 6402;if(s===Rp)return 34041;if(s===p9)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===fE)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===v9)return 6403;if(s===y9)return 36244;if(s===x9)return 33319;if(s===_9)return 33320;if(s===w9)return 36249;if(s===tM||s===nM||s===rM||s===iM)if(o===ir)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===tM)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===nM)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===rM)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===iM)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===tM)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===nM)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===rM)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===iM)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===b3||s===M3||s===E3||s===T3)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===b3)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===M3)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===E3)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===T3)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===S9)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===C3||s===A3)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===C3)return o===ir?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===A3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===P3||s===R3||s===I3||s===k3||s===L3||s===D3||s===O3||s===N3||s===F3||s===z3||s===B3||s===U3||s===V3||s===H3)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===P3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===R3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===I3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===k3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===L3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===D3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===O3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===N3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===F3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===z3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===B3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===U3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===V3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===H3)return o===ir?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===W3)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===W3)return o===ir?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===pp?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class H9 extends Pr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Lg extends Hn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Jbe={type:"move"};class GA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Lg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Lg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new X,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new X),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Lg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new X,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new X),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const x of e.hand.values()){const _=n.getJointPose(x,r),b=this._getHandJoint(u,x);_!==null&&(b.matrix.fromArray(_.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.jointRadius=_.radius),b.visible=_!==null}const c=u.joints["index-finger-tip"],p=u.joints["thumb-tip"],m=c.position.distanceTo(p.position),v=.02,y=.005;u.inputState.pinching&&m>v+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&m<=v-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Jbe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Lg;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class hD extends ti{constructor(e,n,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:uh,c!==uh&&c!==Rp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===uh&&(r=Qf),r===void 0&&c===Rp&&(r=pp),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:ci,this.minFilter=l!==void 0?l:ci,this.flipY=!1,this.generateMipmaps=!1}}class eMe extends zu{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,u=null,c=null,p=null,m=null,v=null;const y=n.getContextAttributes();let x=null,_=null;const b=[],M=[],w=new Set,T=new Map,A=new Pr;A.layers.enable(1),A.viewport=new sr;const k=new Pr;k.layers.enable(2),k.viewport=new sr;const L=[A,k],P=new H9;P.layers.enable(1),P.layers.enable(2);let O=null,N=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(B){let G=b[B];return G===void 0&&(G=new GA,b[B]=G),G.getTargetRaySpace()},this.getControllerGrip=function(B){let G=b[B];return G===void 0&&(G=new GA,b[B]=G),G.getGripSpace()},this.getHand=function(B){let G=b[B];return G===void 0&&(G=new GA,b[B]=G),G.getHandSpace()};function H(B){const G=M.indexOf(B.inputSource);if(G===-1)return;const le=b[G];le!==void 0&&le.dispatchEvent({type:B.type,data:B.inputSource})}function ie(){i.removeEventListener("select",H),i.removeEventListener("selectstart",H),i.removeEventListener("selectend",H),i.removeEventListener("squeeze",H),i.removeEventListener("squeezestart",H),i.removeEventListener("squeezeend",H),i.removeEventListener("end",ie),i.removeEventListener("inputsourceschange",te);for(let B=0;B<b.length;B++){const G=M[B];G!==null&&(M[B]=null,b[B].disconnect(G))}O=null,N=null,e.setRenderTarget(x),m=null,p=null,c=null,i=null,_=null,Z.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(B){s=B,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(B){a=B,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(B){l=B},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return c},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(B){if(i=B,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",H),i.addEventListener("selectstart",H),i.addEventListener("selectend",H),i.addEventListener("squeeze",H),i.addEventListener("squeezestart",H),i.addEventListener("squeezeend",H),i.addEventListener("end",ie),i.addEventListener("inputsourceschange",te),y.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const G={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,G),i.updateRenderState({baseLayer:m}),_=new yo(m.framebufferWidth,m.framebufferHeight,{format:la,type:bh,encoding:e.outputEncoding,stencilBuffer:y.stencil})}else{let G=null,le=null,we=null;y.depth&&(we=y.stencil?35056:33190,G=y.stencil?Rp:uh,le=y.stencil?pp:Qf);const Me={colorFormat:32856,depthFormat:we,scaleFactor:s};c=new XRWebGLBinding(i,n),p=c.createProjectionLayer(Me),i.updateRenderState({layers:[p]}),_=new yo(p.textureWidth,p.textureHeight,{format:la,type:bh,depthTexture:new hD(p.textureWidth,p.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,G),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0});const pe=e.properties.get(_);pe.__ignoreDepthValues=p.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),Z.setContext(i),Z.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function te(B){for(let G=0;G<B.removed.length;G++){const le=B.removed[G],we=M.indexOf(le);we>=0&&(M[we]=null,b[we].disconnect(le))}for(let G=0;G<B.added.length;G++){const le=B.added[G];let we=M.indexOf(le);if(we===-1){for(let pe=0;pe<b.length;pe++)if(pe>=M.length){M.push(le),we=pe;break}else if(M[pe]===null){M[pe]=le,we=pe;break}if(we===-1)break}const Me=b[we];Me&&Me.connect(le)}}const ee=new X,ue=new X;function ae(B,G,le){ee.setFromMatrixPosition(G.matrixWorld),ue.setFromMatrixPosition(le.matrixWorld);const we=ee.distanceTo(ue),Me=G.projectionMatrix.elements,pe=le.projectionMatrix.elements,We=Me[14]/(Me[10]-1),Be=Me[14]/(Me[10]+1),Qe=(Me[9]+1)/Me[5],Fe=(Me[9]-1)/Me[5],pt=(Me[8]-1)/Me[0],Ie=(pe[8]+1)/pe[0],Ae=We*pt,qe=We*Ie,ct=we/(-pt+Ie),rt=ct*-pt;G.matrixWorld.decompose(B.position,B.quaternion,B.scale),B.translateX(rt),B.translateZ(ct),B.matrixWorld.compose(B.position,B.quaternion,B.scale),B.matrixWorldInverse.copy(B.matrixWorld).invert();const St=We+ct,bt=Be+ct,Mt=Ae-rt,zt=qe+(we-rt),Nt=Qe*Be/bt*St,Q=Fe*Be/bt*St;B.projectionMatrix.makePerspective(Mt,zt,Nt,Q,St,bt)}function fe(B,G){G===null?B.matrixWorld.copy(B.matrix):B.matrixWorld.multiplyMatrices(G.matrixWorld,B.matrix),B.matrixWorldInverse.copy(B.matrixWorld).invert()}this.updateCamera=function(B){if(i===null)return;P.near=k.near=A.near=B.near,P.far=k.far=A.far=B.far,(O!==P.near||N!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),O=P.near,N=P.far);const G=B.parent,le=P.cameras;fe(P,G);for(let Me=0;Me<le.length;Me++)fe(le[Me],G);P.matrixWorld.decompose(P.position,P.quaternion,P.scale),B.matrix.copy(P.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale);const we=B.children;for(let Me=0,pe=we.length;Me<pe;Me++)we[Me].updateMatrixWorld(!0);le.length===2?ae(P,A,k):P.projectionMatrix.copy(A.projectionMatrix)},this.getCamera=function(){return P},this.getFoveation=function(){if(p!==null)return p.fixedFoveation;if(m!==null)return m.fixedFoveation},this.setFoveation=function(B){p!==null&&(p.fixedFoveation=B),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=B)},this.getPlanes=function(){return w};let z=null;function Y(B,G){if(u=G.getViewerPose(l||o),v=G,u!==null){const le=u.views;m!==null&&(e.setRenderTargetFramebuffer(_,m.framebuffer),e.setRenderTarget(_));let we=!1;le.length!==P.cameras.length&&(P.cameras.length=0,we=!0);for(let Me=0;Me<le.length;Me++){const pe=le[Me];let We=null;if(m!==null)We=m.getViewport(pe);else{const Qe=c.getViewSubImage(p,pe);We=Qe.viewport,Me===0&&(e.setRenderTargetTextures(_,Qe.colorTexture,p.ignoreDepthValues?void 0:Qe.depthStencilTexture),e.setRenderTarget(_))}let Be=L[Me];Be===void 0&&(Be=new Pr,Be.layers.enable(Me),Be.viewport=new sr,L[Me]=Be),Be.matrix.fromArray(pe.transform.matrix),Be.projectionMatrix.fromArray(pe.projectionMatrix),Be.viewport.set(We.x,We.y,We.width,We.height),Me===0&&P.matrix.copy(Be.matrix),we===!0&&P.cameras.push(Be)}}for(let le=0;le<b.length;le++){const we=M[le],Me=b[le];we!==null&&Me!==void 0&&Me.update(we,G,l||o)}if(z&&z(B,G),G.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:G.detectedPlanes});let le=null;for(const we of w)G.detectedPlanes.has(we)||(le===null&&(le=[]),le.push(we));if(le!==null)for(const we of le)w.delete(we),T.delete(we),r.dispatchEvent({type:"planeremoved",data:we});for(const we of G.detectedPlanes)if(!w.has(we))w.add(we),T.set(we,G.lastChangedTime),r.dispatchEvent({type:"planeadded",data:we});else{const Me=T.get(we);we.lastChangedTime>Me&&(T.set(we,we.lastChangedTime),r.dispatchEvent({type:"planechanged",data:we}))}}v=null}const Z=new N9;Z.setAnimationLoop(Y),this.setAnimationLoop=function(B){z=B},this.dispose=function(){}}}function tMe(t,e){function n(x,_){_.color.getRGB(x.fogColor.value,L9(t)),_.isFog?(x.fogNear.value=_.near,x.fogFar.value=_.far):_.isFogExp2&&(x.fogDensity.value=_.density)}function r(x,_,b,M,w){_.isMeshBasicMaterial||_.isMeshLambertMaterial?i(x,_):_.isMeshToonMaterial?(i(x,_),c(x,_)):_.isMeshPhongMaterial?(i(x,_),u(x,_)):_.isMeshStandardMaterial?(i(x,_),p(x,_),_.isMeshPhysicalMaterial&&m(x,_,w)):_.isMeshMatcapMaterial?(i(x,_),v(x,_)):_.isMeshDepthMaterial?i(x,_):_.isMeshDistanceMaterial?(i(x,_),y(x,_)):_.isMeshNormalMaterial?i(x,_):_.isLineBasicMaterial?(s(x,_),_.isLineDashedMaterial&&o(x,_)):_.isPointsMaterial?a(x,_,b,M):_.isSpriteMaterial?l(x,_):_.isShadowMaterial?(x.color.value.copy(_.color),x.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function i(x,_){x.opacity.value=_.opacity,_.color&&x.diffuse.value.copy(_.color),_.emissive&&x.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(x.map.value=_.map),_.alphaMap&&(x.alphaMap.value=_.alphaMap),_.bumpMap&&(x.bumpMap.value=_.bumpMap,x.bumpScale.value=_.bumpScale,_.side===da&&(x.bumpScale.value*=-1)),_.displacementMap&&(x.displacementMap.value=_.displacementMap,x.displacementScale.value=_.displacementScale,x.displacementBias.value=_.displacementBias),_.emissiveMap&&(x.emissiveMap.value=_.emissiveMap),_.normalMap&&(x.normalMap.value=_.normalMap,x.normalScale.value.copy(_.normalScale),_.side===da&&x.normalScale.value.negate()),_.specularMap&&(x.specularMap.value=_.specularMap),_.alphaTest>0&&(x.alphaTest.value=_.alphaTest);const b=e.get(_).envMap;if(b&&(x.envMap.value=b,x.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=_.reflectivity,x.ior.value=_.ior,x.refractionRatio.value=_.refractionRatio),_.lightMap){x.lightMap.value=_.lightMap;const T=t.physicallyCorrectLights!==!0?Math.PI:1;x.lightMapIntensity.value=_.lightMapIntensity*T}_.aoMap&&(x.aoMap.value=_.aoMap,x.aoMapIntensity.value=_.aoMapIntensity);let M;_.map?M=_.map:_.specularMap?M=_.specularMap:_.displacementMap?M=_.displacementMap:_.normalMap?M=_.normalMap:_.bumpMap?M=_.bumpMap:_.roughnessMap?M=_.roughnessMap:_.metalnessMap?M=_.metalnessMap:_.alphaMap?M=_.alphaMap:_.emissiveMap?M=_.emissiveMap:_.clearcoatMap?M=_.clearcoatMap:_.clearcoatNormalMap?M=_.clearcoatNormalMap:_.clearcoatRoughnessMap?M=_.clearcoatRoughnessMap:_.iridescenceMap?M=_.iridescenceMap:_.iridescenceThicknessMap?M=_.iridescenceThicknessMap:_.specularIntensityMap?M=_.specularIntensityMap:_.specularColorMap?M=_.specularColorMap:_.transmissionMap?M=_.transmissionMap:_.thicknessMap?M=_.thicknessMap:_.sheenColorMap?M=_.sheenColorMap:_.sheenRoughnessMap&&(M=_.sheenRoughnessMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),x.uvTransform.value.copy(M.matrix));let w;_.aoMap?w=_.aoMap:_.lightMap&&(w=_.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),x.uv2Transform.value.copy(w.matrix))}function s(x,_){x.diffuse.value.copy(_.color),x.opacity.value=_.opacity}function o(x,_){x.dashSize.value=_.dashSize,x.totalSize.value=_.dashSize+_.gapSize,x.scale.value=_.scale}function a(x,_,b,M){x.diffuse.value.copy(_.color),x.opacity.value=_.opacity,x.size.value=_.size*b,x.scale.value=M*.5,_.map&&(x.map.value=_.map),_.alphaMap&&(x.alphaMap.value=_.alphaMap),_.alphaTest>0&&(x.alphaTest.value=_.alphaTest);let w;_.map?w=_.map:_.alphaMap&&(w=_.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),x.uvTransform.value.copy(w.matrix))}function l(x,_){x.diffuse.value.copy(_.color),x.opacity.value=_.opacity,x.rotation.value=_.rotation,_.map&&(x.map.value=_.map),_.alphaMap&&(x.alphaMap.value=_.alphaMap),_.alphaTest>0&&(x.alphaTest.value=_.alphaTest);let b;_.map?b=_.map:_.alphaMap&&(b=_.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),x.uvTransform.value.copy(b.matrix))}function u(x,_){x.specular.value.copy(_.specular),x.shininess.value=Math.max(_.shininess,1e-4)}function c(x,_){_.gradientMap&&(x.gradientMap.value=_.gradientMap)}function p(x,_){x.roughness.value=_.roughness,x.metalness.value=_.metalness,_.roughnessMap&&(x.roughnessMap.value=_.roughnessMap),_.metalnessMap&&(x.metalnessMap.value=_.metalnessMap),e.get(_).envMap&&(x.envMapIntensity.value=_.envMapIntensity)}function m(x,_,b){x.ior.value=_.ior,_.sheen>0&&(x.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),x.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(x.sheenColorMap.value=_.sheenColorMap),_.sheenRoughnessMap&&(x.sheenRoughnessMap.value=_.sheenRoughnessMap)),_.clearcoat>0&&(x.clearcoat.value=_.clearcoat,x.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(x.clearcoatMap.value=_.clearcoatMap),_.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap),_.clearcoatNormalMap&&(x.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),x.clearcoatNormalMap.value=_.clearcoatNormalMap,_.side===da&&x.clearcoatNormalScale.value.negate())),_.iridescence>0&&(x.iridescence.value=_.iridescence,x.iridescenceIOR.value=_.iridescenceIOR,x.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(x.iridescenceMap.value=_.iridescenceMap),_.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=_.iridescenceThicknessMap)),_.transmission>0&&(x.transmission.value=_.transmission,x.transmissionSamplerMap.value=b.texture,x.transmissionSamplerSize.value.set(b.width,b.height),_.transmissionMap&&(x.transmissionMap.value=_.transmissionMap),x.thickness.value=_.thickness,_.thicknessMap&&(x.thicknessMap.value=_.thicknessMap),x.attenuationDistance.value=_.attenuationDistance,x.attenuationColor.value.copy(_.attenuationColor)),x.specularIntensity.value=_.specularIntensity,x.specularColor.value.copy(_.specularColor),_.specularIntensityMap&&(x.specularIntensityMap.value=_.specularIntensityMap),_.specularColorMap&&(x.specularColorMap.value=_.specularColorMap)}function v(x,_){_.matcap&&(x.matcap.value=_.matcap)}function y(x,_){x.referencePosition.value.copy(_.referencePosition),x.nearDistance.value=_.nearDistance,x.farDistance.value=_.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function nMe(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(35375):0;function l(M,w){const T=w.program;r.uniformBlockBinding(M,T)}function u(M,w){let T=i[M.id];T===void 0&&(y(M),T=c(M),i[M.id]=T,M.addEventListener("dispose",_));const A=w.program;r.updateUBOMapping(M,A);const k=e.render.frame;s[M.id]!==k&&(m(M),s[M.id]=k)}function c(M){const w=p();M.__bindingPointIndex=w;const T=t.createBuffer(),A=M.__size,k=M.usage;return t.bindBuffer(35345,T),t.bufferData(35345,A,k),t.bindBuffer(35345,null),t.bindBufferBase(35345,w,T),T}function p(){for(let M=0;M<a;M++)if(o.indexOf(M)===-1)return o.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(M){const w=i[M.id],T=M.uniforms,A=M.__cache;t.bindBuffer(35345,w);for(let k=0,L=T.length;k<L;k++){const P=T[k];if(v(P,k,A)===!0){const O=P.__offset,N=Array.isArray(P.value)?P.value:[P.value];let H=0;for(let ie=0;ie<N.length;ie++){const te=N[ie],ee=x(te);typeof te=="number"?(P.__data[0]=te,t.bufferSubData(35345,O+H,P.__data)):te.isMatrix3?(P.__data[0]=te.elements[0],P.__data[1]=te.elements[1],P.__data[2]=te.elements[2],P.__data[3]=te.elements[0],P.__data[4]=te.elements[3],P.__data[5]=te.elements[4],P.__data[6]=te.elements[5],P.__data[7]=te.elements[0],P.__data[8]=te.elements[6],P.__data[9]=te.elements[7],P.__data[10]=te.elements[8],P.__data[11]=te.elements[0]):(te.toArray(P.__data,H),H+=ee.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,O,P.__data)}}t.bindBuffer(35345,null)}function v(M,w,T){const A=M.value;if(T[w]===void 0){if(typeof A=="number")T[w]=A;else{const k=Array.isArray(A)?A:[A],L=[];for(let P=0;P<k.length;P++)L.push(k[P].clone());T[w]=L}return!0}else if(typeof A=="number"){if(T[w]!==A)return T[w]=A,!0}else{const k=Array.isArray(T[w])?T[w]:[T[w]],L=Array.isArray(A)?A:[A];for(let P=0;P<k.length;P++){const O=k[P];if(O.equals(L[P])===!1)return O.copy(L[P]),!0}}return!1}function y(M){const w=M.uniforms;let T=0;const A=16;let k=0;for(let L=0,P=w.length;L<P;L++){const O=w[L],N={boundary:0,storage:0},H=Array.isArray(O.value)?O.value:[O.value];for(let ie=0,te=H.length;ie<te;ie++){const ee=H[ie],ue=x(ee);N.boundary+=ue.boundary,N.storage+=ue.storage}if(O.__data=new Float32Array(N.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=T,L>0){k=T%A;const ie=A-k;k!==0&&ie-N.boundary<0&&(T+=A-k,O.__offset=T)}T+=N.storage}return k=T%A,k>0&&(T+=A-k),M.__size=T,M.__cache={},this}function x(M){const w={boundary:0,storage:0};return typeof M=="number"?(w.boundary=4,w.storage=4):M.isVector2?(w.boundary=8,w.storage=8):M.isVector3||M.isColor?(w.boundary=16,w.storage=12):M.isVector4?(w.boundary=16,w.storage=16):M.isMatrix3?(w.boundary=48,w.storage=48):M.isMatrix4?(w.boundary=64,w.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),w}function _(M){const w=M.target;w.removeEventListener("dispose",_);const T=o.indexOf(w.__bindingPointIndex);o.splice(T,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function b(){for(const M in i)t.deleteBuffer(i[M]);o=[],i={},s={}}return{bind:l,update:u,dispose:b}}function rMe(){const t=p1("canvas");return t.style.display="block",t}function dD(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:rMe(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",u=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let c;n!==null?c=n.getContextAttributes().alpha:c=t.alpha!==void 0?t.alpha:!1;let p=null,m=null;const v=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=zl,this.physicallyCorrectLights=!1,this.toneMapping=Ol,this.toneMappingExposure=1;const x=this;let _=!1,b=0,M=0,w=null,T=-1,A=null;const k=new sr,L=new sr;let P=null,O=e.width,N=e.height,H=1,ie=null,te=null;const ee=new sr(0,0,O,N),ue=new sr(0,0,O,N);let ae=!1;const fe=new ZT;let z=!1,Y=!1,Z=null;const B=new vn,G=new Ne,le=new X,we={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Me(){return w===null?H:1}let pe=n;function We(q,ye){for(let Le=0;Le<q.length;Le++){const xe=q[Le],Oe=e.getContext(xe,ye);if(Oe!==null)return Oe}return null}try{const q={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${XT}`),e.addEventListener("webglcontextlost",je,!1),e.addEventListener("webglcontextrestored",et,!1),e.addEventListener("webglcontextcreationerror",wt,!1),pe===null){const ye=["webgl2","webgl","experimental-webgl"];if(x.isWebGL1Renderer===!0&&ye.shift(),pe=We(ye,q),pe===null)throw We(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}pe.getShaderPrecisionFormat===void 0&&(pe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(q){throw console.error("THREE.WebGLRenderer: "+q.message),q}let Be,Qe,Fe,pt,Ie,Ae,qe,ct,rt,St,bt,Mt,zt,Nt,Q,W,be,$e,Ke,nt,_t,it,De,yt;function re(){Be=new xSe(pe),Qe=new dSe(pe,Be,t),Be.init(Qe),it=new V9(pe,Be,Qe),Fe=new Kbe(pe,Be,Qe),pt=new SSe,Ie=new Bbe,Ae=new Zbe(pe,Be,Fe,Ie,Qe,it,pt),qe=new mSe(x),ct=new ySe(x),rt=new I1e(pe,Qe),De=new fSe(pe,Be,rt,Qe),St=new _Se(pe,rt,pt,De),bt=new TSe(pe,St,rt,pt),Ke=new ESe(pe,Qe,Ae),W=new pSe(Ie),Mt=new zbe(x,qe,ct,Be,Qe,De,W),zt=new tMe(x,Ie),Nt=new Vbe,Q=new qbe(Be,Qe),$e=new cSe(x,qe,ct,Fe,bt,c,o),be=new Qbe(x,bt,Qe),yt=new nMe(pe,pt,Qe,Fe),nt=new hSe(pe,Be,pt,Qe),_t=new wSe(pe,Be,pt,Qe),pt.programs=Mt.programs,x.capabilities=Qe,x.extensions=Be,x.properties=Ie,x.renderLists=Nt,x.shadowMap=be,x.state=Fe,x.info=pt}re();const Te=new eMe(x,pe);this.xr=Te,this.getContext=function(){return pe},this.getContextAttributes=function(){return pe.getContextAttributes()},this.forceContextLoss=function(){const q=Be.get("WEBGL_lose_context");q&&q.loseContext()},this.forceContextRestore=function(){const q=Be.get("WEBGL_lose_context");q&&q.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(q){q!==void 0&&(H=q,this.setSize(O,N,!1))},this.getSize=function(q){return q.set(O,N)},this.setSize=function(q,ye,Le){if(Te.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=q,N=ye,e.width=Math.floor(q*H),e.height=Math.floor(ye*H),Le!==!1&&(e.style.width=q+"px",e.style.height=ye+"px"),this.setViewport(0,0,q,ye)},this.getDrawingBufferSize=function(q){return q.set(O*H,N*H).floor()},this.setDrawingBufferSize=function(q,ye,Le){O=q,N=ye,H=Le,e.width=Math.floor(q*Le),e.height=Math.floor(ye*Le),this.setViewport(0,0,q,ye)},this.getCurrentViewport=function(q){return q.copy(k)},this.getViewport=function(q){return q.copy(ee)},this.setViewport=function(q,ye,Le,xe){q.isVector4?ee.set(q.x,q.y,q.z,q.w):ee.set(q,ye,Le,xe),Fe.viewport(k.copy(ee).multiplyScalar(H).floor())},this.getScissor=function(q){return q.copy(ue)},this.setScissor=function(q,ye,Le,xe){q.isVector4?ue.set(q.x,q.y,q.z,q.w):ue.set(q,ye,Le,xe),Fe.scissor(L.copy(ue).multiplyScalar(H).floor())},this.getScissorTest=function(){return ae},this.setScissorTest=function(q){Fe.setScissorTest(ae=q)},this.setOpaqueSort=function(q){ie=q},this.setTransparentSort=function(q){te=q},this.getClearColor=function(q){return q.copy($e.getClearColor())},this.setClearColor=function(){$e.setClearColor.apply($e,arguments)},this.getClearAlpha=function(){return $e.getClearAlpha()},this.setClearAlpha=function(){$e.setClearAlpha.apply($e,arguments)},this.clear=function(q=!0,ye=!0,Le=!0){let xe=0;q&&(xe|=16384),ye&&(xe|=256),Le&&(xe|=1024),pe.clear(xe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",je,!1),e.removeEventListener("webglcontextrestored",et,!1),e.removeEventListener("webglcontextcreationerror",wt,!1),Nt.dispose(),Q.dispose(),Ie.dispose(),qe.dispose(),ct.dispose(),bt.dispose(),De.dispose(),yt.dispose(),Mt.dispose(),Te.dispose(),Te.removeEventListener("sessionstart",at),Te.removeEventListener("sessionend",Tt),Z&&(Z.dispose(),Z=null),ln.stop()};function je(q){q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function et(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const q=pt.autoReset,ye=be.enabled,Le=be.autoUpdate,xe=be.needsUpdate,Oe=be.type;re(),pt.autoReset=q,be.enabled=ye,be.autoUpdate=Le,be.needsUpdate=xe,be.type=Oe}function wt(q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",q.statusMessage)}function Kt(q){const ye=q.target;ye.removeEventListener("dispose",Kt),tr(ye)}function tr(q){de(q),Ie.remove(q)}function de(q){const ye=Ie.get(q).programs;ye!==void 0&&(ye.forEach(function(Le){Mt.releaseProgram(Le)}),q.isShaderMaterial&&Mt.releaseShaderCache(q))}this.renderBufferDirect=function(q,ye,Le,xe,Oe,kt){ye===null&&(ye=we);const qt=Oe.isMesh&&Oe.matrixWorld.determinant()<0,Ht=Vh(q,ye,Le,xe,Oe);Fe.setMaterial(xe,qt);let un=Le.index,En=1;xe.wireframe===!0&&(un=St.getWireframeAttribute(Le),En=2);const _n=Le.drawRange,wn=Le.attributes.position;let mr=_n.start*En,Ei=(_n.start+_n.count)*En;kt!==null&&(mr=Math.max(mr,kt.start*En),Ei=Math.min(Ei,(kt.start+kt.count)*En)),un!==null?(mr=Math.max(mr,0),Ei=Math.min(Ei,un.count)):wn!=null&&(mr=Math.max(mr,0),Ei=Math.min(Ei,wn.count));const mi=Ei-mr;if(mi<0||mi===1/0)return;De.setup(Oe,xe,Ht,Le,un);let Ho,On=nt;if(un!==null&&(Ho=rt.get(un),On=_t,On.setIndex(Ho)),Oe.isMesh)xe.wireframe===!0?(Fe.setLineWidth(xe.wireframeLinewidth*Me()),On.setMode(1)):On.setMode(4);else if(Oe.isLine){let Jt=xe.linewidth;Jt===void 0&&(Jt=1),Fe.setLineWidth(Jt*Me()),Oe.isLineSegments?On.setMode(1):Oe.isLineLoop?On.setMode(2):On.setMode(3)}else Oe.isPoints?On.setMode(0):Oe.isSprite&&On.setMode(4);if(Oe.isInstancedMesh)On.renderInstances(mr,mi,Oe.count);else if(Le.isInstancedBufferGeometry){const Jt=Le._maxInstanceCount!==void 0?Le._maxInstanceCount:1/0,rl=Math.min(Le.instanceCount,Jt);On.renderInstances(mr,mi,rl)}else On.render(mr,mi)},this.compile=function(q,ye){function Le(xe,Oe,kt){xe.transparent===!0&&xe.side===Oy?(xe.side=da,xe.needsUpdate=!0,pr(xe,Oe,kt),xe.side=_h,xe.needsUpdate=!0,pr(xe,Oe,kt),xe.side=Oy):pr(xe,Oe,kt)}m=Q.get(q),m.init(),y.push(m),q.traverseVisible(function(xe){xe.isLight&&xe.layers.test(ye.layers)&&(m.pushLight(xe),xe.castShadow&&m.pushShadow(xe))}),m.setupLights(x.physicallyCorrectLights),q.traverse(function(xe){const Oe=xe.material;if(Oe)if(Array.isArray(Oe))for(let kt=0;kt<Oe.length;kt++){const qt=Oe[kt];Le(qt,q,xe)}else Le(Oe,q,xe)}),y.pop(),m=null};let Pe=null;function Ve(q){Pe&&Pe(q)}function at(){ln.stop()}function Tt(){ln.start()}const ln=new N9;ln.setAnimationLoop(Ve),typeof self<"u"&&ln.setContext(self),this.setAnimationLoop=function(q){Pe=q,Te.setAnimationLoop(q),q===null?ln.stop():ln.start()},Te.addEventListener("sessionstart",at),Te.addEventListener("sessionend",Tt),this.render=function(q,ye){if(ye!==void 0&&ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),Te.enabled===!0&&Te.isPresenting===!0&&(Te.cameraAutoUpdate===!0&&Te.updateCamera(ye),ye=Te.getCamera()),q.isScene===!0&&q.onBeforeRender(x,q,ye,w),m=Q.get(q,y.length),m.init(),y.push(m),B.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),fe.setFromProjectionMatrix(B),Y=this.localClippingEnabled,z=W.init(this.clippingPlanes,Y,ye),p=Nt.get(q,v.length),p.init(),v.push(p),wr(q,ye,0,x.sortObjects),p.finish(),x.sortObjects===!0&&p.sort(ie,te),z===!0&&W.beginShadows();const Le=m.state.shadowsArray;if(be.render(Le,q,ye),z===!0&&W.endShadows(),this.info.autoReset===!0&&this.info.reset(),$e.render(p,q),m.setupLights(x.physicallyCorrectLights),ye.isArrayCamera){const xe=ye.cameras;for(let Oe=0,kt=xe.length;Oe<kt;Oe++){const qt=xe[Oe];Wr(p,q,qt,qt.viewport)}}else Wr(p,q,ye);w!==null&&(Ae.updateMultisampleRenderTarget(w),Ae.updateRenderTargetMipmap(w)),q.isScene===!0&&q.onAfterRender(x,q,ye),De.resetDefaultState(),T=-1,A=null,y.pop(),y.length>0?m=y[y.length-1]:m=null,v.pop(),v.length>0?p=v[v.length-1]:p=null};function wr(q,ye,Le,xe){if(q.visible===!1)return;if(q.layers.test(ye.layers)){if(q.isGroup)Le=q.renderOrder;else if(q.isLOD)q.autoUpdate===!0&&q.update(ye);else if(q.isLight)m.pushLight(q),q.castShadow&&m.pushShadow(q);else if(q.isSprite){if(!q.frustumCulled||fe.intersectsSprite(q)){xe&&le.setFromMatrixPosition(q.matrixWorld).applyMatrix4(B);const qt=bt.update(q),Ht=q.material;Ht.visible&&p.push(q,qt,Ht,Le,le.z,null)}}else if((q.isMesh||q.isLine||q.isPoints)&&(q.isSkinnedMesh&&q.skeleton.frame!==pt.render.frame&&(q.skeleton.update(),q.skeleton.frame=pt.render.frame),!q.frustumCulled||fe.intersectsObject(q))){xe&&le.setFromMatrixPosition(q.matrixWorld).applyMatrix4(B);const qt=bt.update(q),Ht=q.material;if(Array.isArray(Ht)){const un=qt.groups;for(let En=0,_n=un.length;En<_n;En++){const wn=un[En],mr=Ht[wn.materialIndex];mr&&mr.visible&&p.push(q,qt,mr,Le,le.z,wn)}}else Ht.visible&&p.push(q,qt,Ht,Le,le.z,null)}}const kt=q.children;for(let qt=0,Ht=kt.length;qt<Ht;qt++)wr(kt[qt],ye,Le,xe)}function Wr(q,ye,Le,xe){const Oe=q.opaque,kt=q.transmissive,qt=q.transparent;m.setupLightsView(Le),kt.length>0&&Xs(Oe,ye,Le),xe&&Fe.viewport(k.copy(xe)),Oe.length>0&&Wn(Oe,ye,Le),kt.length>0&&Wn(kt,ye,Le),qt.length>0&&Wn(qt,ye,Le),Fe.buffers.depth.setTest(!0),Fe.buffers.depth.setMask(!0),Fe.buffers.color.setMask(!0),Fe.setPolygonOffset(!1)}function Xs(q,ye,Le){const xe=Qe.isWebGL2;Z===null&&(Z=new yo(1,1,{generateMipmaps:!0,type:Be.has("EXT_color_buffer_half_float")?Xa:bh,minFilter:Sh,samples:xe&&s===!0?4:0})),x.getDrawingBufferSize(G),xe?Z.setSize(G.x,G.y):Z.setSize(hE(G.x),hE(G.y));const Oe=x.getRenderTarget();x.setRenderTarget(Z),x.clear();const kt=x.toneMapping;x.toneMapping=Ol,Wn(q,ye,Le),x.toneMapping=kt,Ae.updateMultisampleRenderTarget(Z),Ae.updateRenderTargetMipmap(Z),x.setRenderTarget(Oe)}function Wn(q,ye,Le){const xe=ye.isScene===!0?ye.overrideMaterial:null;for(let Oe=0,kt=q.length;Oe<kt;Oe++){const qt=q[Oe],Ht=qt.object,un=qt.geometry,En=xe===null?qt.material:xe,_n=qt.group;Ht.layers.test(Le.layers)&&Ms(Ht,ye,Le,un,En,_n)}}function Ms(q,ye,Le,xe,Oe,kt){q.onBeforeRender(x,ye,Le,xe,Oe,kt),q.modelViewMatrix.multiplyMatrices(Le.matrixWorldInverse,q.matrixWorld),q.normalMatrix.getNormalMatrix(q.modelViewMatrix),Oe.onBeforeRender(x,ye,Le,xe,q,kt),Oe.transparent===!0&&Oe.side===Oy?(Oe.side=da,Oe.needsUpdate=!0,x.renderBufferDirect(Le,ye,xe,Oe,q,kt),Oe.side=_h,Oe.needsUpdate=!0,x.renderBufferDirect(Le,ye,xe,Oe,q,kt),Oe.side=Oy):x.renderBufferDirect(Le,ye,xe,Oe,q,kt),q.onAfterRender(x,ye,Le,xe,Oe,kt)}function pr(q,ye,Le){ye.isScene!==!0&&(ye=we);const xe=Ie.get(q),Oe=m.state.lights,kt=m.state.shadowsArray,qt=Oe.state.version,Ht=Mt.getParameters(q,Oe.state,kt,ye,Le),un=Mt.getProgramCacheKey(Ht);let En=xe.programs;xe.environment=q.isMeshStandardMaterial?ye.environment:null,xe.fog=ye.fog,xe.envMap=(q.isMeshStandardMaterial?ct:qe).get(q.envMap||xe.environment),En===void 0&&(q.addEventListener("dispose",Kt),En=new Map,xe.programs=En);let _n=En.get(un);if(_n!==void 0){if(xe.currentProgram===_n&&xe.lightsStateVersion===qt)return Hl(q,Ht),_n}else Ht.uniforms=Mt.getUniforms(q),q.onBuild(Le,Ht,x),q.onBeforeCompile(Ht,x),_n=Mt.acquireProgram(Ht,un),En.set(un,_n),xe.uniforms=Ht.uniforms;const wn=xe.uniforms;(!q.isShaderMaterial&&!q.isRawShaderMaterial||q.clipping===!0)&&(wn.clippingPlanes=W.uniform),Hl(q,Ht),xe.needsLights=Uu(q),xe.lightsStateVersion=qt,xe.needsLights&&(wn.ambientLightColor.value=Oe.state.ambient,wn.lightProbe.value=Oe.state.probe,wn.directionalLights.value=Oe.state.directional,wn.directionalLightShadows.value=Oe.state.directionalShadow,wn.spotLights.value=Oe.state.spot,wn.spotLightShadows.value=Oe.state.spotShadow,wn.rectAreaLights.value=Oe.state.rectArea,wn.ltc_1.value=Oe.state.rectAreaLTC1,wn.ltc_2.value=Oe.state.rectAreaLTC2,wn.pointLights.value=Oe.state.point,wn.pointLightShadows.value=Oe.state.pointShadow,wn.hemisphereLights.value=Oe.state.hemi,wn.directionalShadowMap.value=Oe.state.directionalShadowMap,wn.directionalShadowMatrix.value=Oe.state.directionalShadowMatrix,wn.spotShadowMap.value=Oe.state.spotShadowMap,wn.spotLightMatrix.value=Oe.state.spotLightMatrix,wn.spotLightMap.value=Oe.state.spotLightMap,wn.pointShadowMap.value=Oe.state.pointShadowMap,wn.pointShadowMatrix.value=Oe.state.pointShadowMatrix);const mr=_n.getUniforms(),Ei=lM.seqWithValue(mr.seq,wn);return xe.currentProgram=_n,xe.uniformsList=Ei,_n}function Hl(q,ye){const Le=Ie.get(q);Le.outputEncoding=ye.outputEncoding,Le.instancing=ye.instancing,Le.skinning=ye.skinning,Le.morphTargets=ye.morphTargets,Le.morphNormals=ye.morphNormals,Le.morphColors=ye.morphColors,Le.morphTargetsCount=ye.morphTargetsCount,Le.numClippingPlanes=ye.numClippingPlanes,Le.numIntersection=ye.numClipIntersection,Le.vertexAlphas=ye.vertexAlphas,Le.vertexTangents=ye.vertexTangents,Le.toneMapping=ye.toneMapping}function Vh(q,ye,Le,xe,Oe){ye.isScene!==!0&&(ye=we),Ae.resetTextureUnits();const kt=ye.fog,qt=xe.isMeshStandardMaterial?ye.environment:null,Ht=w===null?x.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:zl,un=(xe.isMeshStandardMaterial?ct:qe).get(xe.envMap||qt),En=xe.vertexColors===!0&&!!Le.attributes.color&&Le.attributes.color.itemSize===4,_n=!!xe.normalMap&&!!Le.attributes.tangent,wn=!!Le.morphAttributes.position,mr=!!Le.morphAttributes.normal,Ei=!!Le.morphAttributes.color,mi=xe.toneMapped?x.toneMapping:Ol,Ho=Le.morphAttributes.position||Le.morphAttributes.normal||Le.morphAttributes.color,On=Ho!==void 0?Ho.length:0,Jt=Ie.get(xe),rl=m.state.lights;if(z===!0&&(Y===!0||q!==A)){const Ln=q===A&&xe.id===T;W.setState(xe,q,Ln)}let nr=!1;xe.version===Jt.__version?(Jt.needsLights&&Jt.lightsStateVersion!==rl.state.version||Jt.outputEncoding!==Ht||Oe.isInstancedMesh&&Jt.instancing===!1||!Oe.isInstancedMesh&&Jt.instancing===!0||Oe.isSkinnedMesh&&Jt.skinning===!1||!Oe.isSkinnedMesh&&Jt.skinning===!0||Jt.envMap!==un||xe.fog===!0&&Jt.fog!==kt||Jt.numClippingPlanes!==void 0&&(Jt.numClippingPlanes!==W.numPlanes||Jt.numIntersection!==W.numIntersection)||Jt.vertexAlphas!==En||Jt.vertexTangents!==_n||Jt.morphTargets!==wn||Jt.morphNormals!==mr||Jt.morphColors!==Ei||Jt.toneMapping!==mi||Qe.isWebGL2===!0&&Jt.morphTargetsCount!==On)&&(nr=!0):(nr=!0,Jt.__version=xe.version);let Ys=Jt.currentProgram;nr===!0&&(Ys=pr(xe,ye,Oe));let il=!1,os=!1,Es=!1;const en=Ys.getUniforms(),Tn=Jt.uniforms;if(Fe.useProgram(Ys.program)&&(il=!0,os=!0,Es=!0),xe.id!==T&&(T=xe.id,os=!0),il||A!==q){if(en.setValue(pe,"projectionMatrix",q.projectionMatrix),Qe.logarithmicDepthBuffer&&en.setValue(pe,"logDepthBufFC",2/(Math.log(q.far+1)/Math.LN2)),A!==q&&(A=q,os=!0,Es=!0),xe.isShaderMaterial||xe.isMeshPhongMaterial||xe.isMeshToonMaterial||xe.isMeshStandardMaterial||xe.envMap){const Ln=en.map.cameraPosition;Ln!==void 0&&Ln.setValue(pe,le.setFromMatrixPosition(q.matrixWorld))}(xe.isMeshPhongMaterial||xe.isMeshToonMaterial||xe.isMeshLambertMaterial||xe.isMeshBasicMaterial||xe.isMeshStandardMaterial||xe.isShaderMaterial)&&en.setValue(pe,"isOrthographic",q.isOrthographicCamera===!0),(xe.isMeshPhongMaterial||xe.isMeshToonMaterial||xe.isMeshLambertMaterial||xe.isMeshBasicMaterial||xe.isMeshStandardMaterial||xe.isShaderMaterial||xe.isShadowMaterial||Oe.isSkinnedMesh)&&en.setValue(pe,"viewMatrix",q.matrixWorldInverse)}if(Oe.isSkinnedMesh){en.setOptional(pe,Oe,"bindMatrix"),en.setOptional(pe,Oe,"bindMatrixInverse");const Ln=Oe.skeleton;Ln&&(Qe.floatVertexTextures?(Ln.boneTexture===null&&Ln.computeBoneTexture(),en.setValue(pe,"boneTexture",Ln.boneTexture,Ae),en.setValue(pe,"boneTextureSize",Ln.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ts=Le.morphAttributes;if((Ts.position!==void 0||Ts.normal!==void 0||Ts.color!==void 0&&Qe.isWebGL2===!0)&&Ke.update(Oe,Le,xe,Ys),(os||Jt.receiveShadow!==Oe.receiveShadow)&&(Jt.receiveShadow=Oe.receiveShadow,en.setValue(pe,"receiveShadow",Oe.receiveShadow)),xe.isMeshGouraudMaterial&&xe.envMap!==null&&(Tn.envMap.value=un,Tn.flipEnvMap.value=un.isCubeTexture&&un.isRenderTargetTexture===!1?-1:1),os&&(en.setValue(pe,"toneMappingExposure",x.toneMappingExposure),Jt.needsLights&&Wl(Tn,Es),kt&&xe.fog===!0&&zt.refreshFogUniforms(Tn,kt),zt.refreshMaterialUniforms(Tn,xe,H,N,Z),lM.upload(pe,Jt.uniformsList,Tn,Ae)),xe.isShaderMaterial&&xe.uniformsNeedUpdate===!0&&(lM.upload(pe,Jt.uniformsList,Tn,Ae),xe.uniformsNeedUpdate=!1),xe.isSpriteMaterial&&en.setValue(pe,"center",Oe.center),en.setValue(pe,"modelViewMatrix",Oe.modelViewMatrix),en.setValue(pe,"normalMatrix",Oe.normalMatrix),en.setValue(pe,"modelMatrix",Oe.matrixWorld),xe.isShaderMaterial||xe.isRawShaderMaterial){const Ln=xe.uniformsGroups;for(let Lr=0,bo=Ln.length;Lr<bo;Lr++)if(Qe.isWebGL2){const Qs=Ln[Lr];yt.update(Qs,Ys),yt.bind(Qs,Ys)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ys}function Wl(q,ye){q.ambientLightColor.needsUpdate=ye,q.lightProbe.needsUpdate=ye,q.directionalLights.needsUpdate=ye,q.directionalLightShadows.needsUpdate=ye,q.pointLights.needsUpdate=ye,q.pointLightShadows.needsUpdate=ye,q.spotLights.needsUpdate=ye,q.spotLightShadows.needsUpdate=ye,q.rectAreaLights.needsUpdate=ye,q.hemisphereLights.needsUpdate=ye}function Uu(q){return q.isMeshLambertMaterial||q.isMeshToonMaterial||q.isMeshPhongMaterial||q.isMeshStandardMaterial||q.isShadowMaterial||q.isShaderMaterial&&q.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(q,ye,Le){Ie.get(q.texture).__webglTexture=ye,Ie.get(q.depthTexture).__webglTexture=Le;const xe=Ie.get(q);xe.__hasExternalTextures=!0,xe.__hasExternalTextures&&(xe.__autoAllocateDepthBuffer=Le===void 0,xe.__autoAllocateDepthBuffer||Be.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),xe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(q,ye){const Le=Ie.get(q);Le.__webglFramebuffer=ye,Le.__useDefaultFramebuffer=ye===void 0},this.setRenderTarget=function(q,ye=0,Le=0){w=q,b=ye,M=Le;let xe=!0,Oe=null,kt=!1,qt=!1;if(q){const un=Ie.get(q);un.__useDefaultFramebuffer!==void 0?(Fe.bindFramebuffer(36160,null),xe=!1):un.__webglFramebuffer===void 0?Ae.setupRenderTarget(q):un.__hasExternalTextures&&Ae.rebindTextures(q,Ie.get(q.texture).__webglTexture,Ie.get(q.depthTexture).__webglTexture);const En=q.texture;(En.isData3DTexture||En.isDataArrayTexture||En.isCompressedArrayTexture)&&(qt=!0);const _n=Ie.get(q).__webglFramebuffer;q.isWebGLCubeRenderTarget?(Oe=_n[ye],kt=!0):Qe.isWebGL2&&q.samples>0&&Ae.useMultisampledRTT(q)===!1?Oe=Ie.get(q).__webglMultisampledFramebuffer:Oe=_n,k.copy(q.viewport),L.copy(q.scissor),P=q.scissorTest}else k.copy(ee).multiplyScalar(H).floor(),L.copy(ue).multiplyScalar(H).floor(),P=ae;if(Fe.bindFramebuffer(36160,Oe)&&Qe.drawBuffers&&xe&&Fe.drawBuffers(q,Oe),Fe.viewport(k),Fe.scissor(L),Fe.setScissorTest(P),kt){const un=Ie.get(q.texture);pe.framebufferTexture2D(36160,36064,34069+ye,un.__webglTexture,Le)}else if(qt){const un=Ie.get(q.texture),En=ye||0;pe.framebufferTextureLayer(36160,36064,un.__webglTexture,Le||0,En)}T=-1},this.readRenderTargetPixels=function(q,ye,Le,xe,Oe,kt,qt){if(!(q&&q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ht=Ie.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&qt!==void 0&&(Ht=Ht[qt]),Ht){Fe.bindFramebuffer(36160,Ht);try{const un=q.texture,En=un.format,_n=un.type;if(En!==la&&it.convert(En)!==pe.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const wn=_n===Xa&&(Be.has("EXT_color_buffer_half_float")||Qe.isWebGL2&&Be.has("EXT_color_buffer_float"));if(_n!==bh&&it.convert(_n)!==pe.getParameter(35738)&&!(_n===ca&&(Qe.isWebGL2||Be.has("OES_texture_float")||Be.has("WEBGL_color_buffer_float")))&&!wn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=q.width-xe&&Le>=0&&Le<=q.height-Oe&&pe.readPixels(ye,Le,xe,Oe,it.convert(En),it.convert(_n),kt)}finally{const un=w!==null?Ie.get(w).__webglFramebuffer:null;Fe.bindFramebuffer(36160,un)}}},this.copyFramebufferToTexture=function(q,ye,Le=0){const xe=Math.pow(2,-Le),Oe=Math.floor(ye.image.width*xe),kt=Math.floor(ye.image.height*xe);Ae.setTexture2D(ye,0),pe.copyTexSubImage2D(3553,Le,0,0,q.x,q.y,Oe,kt),Fe.unbindTexture()},this.copyTextureToTexture=function(q,ye,Le,xe=0){const Oe=ye.image.width,kt=ye.image.height,qt=it.convert(Le.format),Ht=it.convert(Le.type);Ae.setTexture2D(Le,0),pe.pixelStorei(37440,Le.flipY),pe.pixelStorei(37441,Le.premultiplyAlpha),pe.pixelStorei(3317,Le.unpackAlignment),ye.isDataTexture?pe.texSubImage2D(3553,xe,q.x,q.y,Oe,kt,qt,Ht,ye.image.data):ye.isCompressedTexture?pe.compressedTexSubImage2D(3553,xe,q.x,q.y,ye.mipmaps[0].width,ye.mipmaps[0].height,qt,ye.mipmaps[0].data):pe.texSubImage2D(3553,xe,q.x,q.y,qt,Ht,ye.image),xe===0&&Le.generateMipmaps&&pe.generateMipmap(3553),Fe.unbindTexture()},this.copyTextureToTexture3D=function(q,ye,Le,xe,Oe=0){if(x.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const kt=q.max.x-q.min.x+1,qt=q.max.y-q.min.y+1,Ht=q.max.z-q.min.z+1,un=it.convert(xe.format),En=it.convert(xe.type);let _n;if(xe.isData3DTexture)Ae.setTexture3D(xe,0),_n=32879;else if(xe.isDataArrayTexture)Ae.setTexture2DArray(xe,0),_n=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}pe.pixelStorei(37440,xe.flipY),pe.pixelStorei(37441,xe.premultiplyAlpha),pe.pixelStorei(3317,xe.unpackAlignment);const wn=pe.getParameter(3314),mr=pe.getParameter(32878),Ei=pe.getParameter(3316),mi=pe.getParameter(3315),Ho=pe.getParameter(32877),On=Le.isCompressedTexture?Le.mipmaps[0]:Le.image;pe.pixelStorei(3314,On.width),pe.pixelStorei(32878,On.height),pe.pixelStorei(3316,q.min.x),pe.pixelStorei(3315,q.min.y),pe.pixelStorei(32877,q.min.z),Le.isDataTexture||Le.isData3DTexture?pe.texSubImage3D(_n,Oe,ye.x,ye.y,ye.z,kt,qt,Ht,un,En,On.data):Le.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),pe.compressedTexSubImage3D(_n,Oe,ye.x,ye.y,ye.z,kt,qt,Ht,un,On.data)):pe.texSubImage3D(_n,Oe,ye.x,ye.y,ye.z,kt,qt,Ht,un,En,On),pe.pixelStorei(3314,wn),pe.pixelStorei(32878,mr),pe.pixelStorei(3316,Ei),pe.pixelStorei(3315,mi),pe.pixelStorei(32877,Ho),Oe===0&&xe.generateMipmaps&&pe.generateMipmap(_n),Fe.unbindTexture()},this.initTexture=function(q){q.isCubeTexture?Ae.setTextureCube(q,0):q.isData3DTexture?Ae.setTexture3D(q,0):q.isDataArrayTexture||q.isCompressedArrayTexture?Ae.setTexture2DArray(q,0):Ae.setTexture2D(q,0),Fe.unbindTexture()},this.resetState=function(){b=0,M=0,w=null,Fe.reset(),De.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class W9 extends dD{}W9.prototype.isWebGL1Renderer=!0;class tC{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new mt(e),this.density=n}clone(){return new tC(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class nC{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new mt(e),this.near=n,this.far=r}clone(){return new nC(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class rC extends Hn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class iC{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=h1,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=pa()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=pa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=pa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const co=new X;class Ip{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)co.fromBufferAttribute(this,n),co.applyMatrix4(e),this.setXYZ(n,co.x,co.y,co.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)co.fromBufferAttribute(this,n),co.applyNormalMatrix(e),this.setXYZ(n,co.x,co.y,co.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)co.fromBufferAttribute(this,n),co.transformDirection(e),this.setXYZ(n,co.x,co.y,co.z);return this}setX(e,n){return this.normalized&&(n=hr(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=hr(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=hr(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=hr(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Cc(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Cc(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Cc(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Cc(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=hr(n,this.array),r=hr(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=hr(n,this.array),r=hr(r,this.array),i=hr(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=hr(n,this.array),r=hr(r,this.array),i=hr(i,this.array),s=hr(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new dr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ip(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class pD extends Ss{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new mt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let sg;const yy=new X,og=new X,ag=new X,lg=new Ne,xy=new Ne,$9=new vn,ZS=new X,_y=new X,JS=new X,cB=new Ne,jA=new Ne,fB=new Ne;class G9 extends Hn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",sg===void 0){sg=new Mn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new iC(n,5);sg.setIndex([0,1,2,0,2,3]),sg.setAttribute("position",new Ip(r,3,0,!1)),sg.setAttribute("uv",new Ip(r,2,3,!1))}this.geometry=sg,this.material=e!==void 0?e:new pD,this.center=new Ne(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),og.setFromMatrixScale(this.matrixWorld),$9.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ag.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&og.multiplyScalar(-ag.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;eb(ZS.set(-.5,-.5,0),ag,o,og,i,s),eb(_y.set(.5,-.5,0),ag,o,og,i,s),eb(JS.set(.5,.5,0),ag,o,og,i,s),cB.set(0,0),jA.set(1,0),fB.set(1,1);let a=e.ray.intersectTriangle(ZS,_y,JS,!1,yy);if(a===null&&(eb(_y.set(-.5,.5,0),ag,o,og,i,s),jA.set(0,1),a=e.ray.intersectTriangle(ZS,JS,_y,!1,yy),a===null))return;const l=e.ray.origin.distanceTo(yy);l<e.near||l>e.far||n.push({distance:l,point:yy.clone(),uv:Wa.getUV(yy,ZS,_y,JS,cB,jA,fB,new Ne),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function eb(t,e,n,r,i,s){lg.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(xy.x=s*lg.x-i*lg.y,xy.y=i*lg.x+s*lg.y):xy.copy(lg),t.copy(e),t.x+=xy.x,t.y+=xy.y,t.applyMatrix4($9)}const tb=new X,hB=new X;class j9 extends Hn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){tb.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(tb);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){tb.setFromMatrixPosition(e.matrixWorld),hB.setFromMatrixPosition(this.matrixWorld);const r=tb.distanceTo(hB)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const dB=new X,pB=new sr,mB=new sr,iMe=new X,gB=new vn;class q9 extends Li{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new vn,this.bindMatrixInverse=new vn}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new sr,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;pB.fromBufferAttribute(i.attributes.skinIndex,e),mB.fromBufferAttribute(i.attributes.skinWeight,e),dB.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=mB.getComponent(s);if(o!==0){const a=pB.getComponent(s);gB.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(iMe.copy(dB).applyMatrix4(gB),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class mD extends Hn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yg extends ti{constructor(e=null,n=1,r=1,i,s,o,a,l,u=ci,c=ci,p,m){super(null,o,a,l,u,c,i,s,p,m),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const vB=new vn,sMe=new vn;class sC{constructor(e=[],n=[]){this.uuid=pa(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new vn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new vn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:sMe;vB.multiplyMatrices(a,n[s]),vB.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new sC(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=R9(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Yg(n,e,e,la,ca);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new mD),this.bones.push(o),this.boneInverses.push(new vn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class w0 extends dr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const yB=new vn,xB=new vn,nb=[],oMe=new vn,wy=new Li;class X9 extends Li{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new w0(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,oMe)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(wy.geometry=this.geometry,wy.material=this.material,wy.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,yB),xB.multiplyMatrices(r,yB),wy.matrixWorld=xB,wy.raycast(e,nb);for(let o=0,a=nb.length;o<a;o++){const l=nb[o];l.instanceId=s,l.object=this,n.push(l)}nb.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new w0(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class So extends Ss{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new mt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _B=new X,wB=new X,SB=new vn,qA=new g_,rb=new Xp;class Mh extends Hn{constructor(e=new Mn,n=new So){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)_B.fromBufferAttribute(n,i-1),wB.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=_B.distanceTo(wB);e.setAttribute("lineDistance",new Pt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),rb.copy(r.boundingSphere),rb.applyMatrix4(i),rb.radius+=s,e.ray.intersectsSphere(rb)===!1)return;SB.copy(i).invert(),qA.copy(e.ray).applyMatrix4(SB);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new X,c=new X,p=new X,m=new X,v=this.isLineSegments?2:1,y=r.index,_=r.attributes.position;if(y!==null){const b=Math.max(0,o.start),M=Math.min(y.count,o.start+o.count);for(let w=b,T=M-1;w<T;w+=v){const A=y.getX(w),k=y.getX(w+1);if(u.fromBufferAttribute(_,A),c.fromBufferAttribute(_,k),qA.distanceSqToSegment(u,c,m,p)>l)continue;m.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(m);P<e.near||P>e.far||n.push({distance:P,point:p.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const b=Math.max(0,o.start),M=Math.min(_.count,o.start+o.count);for(let w=b,T=M-1;w<T;w+=v){if(u.fromBufferAttribute(_,w),c.fromBufferAttribute(_,w+1),qA.distanceSqToSegment(u,c,m,p)>l)continue;m.applyMatrix4(this.matrixWorld);const k=e.ray.origin.distanceTo(m);k<e.near||k>e.far||n.push({distance:k,point:p.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const bB=new X,MB=new X;class Bu extends Mh{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)bB.fromBufferAttribute(n,i),MB.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+bB.distanceTo(MB);e.setAttribute("lineDistance",new Pt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Y9 extends Mh{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class gD extends Ss{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new mt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const EB=new vn,X3=new g_,ib=new Xp,sb=new X;class Q9 extends Hn{constructor(e=new Mn,n=new gD){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ib.copy(r.boundingSphere),ib.applyMatrix4(i),ib.radius+=s,e.ray.intersectsSphere(ib)===!1)return;EB.copy(i).invert(),X3.copy(e.ray).applyMatrix4(EB);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,p=r.attributes.position;if(u!==null){const m=Math.max(0,o.start),v=Math.min(u.count,o.start+o.count);for(let y=m,x=v;y<x;y++){const _=u.getX(y);sb.fromBufferAttribute(p,_),TB(sb,_,l,i,e,n,this)}}else{const m=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let y=m,x=v;y<x;y++)sb.fromBufferAttribute(p,y),TB(sb,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function TB(t,e,n,r,i,s,o){const a=X3.distanceSqToPoint(t);if(a<n){const l=new X;X3.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class aMe extends ti{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Er,this.magFilter=s!==void 0?s:Er,this.generateMipmaps=!1;const c=this;function p(){c.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class lMe extends ti{constructor(e,n,r){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=ci,this.minFilter=ci,this.generateMipmaps=!1,this.needsUpdate=!0}}class vD extends ti{constructor(e,n,r,i,s,o,a,l,u,c,p,m){super(null,o,a,l,u,c,i,s,p,m),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class uMe extends vD{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Us}}class cMe extends ti{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ul{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],m=r[i+1]-c,v=(o-c)/m;return(i+v)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Ne:new X);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new X,i=[],s=[],o=[],a=new X,l=new vn;for(let v=0;v<=e;v++){const y=v/e;i[v]=this.getTangentAt(y,new X)}s[0]=new X,o[0]=new X;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),p=Math.abs(i[0].y),m=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),p<=u&&(u=p,r.set(0,1,0)),m<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(i[v-1],i[v]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(hi(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(a,y))}o[v].crossVectors(i[v],s[v])}if(n===!0){let v=Math.acos(hi(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],v*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class oC extends Ul{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Ne,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),p=Math.sin(this.aRotation),m=l-this.aX,v=u-this.aY;l=m*c-v*p+this.aX,u=m*p+v*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class K9 extends oC{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function yD(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,p){let m=(o-s)/u-(a-s)/(u+c)+(a-o)/c,v=(a-o)/c-(l-o)/(c+p)+(l-a)/p;m*=c,v*=c,i(o,a,m,v)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const ob=new X,XA=new yD,YA=new yD,QA=new yD;class Z9 extends Ul{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new X){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(ob.subVectors(i[0],i[1]).add(i[0]),u=ob);const p=i[a%s],m=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(ob.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=ob),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(p),v),x=Math.pow(p.distanceToSquared(m),v),_=Math.pow(m.distanceToSquared(c),v);x<1e-4&&(x=1),y<1e-4&&(y=x),_<1e-4&&(_=x),XA.initNonuniformCatmullRom(u.x,p.x,m.x,c.x,y,x,_),YA.initNonuniformCatmullRom(u.y,p.y,m.y,c.y,y,x,_),QA.initNonuniformCatmullRom(u.z,p.z,m.z,c.z,y,x,_)}else this.curveType==="catmullrom"&&(XA.initCatmullRom(u.x,p.x,m.x,c.x,this.tension),YA.initCatmullRom(u.y,p.y,m.y,c.y,this.tension),QA.initCatmullRom(u.z,p.z,m.z,c.z,this.tension));return r.set(XA.calc(l),YA.calc(l),QA.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new X().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function CB(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function fMe(t,e){const n=1-t;return n*n*e}function hMe(t,e){return 2*(1-t)*t*e}function dMe(t,e){return t*t*e}function mx(t,e,n,r){return fMe(t,e)+hMe(t,n)+dMe(t,r)}function pMe(t,e){const n=1-t;return n*n*n*e}function mMe(t,e){const n=1-t;return 3*n*n*t*e}function gMe(t,e){return 3*(1-t)*t*t*e}function vMe(t,e){return t*t*t*e}function gx(t,e,n,r,i){return pMe(t,e)+mMe(t,n)+gMe(t,r)+vMe(t,i)}class xD extends Ul{constructor(e=new Ne,n=new Ne,r=new Ne,i=new Ne){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ne){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(gx(e,i.x,s.x,o.x,a.x),gx(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class J9 extends Ul{constructor(e=new X,n=new X,r=new X,i=new X){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new X){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(gx(e,i.x,s.x,o.x,a.x),gx(e,i.y,s.y,o.y,a.y),gx(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class aC extends Ul{constructor(e=new Ne,n=new Ne){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ne){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const r=n||new Ne;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class e7 extends Ul{constructor(e=new X,n=new X){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new X){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _D extends Ul{constructor(e=new Ne,n=new Ne,r=new Ne){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ne){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(mx(e,i.x,s.x,o.x),mx(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wD extends Ul{constructor(e=new X,n=new X,r=new X){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new X){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(mx(e,i.x,s.x,o.x),mx(e,i.y,s.y,o.y),mx(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SD extends Ul{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ne){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],p=i[o>i.length-3?i.length-1:o+2];return r.set(CB(a,l.x,u.x,c.x,p.x),CB(a,l.y,u.y,c.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ne().fromArray(i))}return this}}var bD=Object.freeze({__proto__:null,ArcCurve:K9,CatmullRomCurve3:Z9,CubicBezierCurve:xD,CubicBezierCurve3:J9,EllipseCurve:oC,LineCurve:aC,LineCurve3:e7,QuadraticBezierCurve:_D,QuadraticBezierCurve3:wD,SplineCurve:SD});class t7 extends Ul{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new aC(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new bD[i.type]().fromJSON(i))}return this}}class m1 extends t7{constructor(e){super(),this.type="Path",this.currentPoint=new Ne,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new aC(this.currentPoint.clone(),new Ne(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new _D(this.currentPoint.clone(),new Ne(e,n),new Ne(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new xD(this.currentPoint.clone(),new Ne(e,n),new Ne(r,i),new Ne(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new SD(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new oC(e,n,r,i,s,o,a,l);if(this.curves.length>0){const p=u.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class G0 extends Mn{constructor(e=[new Ne(0,-.5),new Ne(.5,0),new Ne(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=hi(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,p=new X,m=new Ne,v=new X,y=new X,x=new X;let _=0,b=0;for(let M=0;M<=e.length-1;M++)switch(M){case 0:_=e[M+1].x-e[M].x,b=e[M+1].y-e[M].y,v.x=b*1,v.y=-_,v.z=b*0,x.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:_=e[M+1].x-e[M].x,b=e[M+1].y-e[M].y,v.x=b*1,v.y=-_,v.z=b*0,y.copy(v),v.x+=x.x,v.y+=x.y,v.z+=x.z,v.normalize(),l.push(v.x,v.y,v.z),x.copy(y)}for(let M=0;M<=n;M++){const w=r+M*c*i,T=Math.sin(w),A=Math.cos(w);for(let k=0;k<=e.length-1;k++){p.x=e[k].x*T,p.y=e[k].y,p.z=e[k].x*A,o.push(p.x,p.y,p.z),m.x=M/n,m.y=k/(e.length-1),a.push(m.x,m.y);const L=l[3*k+0]*T,P=l[3*k+1],O=l[3*k+0]*A;u.push(L,P,O)}}for(let M=0;M<n;M++)for(let w=0;w<e.length-1;w++){const T=w+M*e.length,A=T,k=T+e.length,L=T+e.length+1,P=T+1;s.push(A,k,P),s.push(L,P,k)}this.setIndex(s),this.setAttribute("position",new Pt(o,3)),this.setAttribute("uv",new Pt(a,2)),this.setAttribute("normal",new Pt(u,3))}static fromJSON(e){return new G0(e.points,e.segments,e.phiStart,e.phiLength)}}class x_ extends G0{constructor(e=1,n=1,r=4,i=8){const s=new m1;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new x_(e.radius,e.length,e.capSegments,e.radialSegments)}}class __ extends Mn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new X,c=new Ne;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let p=0,m=3;p<=n;p++,m+=3){const v=r+p/n*i;u.x=e*Math.cos(v),u.y=e*Math.sin(v),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[m]/e+1)/2,c.y=(o[m+1]/e+1)/2,l.push(c.x,c.y)}for(let p=1;p<=n;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new Pt(o,3)),this.setAttribute("normal",new Pt(a,3)),this.setAttribute("uv",new Pt(l,2))}static fromJSON(e){return new __(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Qp extends Mn{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],p=[],m=[],v=[];let y=0;const x=[],_=r/2;let b=0;M(),o===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(c),this.setAttribute("position",new Pt(p,3)),this.setAttribute("normal",new Pt(m,3)),this.setAttribute("uv",new Pt(v,2));function M(){const T=new X,A=new X;let k=0;const L=(n-e)/r;for(let P=0;P<=s;P++){const O=[],N=P/s,H=N*(n-e)+e;for(let ie=0;ie<=i;ie++){const te=ie/i,ee=te*l+a,ue=Math.sin(ee),ae=Math.cos(ee);A.x=H*ue,A.y=-N*r+_,A.z=H*ae,p.push(A.x,A.y,A.z),T.set(ue,L,ae).normalize(),m.push(T.x,T.y,T.z),v.push(te,1-N),O.push(y++)}x.push(O)}for(let P=0;P<i;P++)for(let O=0;O<s;O++){const N=x[O][P],H=x[O+1][P],ie=x[O+1][P+1],te=x[O][P+1];c.push(N,H,te),c.push(H,ie,te),k+=6}u.addGroup(b,k,0),b+=k}function w(T){const A=y,k=new Ne,L=new X;let P=0;const O=T===!0?e:n,N=T===!0?1:-1;for(let ie=1;ie<=i;ie++)p.push(0,_*N,0),m.push(0,N,0),v.push(.5,.5),y++;const H=y;for(let ie=0;ie<=i;ie++){const ee=ie/i*l+a,ue=Math.cos(ee),ae=Math.sin(ee);L.x=O*ae,L.y=_*N,L.z=O*ue,p.push(L.x,L.y,L.z),m.push(0,N,0),k.x=ue*.5+.5,k.y=ae*.5*N+.5,v.push(k.x,k.y),y++}for(let ie=0;ie<i;ie++){const te=A+ie,ee=H+ie;T===!0?c.push(ee,ee+1,te):c.push(ee+1,ee,te),P+=3}u.addGroup(b,P,T===!0?1:2),b+=P}}static fromJSON(e){return new Qp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class w_ extends Qp{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new w_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Xc extends Mn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new Pt(s,3)),this.setAttribute("normal",new Pt(s.slice(),3)),this.setAttribute("uv",new Pt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(M){const w=new X,T=new X,A=new X;for(let k=0;k<n.length;k+=3)v(n[k+0],w),v(n[k+1],T),v(n[k+2],A),l(w,T,A,M)}function l(M,w,T,A){const k=A+1,L=[];for(let P=0;P<=k;P++){L[P]=[];const O=M.clone().lerp(T,P/k),N=w.clone().lerp(T,P/k),H=k-P;for(let ie=0;ie<=H;ie++)ie===0&&P===k?L[P][ie]=O:L[P][ie]=O.clone().lerp(N,ie/H)}for(let P=0;P<k;P++)for(let O=0;O<2*(k-P)-1;O++){const N=Math.floor(O/2);O%2===0?(m(L[P][N+1]),m(L[P+1][N]),m(L[P][N])):(m(L[P][N+1]),m(L[P+1][N+1]),m(L[P+1][N]))}}function u(M){const w=new X;for(let T=0;T<s.length;T+=3)w.x=s[T+0],w.y=s[T+1],w.z=s[T+2],w.normalize().multiplyScalar(M),s[T+0]=w.x,s[T+1]=w.y,s[T+2]=w.z}function c(){const M=new X;for(let w=0;w<s.length;w+=3){M.x=s[w+0],M.y=s[w+1],M.z=s[w+2];const T=_(M)/2/Math.PI+.5,A=b(M)/Math.PI+.5;o.push(T,1-A)}y(),p()}function p(){for(let M=0;M<o.length;M+=6){const w=o[M+0],T=o[M+2],A=o[M+4],k=Math.max(w,T,A),L=Math.min(w,T,A);k>.9&&L<.1&&(w<.2&&(o[M+0]+=1),T<.2&&(o[M+2]+=1),A<.2&&(o[M+4]+=1))}}function m(M){s.push(M.x,M.y,M.z)}function v(M,w){const T=M*3;w.x=e[T+0],w.y=e[T+1],w.z=e[T+2]}function y(){const M=new X,w=new X,T=new X,A=new X,k=new Ne,L=new Ne,P=new Ne;for(let O=0,N=0;O<s.length;O+=9,N+=6){M.set(s[O+0],s[O+1],s[O+2]),w.set(s[O+3],s[O+4],s[O+5]),T.set(s[O+6],s[O+7],s[O+8]),k.set(o[N+0],o[N+1]),L.set(o[N+2],o[N+3]),P.set(o[N+4],o[N+5]),A.copy(M).add(w).add(T).divideScalar(3);const H=_(A);x(k,N+0,M,H),x(L,N+2,w,H),x(P,N+4,T,H)}}function x(M,w,T,A){A<0&&M.x===1&&(o[w]=M.x-1),T.x===0&&T.z===0&&(o[w]=A/2/Math.PI+.5)}function _(M){return Math.atan2(M.z,-M.x)}function b(M){return Math.atan2(-M.y,Math.sqrt(M.x*M.x+M.z*M.z))}}static fromJSON(e){return new Xc(e.vertices,e.indices,e.radius,e.details)}}class S_ extends Xc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new S_(e.radius,e.detail)}}const ab=new X,lb=new X,KA=new X,ub=new Wa;class n7 extends Mn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(mp*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],p=new Array(3),m={},v=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:x,b:_,c:b}=ub;if(x.fromBufferAttribute(a,u[0]),_.fromBufferAttribute(a,u[1]),b.fromBufferAttribute(a,u[2]),ub.getNormal(KA),p[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,p[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,p[2]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let M=0;M<3;M++){const w=(M+1)%3,T=p[M],A=p[w],k=ub[c[M]],L=ub[c[w]],P=`${T}_${A}`,O=`${A}_${T}`;O in m&&m[O]?(KA.dot(m[O].normal)<=s&&(v.push(k.x,k.y,k.z),v.push(L.x,L.y,L.z)),m[O]=null):P in m||(m[P]={index0:u[M],index1:u[w],normal:KA.clone()})}}for(const y in m)if(m[y]){const{index0:x,index1:_}=m[y];ab.fromBufferAttribute(a,x),lb.fromBufferAttribute(a,_),v.push(ab.x,ab.y,ab.z),v.push(lb.x,lb.y,lb.z)}this.setAttribute("position",new Pt(v,3))}}}class yp extends m1{constructor(e){super(e),this.uuid=pa(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new m1().fromJSON(i))}return this}}const yMe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=r7(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,p,m,v;if(r&&(s=bMe(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let y=n;y<i;y+=n)p=t[y],m=t[y+1],p<a&&(a=p),m<l&&(l=m),p>u&&(u=p),m>c&&(c=m);v=Math.max(u-a,c-l),v=v!==0?32767/v:0}return g1(s,o,n,a,l,v,0),o}};function r7(t,e,n,r,i){let s,o;if(i===DMe(t,e,n,r)>0)for(s=e;s<n;s+=r)o=AB(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=AB(s,t[s],t[s+1],o);return o&&lC(o,o.next)&&(y1(o),o=o.next),o}function kp(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(lC(n,n.next)||Ur(n.prev,n,n.next)===0)){if(y1(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function g1(t,e,n,r,i,s,o){if(!t)return;!o&&s&&AMe(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?_Me(t,r,i,s):xMe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),y1(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=wMe(kp(t),e,n),g1(t,e,n,r,i,s,2)):o===2&&SMe(t,e,n,r,i,s):g1(kp(t),e,n,r,i,s,1);break}}}function xMe(t){const e=t.prev,n=t,r=t.next;if(Ur(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,p=a<l?a<u?a:u:l<u?l:u,m=i>s?i>o?i:o:s>o?s:o,v=a>l?a>u?a:u:l>u?l:u;let y=r.next;for(;y!==e;){if(y.x>=c&&y.x<=m&&y.y>=p&&y.y<=v&&Dg(i,a,s,l,o,u,y.x,y.y)&&Ur(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function _Me(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Ur(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,p=s.y,m=o.y,v=a<l?a<u?a:u:l<u?l:u,y=c<p?c<m?c:m:p<m?p:m,x=a>l?a>u?a:u:l>u?l:u,_=c>p?c>m?c:m:p>m?p:m,b=Y3(v,y,e,n,r),M=Y3(x,_,e,n,r);let w=t.prevZ,T=t.nextZ;for(;w&&w.z>=b&&T&&T.z<=M;){if(w.x>=v&&w.x<=x&&w.y>=y&&w.y<=_&&w!==i&&w!==o&&Dg(a,c,l,p,u,m,w.x,w.y)&&Ur(w.prev,w,w.next)>=0||(w=w.prevZ,T.x>=v&&T.x<=x&&T.y>=y&&T.y<=_&&T!==i&&T!==o&&Dg(a,c,l,p,u,m,T.x,T.y)&&Ur(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;w&&w.z>=b;){if(w.x>=v&&w.x<=x&&w.y>=y&&w.y<=_&&w!==i&&w!==o&&Dg(a,c,l,p,u,m,w.x,w.y)&&Ur(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;T&&T.z<=M;){if(T.x>=v&&T.x<=x&&T.y>=y&&T.y<=_&&T!==i&&T!==o&&Dg(a,c,l,p,u,m,T.x,T.y)&&Ur(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function wMe(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!lC(i,s)&&i7(i,r,r.next,s)&&v1(i,s)&&v1(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),y1(r),y1(r.next),r=t=s),r=r.next}while(r!==t);return kp(r)}function SMe(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&IMe(o,a)){let l=s7(o,a);o=kp(o,o.next),l=kp(l,l.next),g1(o,e,n,r,i,s,0),g1(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function bMe(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=r7(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(RMe(u));for(i.sort(MMe),s=0;s<i.length;s++)n=EMe(i[s],n);return n}function MMe(t,e){return t.x-e.x}function EMe(t,e){const n=TMe(t,e);if(!n)return e;const r=s7(n,t);return kp(r,r.next),kp(n,n.next)}function TMe(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const m=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(m<=s&&m>r&&(r=m,i=n.x<n.next.x?n:n.next,m===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,p;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Dg(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(p=Math.abs(o-n.y)/(s-n.x),v1(n,t)&&(p<c||p===c&&(n.x>i.x||n.x===i.x&&CMe(i,n)))&&(i=n,c=p)),n=n.next;while(n!==a);return i}function CMe(t,e){return Ur(t.prev,t,e.prev)<0&&Ur(e.next,t,t.next)<0}function AMe(t,e,n,r){let i=t;do i.z===0&&(i.z=Y3(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,PMe(i)}function PMe(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function Y3(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function RMe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Dg(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function IMe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!kMe(t,e)&&(v1(t,e)&&v1(e,t)&&LMe(t,e)&&(Ur(t.prev,t,e.prev)||Ur(t,e.prev,e))||lC(t,e)&&Ur(t.prev,t,t.next)>0&&Ur(e.prev,e,e.next)>0)}function Ur(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function lC(t,e){return t.x===e.x&&t.y===e.y}function i7(t,e,n,r){const i=fb(Ur(t,e,n)),s=fb(Ur(t,e,r)),o=fb(Ur(n,r,t)),a=fb(Ur(n,r,e));return!!(i!==s&&o!==a||i===0&&cb(t,n,e)||s===0&&cb(t,r,e)||o===0&&cb(n,t,r)||a===0&&cb(n,e,r))}function cb(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function fb(t){return t>0?1:t<0?-1:0}function kMe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&i7(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function v1(t,e){return Ur(t.prev,t,t.next)<0?Ur(t,e,t.next)>=0&&Ur(t,t.prev,e)>=0:Ur(t,e,t.prev)<0||Ur(t,t.next,e)<0}function LMe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function s7(t,e){const n=new Q3(t.i,t.x,t.y),r=new Q3(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function AB(t,e,n,r){const i=new Q3(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function y1(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Q3(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function DMe(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Ru{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ru.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];PB(e),RB(r,e);let o=e.length;n.forEach(PB);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,RB(r,n[l]);const a=yMe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function PB(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function RB(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class b_ extends Mn{constructor(e=new yp([new Ne(.5,.5),new Ne(-.5,.5),new Ne(-.5,-.5),new Ne(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Pt(i,3)),this.setAttribute("uv",new Pt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,p=n.depth!==void 0?n.depth:1;let m=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:v-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,_=n.bevelSegments!==void 0?n.bevelSegments:3;const b=n.extrudePath,M=n.UVGenerator!==void 0?n.UVGenerator:OMe;let w,T=!1,A,k,L,P;b&&(w=b.getSpacedPoints(c),T=!0,m=!1,A=b.computeFrenetFrames(c,!1),k=new X,L=new X,P=new X),m||(_=0,v=0,y=0,x=0);const O=a.extractPoints(u);let N=O.shape;const H=O.holes;if(!Ru.isClockWise(N)){N=N.reverse();for(let Ie=0,Ae=H.length;Ie<Ae;Ie++){const qe=H[Ie];Ru.isClockWise(qe)&&(H[Ie]=qe.reverse())}}const te=Ru.triangulateShape(N,H),ee=N;for(let Ie=0,Ae=H.length;Ie<Ae;Ie++){const qe=H[Ie];N=N.concat(qe)}function ue(Ie,Ae,qe){return Ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ae.clone().multiplyScalar(qe).add(Ie)}const ae=N.length,fe=te.length;function z(Ie,Ae,qe){let ct,rt,St;const bt=Ie.x-Ae.x,Mt=Ie.y-Ae.y,zt=qe.x-Ie.x,Nt=qe.y-Ie.y,Q=bt*bt+Mt*Mt,W=bt*Nt-Mt*zt;if(Math.abs(W)>Number.EPSILON){const be=Math.sqrt(Q),$e=Math.sqrt(zt*zt+Nt*Nt),Ke=Ae.x-Mt/be,nt=Ae.y+bt/be,_t=qe.x-Nt/$e,it=qe.y+zt/$e,De=((_t-Ke)*Nt-(it-nt)*zt)/(bt*Nt-Mt*zt);ct=Ke+bt*De-Ie.x,rt=nt+Mt*De-Ie.y;const yt=ct*ct+rt*rt;if(yt<=2)return new Ne(ct,rt);St=Math.sqrt(yt/2)}else{let be=!1;bt>Number.EPSILON?zt>Number.EPSILON&&(be=!0):bt<-Number.EPSILON?zt<-Number.EPSILON&&(be=!0):Math.sign(Mt)===Math.sign(Nt)&&(be=!0),be?(ct=-Mt,rt=bt,St=Math.sqrt(Q)):(ct=bt,rt=Mt,St=Math.sqrt(Q/2))}return new Ne(ct/St,rt/St)}const Y=[];for(let Ie=0,Ae=ee.length,qe=Ae-1,ct=Ie+1;Ie<Ae;Ie++,qe++,ct++)qe===Ae&&(qe=0),ct===Ae&&(ct=0),Y[Ie]=z(ee[Ie],ee[qe],ee[ct]);const Z=[];let B,G=Y.concat();for(let Ie=0,Ae=H.length;Ie<Ae;Ie++){const qe=H[Ie];B=[];for(let ct=0,rt=qe.length,St=rt-1,bt=ct+1;ct<rt;ct++,St++,bt++)St===rt&&(St=0),bt===rt&&(bt=0),B[ct]=z(qe[ct],qe[St],qe[bt]);Z.push(B),G=G.concat(B)}for(let Ie=0;Ie<_;Ie++){const Ae=Ie/_,qe=v*Math.cos(Ae*Math.PI/2),ct=y*Math.sin(Ae*Math.PI/2)+x;for(let rt=0,St=ee.length;rt<St;rt++){const bt=ue(ee[rt],Y[rt],ct);We(bt.x,bt.y,-qe)}for(let rt=0,St=H.length;rt<St;rt++){const bt=H[rt];B=Z[rt];for(let Mt=0,zt=bt.length;Mt<zt;Mt++){const Nt=ue(bt[Mt],B[Mt],ct);We(Nt.x,Nt.y,-qe)}}}const le=y+x;for(let Ie=0;Ie<ae;Ie++){const Ae=m?ue(N[Ie],G[Ie],le):N[Ie];T?(L.copy(A.normals[0]).multiplyScalar(Ae.x),k.copy(A.binormals[0]).multiplyScalar(Ae.y),P.copy(w[0]).add(L).add(k),We(P.x,P.y,P.z)):We(Ae.x,Ae.y,0)}for(let Ie=1;Ie<=c;Ie++)for(let Ae=0;Ae<ae;Ae++){const qe=m?ue(N[Ae],G[Ae],le):N[Ae];T?(L.copy(A.normals[Ie]).multiplyScalar(qe.x),k.copy(A.binormals[Ie]).multiplyScalar(qe.y),P.copy(w[Ie]).add(L).add(k),We(P.x,P.y,P.z)):We(qe.x,qe.y,p/c*Ie)}for(let Ie=_-1;Ie>=0;Ie--){const Ae=Ie/_,qe=v*Math.cos(Ae*Math.PI/2),ct=y*Math.sin(Ae*Math.PI/2)+x;for(let rt=0,St=ee.length;rt<St;rt++){const bt=ue(ee[rt],Y[rt],ct);We(bt.x,bt.y,p+qe)}for(let rt=0,St=H.length;rt<St;rt++){const bt=H[rt];B=Z[rt];for(let Mt=0,zt=bt.length;Mt<zt;Mt++){const Nt=ue(bt[Mt],B[Mt],ct);T?We(Nt.x,Nt.y+w[c-1].y,w[c-1].x+qe):We(Nt.x,Nt.y,p+qe)}}}we(),Me();function we(){const Ie=i.length/3;if(m){let Ae=0,qe=ae*Ae;for(let ct=0;ct<fe;ct++){const rt=te[ct];Be(rt[2]+qe,rt[1]+qe,rt[0]+qe)}Ae=c+_*2,qe=ae*Ae;for(let ct=0;ct<fe;ct++){const rt=te[ct];Be(rt[0]+qe,rt[1]+qe,rt[2]+qe)}}else{for(let Ae=0;Ae<fe;Ae++){const qe=te[Ae];Be(qe[2],qe[1],qe[0])}for(let Ae=0;Ae<fe;Ae++){const qe=te[Ae];Be(qe[0]+ae*c,qe[1]+ae*c,qe[2]+ae*c)}}r.addGroup(Ie,i.length/3-Ie,0)}function Me(){const Ie=i.length/3;let Ae=0;pe(ee,Ae),Ae+=ee.length;for(let qe=0,ct=H.length;qe<ct;qe++){const rt=H[qe];pe(rt,Ae),Ae+=rt.length}r.addGroup(Ie,i.length/3-Ie,1)}function pe(Ie,Ae){let qe=Ie.length;for(;--qe>=0;){const ct=qe;let rt=qe-1;rt<0&&(rt=Ie.length-1);for(let St=0,bt=c+_*2;St<bt;St++){const Mt=ae*St,zt=ae*(St+1),Nt=Ae+ct+Mt,Q=Ae+rt+Mt,W=Ae+rt+zt,be=Ae+ct+zt;Qe(Nt,Q,W,be)}}}function We(Ie,Ae,qe){l.push(Ie),l.push(Ae),l.push(qe)}function Be(Ie,Ae,qe){Fe(Ie),Fe(Ae),Fe(qe);const ct=i.length/3,rt=M.generateTopUV(r,i,ct-3,ct-2,ct-1);pt(rt[0]),pt(rt[1]),pt(rt[2])}function Qe(Ie,Ae,qe,ct){Fe(Ie),Fe(Ae),Fe(ct),Fe(Ae),Fe(qe),Fe(ct);const rt=i.length/3,St=M.generateSideWallUV(r,i,rt-6,rt-3,rt-2,rt-1);pt(St[0]),pt(St[1]),pt(St[3]),pt(St[1]),pt(St[2]),pt(St[3])}function Fe(Ie){i.push(l[Ie*3+0]),i.push(l[Ie*3+1]),i.push(l[Ie*3+2])}function pt(Ie){s.push(Ie.x),s.push(Ie.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return NMe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new bD[i.type]().fromJSON(i)),new b_(r,e.options)}}const OMe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Ne(s,o),new Ne(a,l),new Ne(u,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],p=e[r*3+2],m=e[i*3],v=e[i*3+1],y=e[i*3+2],x=e[s*3],_=e[s*3+1],b=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new Ne(o,1-l),new Ne(u,1-p),new Ne(m,1-y),new Ne(x,1-b)]:[new Ne(a,1-l),new Ne(c,1-p),new Ne(v,1-y),new Ne(_,1-b)]}};function NMe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class j0 extends Xc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new j0(e.radius,e.detail)}}class q0 extends Xc{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new q0(e.radius,e.detail)}}class M_ extends Mn{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let p=e;const m=(n-e)/i,v=new X,y=new Ne;for(let x=0;x<=i;x++){for(let _=0;_<=r;_++){const b=s+_/r*o;v.x=p*Math.cos(b),v.y=p*Math.sin(b),l.push(v.x,v.y,v.z),u.push(0,0,1),y.x=(v.x/n+1)/2,y.y=(v.y/n+1)/2,c.push(y.x,y.y)}p+=m}for(let x=0;x<i;x++){const _=x*(r+1);for(let b=0;b<r;b++){const M=b+_,w=M,T=M+r+1,A=M+r+2,k=M+1;a.push(w,T,k),a.push(T,A,k)}}this.setIndex(a),this.setAttribute("position",new Pt(l,3)),this.setAttribute("normal",new Pt(u,3)),this.setAttribute("uv",new Pt(c,2))}static fromJSON(e){return new M_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class E_ extends Mn{constructor(e=new yp([new Ne(0,.5),new Ne(-.5,-.5),new Ne(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Pt(i,3)),this.setAttribute("normal",new Pt(s,3)),this.setAttribute("uv",new Pt(o,2));function u(c){const p=i.length/3,m=c.extractPoints(n);let v=m.shape;const y=m.holes;Ru.isClockWise(v)===!1&&(v=v.reverse());for(let _=0,b=y.length;_<b;_++){const M=y[_];Ru.isClockWise(M)===!0&&(y[_]=M.reverse())}const x=Ru.triangulateShape(v,y);for(let _=0,b=y.length;_<b;_++){const M=y[_];v=v.concat(M)}for(let _=0,b=v.length;_<b;_++){const M=v[_];i.push(M.x,M.y,0),s.push(0,0,1),o.push(M.x,M.y)}for(let _=0,b=x.length;_<b;_++){const M=x[_],w=M[0]+p,T=M[1]+p,A=M[2]+p;r.push(w,T,A),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return FMe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new E_(r,e.curveSegments)}}function FMe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class X0 extends Mn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],p=new X,m=new X,v=[],y=[],x=[],_=[];for(let b=0;b<=r;b++){const M=[],w=b/r;let T=0;b==0&&o==0?T=.5/n:b==r&&l==Math.PI&&(T=-.5/n);for(let A=0;A<=n;A++){const k=A/n;p.x=-e*Math.cos(i+k*s)*Math.sin(o+w*a),p.y=e*Math.cos(o+w*a),p.z=e*Math.sin(i+k*s)*Math.sin(o+w*a),y.push(p.x,p.y,p.z),m.copy(p).normalize(),x.push(m.x,m.y,m.z),_.push(k+T,1-w),M.push(u++)}c.push(M)}for(let b=0;b<r;b++)for(let M=0;M<n;M++){const w=c[b][M+1],T=c[b][M],A=c[b+1][M],k=c[b+1][M+1];(b!==0||o>0)&&v.push(w,T,k),(b!==r-1||l<Math.PI)&&v.push(T,A,k)}this.setIndex(v),this.setAttribute("position",new Pt(y,3)),this.setAttribute("normal",new Pt(x,3)),this.setAttribute("uv",new Pt(_,2))}static fromJSON(e){return new X0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class T_ extends Xc{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new T_(e.radius,e.detail)}}class C_ extends Mn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new X,p=new X,m=new X;for(let v=0;v<=r;v++)for(let y=0;y<=i;y++){const x=y/i*s,_=v/r*Math.PI*2;p.x=(e+n*Math.cos(_))*Math.cos(x),p.y=(e+n*Math.cos(_))*Math.sin(x),p.z=n*Math.sin(_),a.push(p.x,p.y,p.z),c.x=e*Math.cos(x),c.y=e*Math.sin(x),m.subVectors(p,c).normalize(),l.push(m.x,m.y,m.z),u.push(y/i),u.push(v/r)}for(let v=1;v<=r;v++)for(let y=1;y<=i;y++){const x=(i+1)*v+y-1,_=(i+1)*(v-1)+y-1,b=(i+1)*(v-1)+y,M=(i+1)*v+y;o.push(x,_,M),o.push(_,b,M)}this.setIndex(o),this.setAttribute("position",new Pt(a,3)),this.setAttribute("normal",new Pt(l,3)),this.setAttribute("uv",new Pt(u,2))}static fromJSON(e){return new C_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class A_ extends Mn{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],p=new X,m=new X,v=new X,y=new X,x=new X,_=new X,b=new X;for(let w=0;w<=r;++w){const T=w/r*s*Math.PI*2;M(T,s,o,e,v),M(T+.01,s,o,e,y),_.subVectors(y,v),b.addVectors(y,v),x.crossVectors(_,b),b.crossVectors(x,_),x.normalize(),b.normalize();for(let A=0;A<=i;++A){const k=A/i*Math.PI*2,L=-n*Math.cos(k),P=n*Math.sin(k);p.x=v.x+(L*b.x+P*x.x),p.y=v.y+(L*b.y+P*x.y),p.z=v.z+(L*b.z+P*x.z),l.push(p.x,p.y,p.z),m.subVectors(p,v).normalize(),u.push(m.x,m.y,m.z),c.push(w/r),c.push(A/i)}}for(let w=1;w<=r;w++)for(let T=1;T<=i;T++){const A=(i+1)*(w-1)+(T-1),k=(i+1)*w+(T-1),L=(i+1)*w+T,P=(i+1)*(w-1)+T;a.push(A,k,P),a.push(k,L,P)}this.setIndex(a),this.setAttribute("position",new Pt(l,3)),this.setAttribute("normal",new Pt(u,3)),this.setAttribute("uv",new Pt(c,2));function M(w,T,A,k,L){const P=Math.cos(w),O=Math.sin(w),N=A/T*w,H=Math.cos(N);L.x=k*(2+H)*.5*P,L.y=k*(2+H)*O*.5,L.z=k*Math.sin(N)*.5}}static fromJSON(e){return new A_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class P_ extends Mn{constructor(e=new wD(new X(-1,-1,0),new X(-1,1,0),new X(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new X,l=new X,u=new Ne;let c=new X;const p=[],m=[],v=[],y=[];x(),this.setIndex(y),this.setAttribute("position",new Pt(p,3)),this.setAttribute("normal",new Pt(m,3)),this.setAttribute("uv",new Pt(v,2));function x(){for(let w=0;w<n;w++)_(w);_(s===!1?n:0),M(),b()}function _(w){c=e.getPointAt(w/n,c);const T=o.normals[w],A=o.binormals[w];for(let k=0;k<=i;k++){const L=k/i*Math.PI*2,P=Math.sin(L),O=-Math.cos(L);l.x=O*T.x+P*A.x,l.y=O*T.y+P*A.y,l.z=O*T.z+P*A.z,l.normalize(),m.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,p.push(a.x,a.y,a.z)}}function b(){for(let w=1;w<=n;w++)for(let T=1;T<=i;T++){const A=(i+1)*(w-1)+(T-1),k=(i+1)*w+(T-1),L=(i+1)*w+T,P=(i+1)*(w-1)+T;y.push(A,k,P),y.push(k,L,P)}}function M(){for(let w=0;w<=n;w++)for(let T=0;T<=i;T++)u.x=w/n,u.y=T/i,v.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new P_(new bD[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class o7 extends Mn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new X,s=new X;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const p=l[u],m=p.start,v=p.count;for(let y=m,x=m+v;y<x;y+=3)for(let _=0;_<3;_++){const b=a.getX(y+_),M=a.getX(y+(_+1)%3);i.fromBufferAttribute(o,b),s.fromBufferAttribute(o,M),IB(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,p=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,p),IB(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Pt(n,3))}}}function IB(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var kB=Object.freeze({__proto__:null,BoxGeometry:Oh,CapsuleGeometry:x_,CircleGeometry:__,ConeGeometry:w_,CylinderGeometry:Qp,DodecahedronGeometry:S_,EdgesGeometry:n7,ExtrudeGeometry:b_,IcosahedronGeometry:j0,LatheGeometry:G0,OctahedronGeometry:q0,PlaneGeometry:Yp,PolyhedronGeometry:Xc,RingGeometry:M_,ShapeGeometry:E_,SphereGeometry:X0,TetrahedronGeometry:T_,TorusGeometry:C_,TorusKnotGeometry:A_,TubeGeometry:P_,WireframeGeometry:o7});class a7 extends Ss{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new mt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class l7 extends xa{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MD extends Ss{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new mt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lh,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ED extends MD{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ne(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return hi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new mt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new mt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new mt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class u7 extends Ss{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new mt(16777215),this.specular=new mt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lh,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=p_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class c7 extends Ss{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new mt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lh,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class f7 extends Ss{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lh,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class h7 extends Ss{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lh,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=p_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class d7 extends Ss{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new mt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Lh,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class p7 extends So{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ba(t,e,n){return TD(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function np(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function TD(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function m7(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function K3(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function CD(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function zMe(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),p=[],m=[];for(let v=0;v<u.times.length;++v){const y=u.times[v]*i;if(!(y<n||y>=r)){p.push(u.times[v]);for(let x=0;x<c;++x)m.push(u.values[v*c+x])}}p.length!==0&&(u.times=np(p,u.times.constructor),u.values=np(m,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function BMe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(b){return b.name===a.name&&b.ValueTypeName===l});if(u===void 0)continue;let c=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=p/3);let m=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);const y=a.times.length-1;let x;if(s<=a.times[0]){const b=c,M=p-c;x=Ba(a.values,b,M)}else if(s>=a.times[y]){const b=y*p+c,M=b+p-c;x=Ba(a.values,b,M)}else{const b=a.createInterpolant(),M=c,w=p-c;b.evaluate(s),x=Ba(b.resultBuffer,M,w)}l==="quaternion"&&new Hs().fromArray(x).normalize().conjugate().toArray(x);const _=u.times.length;for(let b=0;b<_;++b){const M=b*v+m;if(l==="quaternion")Hs.multiplyQuaternionsFlat(u.values,M,x,0,u.values,M);else{const w=v-m*2;for(let T=0;T<w;++T)u.values[M+T]-=x[T]}}}return t.blendMode=iD,t}var UMe=Object.freeze({__proto__:null,arraySlice:Ba,convertArray:np,isTypedArray:TD,getKeyframeOrder:m7,sortedArray:K3,flattenJSON:CD,subclip:zMe,makeClipAdditive:BMe});class R_{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class g7 extends R_{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Jd,endingEnd:Jd}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case ep:s=e,a=2*n-r;break;case f1:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case ep:o=e,l=2*r-n;break;case f1:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,p=this._offsetNext,m=this._weightPrev,v=this._weightNext,y=(r-n)/(i-n),x=y*y,_=x*y,b=-m*_+2*m*x-m*y,M=(1+m)*_+(-1.5-2*m)*x+(-.5+m)*y+1,w=(-1-v)*_+(1.5+v)*x+.5*y,T=v*_-v*x;for(let A=0;A!==a;++A)s[A]=b*o[c+A]+M*o[u+A]+w*o[l+A]+T*o[p+A];return s}}class AD extends R_{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),p=1-c;for(let m=0;m!==a;++m)s[m]=o[u+m]*p+o[l+m]*c;return s}}class v7 extends R_{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Vl{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=np(n,this.TimeBufferType),this.values=np(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:np(e.times,Array),values:np(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new v7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new AD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new g7(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case u1:n=this.InterpolantFactoryMethodDiscrete;break;case c1:n=this.InterpolantFactoryMethodLinear;break;case sM:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return u1;case this.InterpolantFactoryMethodLinear:return c1;case this.InterpolantFactoryMethodSmooth:return sM}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ba(r,s,o),this.values=Ba(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&TD(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Ba(this.times),n=Ba(this.values),r=this.getValueSize(),i=this.getInterpolation()===sM,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const p=a*r,m=p-r,v=p+r;for(let y=0;y!==r;++y){const x=n[p+y];if(x!==n[m+y]||x!==n[v+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const p=a*r,m=o*r;for(let v=0;v!==r;++v)n[m+v]=n[p+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=Ba(e,0,o),this.values=Ba(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=Ba(this.times,0),n=Ba(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Vl.prototype.TimeBufferType=Float32Array;Vl.prototype.ValueBufferType=Float32Array;Vl.prototype.DefaultInterpolation=c1;class Kp extends Vl{}Kp.prototype.ValueTypeName="bool";Kp.prototype.ValueBufferType=Array;Kp.prototype.DefaultInterpolation=u1;Kp.prototype.InterpolantFactoryMethodLinear=void 0;Kp.prototype.InterpolantFactoryMethodSmooth=void 0;class PD extends Vl{}PD.prototype.ValueTypeName="color";class x1 extends Vl{}x1.prototype.ValueTypeName="number";class y7 extends R_{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)Hs.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Y0 extends Vl{InterpolantFactoryMethodLinear(e){return new y7(this.times,this.values,this.getValueSize(),e)}}Y0.prototype.ValueTypeName="quaternion";Y0.prototype.DefaultInterpolation=c1;Y0.prototype.InterpolantFactoryMethodSmooth=void 0;class Zp extends Vl{}Zp.prototype.ValueTypeName="string";Zp.prototype.ValueBufferType=Array;Zp.prototype.DefaultInterpolation=u1;Zp.prototype.InterpolantFactoryMethodLinear=void 0;Zp.prototype.InterpolantFactoryMethodSmooth=void 0;class _1 extends Vl{}_1.prototype.ValueTypeName="vector";class w1{constructor(e,n=-1,r,i=QT){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=pa(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(HMe(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Vl.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=m7(l);l=K3(l,1,c),u=K3(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new x1(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const p=c[1];let m=i[p];m||(i[p]=m=[]),m.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(p,m,v,y,x){if(v.length!==0){const _=[],b=[];CD(v,_,b,y),_.length!==0&&x.push(new p(m,_,b))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let p=0;p<u.length;p++){const m=u[p].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const v={};let y;for(y=0;y<m.length;y++)if(m[y].morphTargets)for(let x=0;x<m[y].morphTargets.length;x++)v[m[y].morphTargets[x]]=-1;for(const x in v){const _=[],b=[];for(let M=0;M!==m[y].morphTargets.length;++M){const w=m[y];_.push(w.time),b.push(w.morphTarget===x?1:0)}i.push(new x1(".morphTargetInfluence["+x+"]",_,b))}l=v.length*o}else{const v=".bones["+n[p].name+"]";r(_1,v+".position",m,"pos",i),r(Y0,v+".quaternion",m,"rot",i),r(_1,v+".scale",m,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function VMe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return x1;case"vector":case"vector2":case"vector3":case"vector4":return _1;case"color":return PD;case"quaternion":return Y0;case"bool":case"boolean":return Kp;case"string":return Zp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function HMe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=VMe(t.type);if(t.times===void 0){const n=[],r=[];CD(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Lp={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class RD{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,p){return u.push(c,p),this},this.removeHandler=function(c){const p=u.indexOf(c);return p!==-1&&u.splice(p,2),this},this.getHandler=function(c){for(let p=0,m=u.length;p<m;p+=2){const v=u[p],y=u[p+1];if(v.global&&(v.lastIndex=0),v.test(c))return y}return null}}}const x7=new RD;class Ma{constructor(e){this.manager=e!==void 0?e:x7,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const gc={};class WMe extends Error{constructor(e,n){super(e),this.response=n}}class Vc extends Ma{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Lp.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(gc[e]!==void 0){gc[e].push({onLoad:n,onProgress:r,onError:i});return}gc[e]=[],gc[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=gc[e],p=u.body.getReader(),m=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),v=m?parseInt(m):0,y=v!==0;let x=0;const _=new ReadableStream({start(b){M();function M(){p.read().then(({done:w,value:T})=>{if(w)b.close();else{x+=T.byteLength;const A=new ProgressEvent("progress",{lengthComputable:y,loaded:x,total:v});for(let k=0,L=c.length;k<L;k++){const P=c[k];P.onProgress&&P.onProgress(A)}b.enqueue(T),M()}})}}});return new Response(_)}else throw new WMe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const p=/charset="?([^;"\s]*)"?/i.exec(a),m=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(m);return u.arrayBuffer().then(y=>v.decode(y))}}}).then(u=>{Lp.add(e,u);const c=gc[e];delete gc[e];for(let p=0,m=c.length;p<m;p++){const v=c[p];v.onLoad&&v.onLoad(u)}}).catch(u=>{const c=gc[e];if(c===void 0)throw this.manager.itemError(e),u;delete gc[e];for(let p=0,m=c.length;p<m;p++){const v=c[p];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class $Me extends Ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Vc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=w1.parse(e[r]);n.push(i)}return n}}class GMe extends Ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new vD,l=new Vc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(p){l.load(e[p],function(m){const v=s.parse(m,!0);o[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(a.minFilter=Er),a.image=o,a.format=v.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let p=0,m=e.length;p<m;++p)c(p);else l.load(e,function(p){const m=s.parse(p,!0);if(m.isCubemap){const v=m.mipmaps.length/m.mipmapCount;for(let y=0;y<v;y++){o[y]={mipmaps:[]};for(let x=0;x<m.mipmapCount;x++)o[y].mipmaps.push(m.mipmaps[y*m.mipmapCount+x]),o[y].format=m.format,o[y].width=m.width,o[y].height=m.height}a.image=o}else a.image.width=m.width,a.image.height=m.height,a.mipmaps=m.mipmaps;m.mipmapCount===1&&(a.minFilter=Er),a.format=m.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class S1 extends Ma{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Lp.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=p1("img");function l(){c(),Lp.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(p){c(),i&&i(p),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class _7 extends Ma{constructor(e){super(e)}load(e,n,r,i){const s=new y_,o=new S1(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class w7 extends Ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Yg,a=new Vc(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);!u||(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Us,o.wrapT=u.wrapT!==void 0?u.wrapT:Us,o.magFilter=u.magFilter!==void 0?u.magFilter:Er,o.minFilter=u.minFilter!==void 0?u.minFilter:Er,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Sh),u.mipmapCount===1&&(o.minFilter=Er),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class jMe extends Ma{constructor(e){super(e)}load(e,n,r,i){const s=new ti,o=new S1(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Nh extends Hn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new mt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class S7 extends Nh{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Hn.DefaultUp),this.updateMatrix(),this.groundColor=new mt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const ZA=new vn,LB=new X,DB=new X;class ID{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ne(512,512),this.map=null,this.mapPass=null,this.matrix=new vn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ZT,this._frameExtents=new Ne(1,1),this._viewportCount=1,this._viewports=[new sr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;LB.setFromMatrixPosition(e.matrixWorld),n.position.copy(LB),DB.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(DB),n.updateMatrixWorld(),ZA.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ZA),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(ZA)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class qMe extends ID{constructor(){super(new Pr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=d1*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class b7 extends Nh{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Hn.DefaultUp),this.updateMatrix(),this.target=new Hn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new qMe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const OB=new vn,Sy=new X,JA=new X;class XMe extends ID{constructor(){super(new Pr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ne(4,2),this._viewportCount=6,this._viewports=[new sr(2,1,1,1),new sr(0,1,1,1),new sr(3,1,1,1),new sr(1,1,1,1),new sr(3,0,1,1),new sr(1,0,1,1)],this._cubeDirections=[new X(1,0,0),new X(-1,0,0),new X(0,0,1),new X(0,0,-1),new X(0,1,0),new X(0,-1,0)],this._cubeUps=[new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,1,0),new X(0,0,1),new X(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Sy.setFromMatrixPosition(e.matrixWorld),r.position.copy(Sy),JA.copy(r.position),JA.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(JA),r.updateMatrixWorld(),i.makeTranslation(-Sy.x,-Sy.y,-Sy.z),OB.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(OB)}}class M7 extends Nh{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new XMe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class YMe extends ID{constructor(){super(new ch(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class E7 extends Nh{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Hn.DefaultUp),this.updateMatrix(),this.target=new Hn,this.shadow=new YMe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class T7 extends Nh{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class C7 extends Nh{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class A7{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new X)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class uC extends Nh{constructor(e=new A7,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class cC extends Ma{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Vc(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=cC.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new mt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new mt().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ne().fromArray(o.value);break;case"v3":i.uniforms[s].value=new X().fromArray(o.value);break;case"v4":i.uniforms[s].value=new sr().fromArray(o.value);break;case"m3":i.uniforms[s].value=new mo().fromArray(o.value);break;case"m4":i.uniforms[s].value=new vn().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ne().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ne().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:a7,SpriteMaterial:pD,RawShaderMaterial:l7,ShaderMaterial:xa,PointsMaterial:gD,MeshPhysicalMaterial:ED,MeshStandardMaterial:MD,MeshPhongMaterial:u7,MeshToonMaterial:c7,MeshNormalMaterial:f7,MeshLambertMaterial:h7,MeshDepthMaterial:eC,MeshDistanceMaterial:fD,MeshBasicMaterial:Dh,MeshMatcapMaterial:d7,LineDashedMaterial:p7,LineBasicMaterial:So,Material:Ss};return new n[e]}}class Z3{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class P7 extends Mn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class R7 extends Ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Vc(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(v,y){if(n[y]!==void 0)return n[y];const _=v.interleavedBuffers[y],b=s(v,_.buffer),M=Ig(_.type,b),w=new iC(M,_.stride);return w.uuid=_.uuid,n[y]=w,w}function s(v,y){if(r[y]!==void 0)return r[y];const _=v.arrayBuffers[y],b=new Uint32Array(_).buffer;return r[y]=b,b}const o=e.isInstancedBufferGeometry?new P7:new Mn,a=e.data.index;if(a!==void 0){const v=Ig(a.type,a.array);o.setIndex(new dr(v,1))}const l=e.data.attributes;for(const v in l){const y=l[v];let x;if(y.isInterleavedBufferAttribute){const _=i(e.data,y.data);x=new Ip(_,y.itemSize,y.offset,y.normalized)}else{const _=Ig(y.type,y.array),b=y.isInstancedBufferAttribute?w0:dr;x=new b(_,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),y.usage!==void 0&&x.setUsage(y.usage),y.updateRange!==void 0&&(x.updateRange.offset=y.updateRange.offset,x.updateRange.count=y.updateRange.count),o.setAttribute(v,x)}const u=e.data.morphAttributes;if(u)for(const v in u){const y=u[v],x=[];for(let _=0,b=y.length;_<b;_++){const M=y[_];let w;if(M.isInterleavedBufferAttribute){const T=i(e.data,M.data);w=new Ip(T,M.itemSize,M.offset,M.normalized)}else{const T=Ig(M.type,M.array);w=new dr(T,M.itemSize,M.normalized)}M.name!==void 0&&(w.name=M.name),x.push(w)}o.morphAttributes[v]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,y=p.length;v!==y;++v){const x=p[v];o.addGroup(x.start,x.count,x.materialIndex)}const m=e.data.boundingSphere;if(m!==void 0){const v=new X;m.center!==void 0&&v.fromArray(m.center),o.boundingSphere=new Xp(v,m.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class QMe extends Ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?Z3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Vc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(p){i!==void 0&&i(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Z3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Vc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let p=!1;for(const m in o)if(o[m].data instanceof HTMLImageElement){p=!0;break}p===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new yp().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new sC().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new R7;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in kB?a=kB[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new cC;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=w1.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Ig(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new RD(n);s=new S1(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const p=e[u],m=p.url;if(Array.isArray(m)){const v=[];for(let y=0,x=m.length;y<x;y++){const _=m[y],b=a(_);b!==null&&(b instanceof HTMLImageElement?v.push(b):v.push(new Yg(b.data,b.width,b.height)))}i[p.uuid]=new tp(v)}else{const v=a(p.url);i[p.uuid]=new tp(v)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Ig(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new S1(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let p=0,m=u.length;p<m;p++){const v=u[p],y=await s(v);y!==null&&(y instanceof HTMLImageElement?c.push(y):c.push(new Yg(y.data,y.width,y.height)))}r[l.uuid]=new tp(c)}else{const c=await s(l.url);r[l.uuid]=new tp(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new y_,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Yg:c=new ti,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,KMe)),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],NB),c.wrapT=r(a.wrap[1],NB)),a.format!==void 0&&(c.format=a.format),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,FB)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,FB)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(m){return n[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),n[m]}function l(m){if(m!==void 0){if(Array.isArray(m)){const v=[];for(let y=0,x=m.length;y<x;y++){const _=m[y];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),v.push(r[_])}return v}return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),r[m]}}function u(m){return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),i[m]}let c,p;switch(e.type){case"Scene":o=new rC,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new mt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new nC(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new tC(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new Pr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ch(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new T7(e.color,e.intensity);break;case"DirectionalLight":o=new E7(e.color,e.intensity);break;case"PointLight":o=new M7(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new C7(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new b7(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new S7(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new uC().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),p=l(e.material),o=new q9(c,p),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),p=l(e.material),o=new Li(c,p);break;case"InstancedMesh":c=a(e.geometry),p=l(e.material);const m=e.count,v=e.instanceMatrix,y=e.instanceColor;o=new X9(c,p,m),o.instanceMatrix=new w0(new Float32Array(v.array),16),y!==void 0&&(o.instanceColor=new w0(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new j9;break;case"Line":o=new Mh(a(e.geometry),l(e.material));break;case"LineLoop":o=new Y9(a(e.geometry),l(e.material));break;case"LineSegments":o=new Bu(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Q9(a(e.geometry),l(e.material));break;case"Sprite":o=new G9(l(e.material));break;case"Group":o=new Lg;break;case"Bone":o=new mD;break;default:o=new Hn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let v=0;v<m.length;v++)o.add(this.parseObject(m[v],n,r,i,s))}if(e.animations!==void 0){const m=e.animations;for(let v=0;v<m.length;v++){const y=m[v];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const m=e.levels;for(let v=0;v<m.length;v++){const y=m[v],x=o.getObjectByProperty("uuid",y.object);x!==void 0&&o.addLevel(x,y.distance,y.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const KMe={UVMapping:YT,CubeReflectionMapping:Uc,CubeRefractionMapping:wh,EquirectangularReflectionMapping:y0,EquirectangularRefractionMapping:o1,CubeUVReflectionMapping:H0},NB={RepeatWrapping:a1,ClampToEdgeWrapping:Us,MirroredRepeatWrapping:l1},FB={NearestFilter:ci,NearestMipmapNearestFilter:cE,NearestMipmapLinearFilter:dx,LinearFilter:Er,LinearMipmapNearestFilter:nD,LinearMipmapLinearFilter:Sh};class ZMe extends Ma{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Lp.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Lp.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let hb;class kD{static getContext(){return hb===void 0&&(hb=new(window.AudioContext||window.webkitAudioContext)),hb}static setContext(e){hb=e}}class JMe extends Ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Vc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);kD.getContext().decodeAudioData(l,function(c){n(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class eEe extends uC{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new mt().set(e),s=new mt().set(n),o=new X(i.r,i.g,i.b),a=new X(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class tEe extends uC{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new mt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const zB=new vn,BB=new vn,Ad=new vn;class nEe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Pr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Pr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Ad.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(mp*n.fov*.5)/n.zoom;let a,l;BB.elements[12]=-i,zB.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Ad.elements[0]=2*n.near/(l-a),Ad.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ad),a=-o*n.aspect-s,l=o*n.aspect-s,Ad.elements[0]=2*n.near/(l-a),Ad.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ad)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(BB),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zB)}}class LD{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=UB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=UB();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function UB(){return(typeof performance>"u"?Date:performance).now()}const Pd=new X,VB=new Hs,rEe=new X,Rd=new X;class iEe extends Hn{constructor(){super(),this.type="AudioListener",this.context=kD.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new LD}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Pd,VB,rEe),Rd.set(0,0,-1).applyQuaternion(VB),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Pd.x,i),n.positionY.linearRampToValueAtTime(Pd.y,i),n.positionZ.linearRampToValueAtTime(Pd.z,i),n.forwardX.linearRampToValueAtTime(Rd.x,i),n.forwardY.linearRampToValueAtTime(Rd.y,i),n.forwardZ.linearRampToValueAtTime(Rd.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Pd.x,Pd.y,Pd.z),n.setOrientation(Rd.x,Rd.y,Rd.z,r.x,r.y,r.z)}}class I7 extends Hn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Id=new X,HB=new Hs,sEe=new X,kd=new X;class oEe extends I7{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Id,HB,sEe),kd.set(0,0,1).applyQuaternion(HB);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Id.x,r),n.positionY.linearRampToValueAtTime(Id.y,r),n.positionZ.linearRampToValueAtTime(Id.z,r),n.orientationX.linearRampToValueAtTime(kd.x,r),n.orientationY.linearRampToValueAtTime(kd.y,r),n.orientationZ.linearRampToValueAtTime(kd.z,r)}else n.setPosition(Id.x,Id.y,Id.z),n.setOrientation(kd.x,kd.y,kd.z)}}class aEe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class k7{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Hs.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Hs.multiplyQuaternionsFlat(e,o,e,n,e,r),Hs.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const DD="\\[\\]\\.:\\/",lEe=new RegExp("["+DD+"]","g"),OD="[^"+DD+"]",uEe="[^"+DD.replace("\\.","")+"]",cEe=/((?:WC+[\/:])*)/.source.replace("WC",OD),fEe=/(WCOD+)?/.source.replace("WCOD",uEe),hEe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",OD),dEe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",OD),pEe=new RegExp("^"+cEe+fEe+hEe+dEe+"$"),mEe=["material","materials","bones","map"];class gEe{constructor(e,n,r){const i=r||zn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class zn{constructor(e,n,r){this.path=n,this.parsedPath=r||zn.parseTrackName(n),this.node=zn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new zn.Composite(e,n,r):new zn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(lEe,"")}static parseTrackName(e){const n=pEe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);mEe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=zn.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}zn.Composite=gEe;zn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};zn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};zn.prototype.GetterByBindingType=[zn.prototype._getValue_direct,zn.prototype._getValue_array,zn.prototype._getValue_arrayElement,zn.prototype._getValue_toArray];zn.prototype.SetterByBindingTypeAndVersioning=[[zn.prototype._setValue_direct,zn.prototype._setValue_direct_setNeedsUpdate,zn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[zn.prototype._setValue_array,zn.prototype._setValue_array_setNeedsUpdate,zn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[zn.prototype._setValue_arrayElement,zn.prototype._setValue_arrayElement_setNeedsUpdate,zn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[zn.prototype._setValue_fromArray,zn.prototype._setValue_fromArray_setNeedsUpdate,zn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class vEe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=pa(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,p=arguments.length;c!==p;++c){const m=arguments[c],v=m.uuid;let y=n[v];if(y===void 0){y=l++,n[v]=y,e.push(m);for(let x=0,_=o;x!==_;++x)s[x].push(new zn(m,r[x],i[x]))}else if(y<u){a=e[y];const x=--u,_=e[x];n[_.uuid]=y,e[y]=_,n[v]=x,e[x]=m;for(let b=0,M=o;b!==M;++b){const w=s[b],T=w[x];let A=w[y];w[y]=T,A===void 0&&(A=new zn(m,r[b],i[b])),w[x]=A}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const p=s++,m=e[p];n[m.uuid]=c,e[c]=m,n[u]=p,e[p]=l;for(let v=0,y=i;v!==y;++v){const x=r[v],_=x[p],b=x[c];x[c]=_,x[p]=b}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,p=n[c];if(p!==void 0)if(delete n[c],p<s){const m=--s,v=e[m],y=--o,x=e[y];n[v.uuid]=p,e[p]=v,n[x.uuid]=m,e[m]=x,e.pop();for(let _=0,b=i;_!==b;++_){const M=r[_],w=M[m],T=M[y];M[p]=w,M[m]=T,M.pop()}}else{const m=--o,v=e[m];m>0&&(n[v.uuid]=p),e[p]=v,e.pop();for(let y=0,x=i;y!==x;++y){const _=r[y];_[p]=_[m],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,p=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(p);for(let m=c,v=l.length;m!==v;++m){const y=l[m];p[m]=new zn(y,e,n)}return p}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class yEe{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Jd,endingEnd:Jd};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=M9,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case iD:for(let c=0,p=l.length;c!==p;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case QT:default:for(let c=0,p=l.length;c!==p;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===E9;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===b9){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=ep,i.endingEnd=ep):(e?i.endingStart=this.zeroSlopeAtStart?ep:Jd:i.endingStart=f1,n?i.endingEnd=this.zeroSlopeAtEnd?ep:Jd:i.endingEnd=f1)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const xEe=new Float32Array(1);class _Ee extends zu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let p=0;p!==s;++p){const m=i[p],v=m.name;let y=c[v];if(y!==void 0)++y.referenceCount,o[p]=y;else{if(y=o[p],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,v));continue}const x=n&&n._propertyBindings[p].binding.parsedPath;y=new k7(zn.create(r,v,x),m.ValueTypeName,m.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,v),o[p]=y}a[p].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const p=a.actionByRoot,m=(e._localRoot||this._root).uuid;delete p[m],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new AD(new Float32Array(2),new Float32Array(2),1,xEe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?w1.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=QT),l!==void 0){const p=l.actionByRoot[s];if(p!==void 0&&p.blendMode===r)return p;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new yEe(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?w1.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,p=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,p._cacheIndex=c,n[c]=p,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class ND{constructor(e){this.value=e}clone(){return new ND(this.value.clone===void 0?this.value:this.value.clone())}}let wEe=0;class SEe extends zu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:wEe++}),this.name="",this.usage=h1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class bEe extends iC{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class MEe{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class FD{constructor(e,n,r=0,i=1/0){this.ray=new g_(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new vp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return J3(e,this,r,n),r.sort(WB),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)J3(e[i],this,r,n);return r.sort(WB),r}}function WB(t,e){return t.distance-e.distance}function J3(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)J3(i[s],e,n,!0)}}class eI{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(hi(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class EEe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const $B=new Ne;class TEe{constructor(e=new Ne(1/0,1/0),n=new Ne(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=$B.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return $B.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const GB=new X,db=new X;class CEe{constructor(e=new X,n=new X){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){GB.subVectors(e,this.start),db.subVectors(this.end,this.start);const r=db.dot(db);let s=db.dot(GB)/r;return n&&(s=hi(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const jB=new X;class AEe extends Hn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Mn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new Pt(i,3));const s=new So({fog:!1,toneMapped:!1});this.cone=new Bu(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),jB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(jB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Df=new X,pb=new vn,eP=new vn;class PEe extends Bu{constructor(e){const n=L7(e),r=new Mn,i=[],s=[],o=new mt(0,0,1),a=new mt(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Pt(i,3)),r.setAttribute("color",new Pt(s,3));const l=new So({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");eP.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(pb.multiplyMatrices(eP,a.matrixWorld),Df.setFromMatrixPosition(pb),i.setXYZ(o,Df.x,Df.y,Df.z),pb.multiplyMatrices(eP,a.parent.matrixWorld),Df.setFromMatrixPosition(pb),i.setXYZ(o+1,Df.x,Df.y,Df.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function L7(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,L7(t.children[n]));return e}class REe extends Li{constructor(e,n,r){const i=new X0(n,4,2),s=new Dh({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const IEe=new X,qB=new mt,XB=new mt;class kEe extends Hn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new q0(n);i.rotateY(Math.PI*.5),this.material=new Dh({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new dr(o,3)),this.add(new Li(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");qB.copy(this.light.color),XB.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?qB:XB;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(IEe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class LEe extends Bu{constructor(e=10,n=10,r=4473924,i=8947848){r=new mt(r),i=new mt(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let m=0,v=0,y=-a;m<=n;m++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const x=m===s?r:i;x.toArray(u,v),v+=3,x.toArray(u,v),v+=3,x.toArray(u,v),v+=3,x.toArray(u,v),v+=3}const c=new Mn;c.setAttribute("position",new Pt(l,3)),c.setAttribute("color",new Pt(u,3));const p=new So({vertexColors:!0,toneMapped:!1});super(c,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class DEe extends Bu{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new mt(s),o=new mt(o);const a=[],l=[];if(n>1)for(let p=0;p<n;p++){const m=p/n*(Math.PI*2),v=Math.sin(m)*e,y=Math.cos(m)*e;a.push(0,0,0),a.push(v,0,y);const x=p&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let p=0;p<r;p++){const m=p&1?s:o,v=e-e/r*p;for(let y=0;y<i;y++){let x=y/i*(Math.PI*2),_=Math.sin(x)*v,b=Math.cos(x)*v;a.push(_,0,b),l.push(m.r,m.g,m.b),x=(y+1)/i*(Math.PI*2),_=Math.sin(x)*v,b=Math.cos(x)*v,a.push(_,0,b),l.push(m.r,m.g,m.b)}}const u=new Mn;u.setAttribute("position",new Pt(a,3)),u.setAttribute("color",new Pt(l,3));const c=new So({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const YB=new X,mb=new X,QB=new X;class OEe extends Hn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Mn;i.setAttribute("position",new Pt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new So({fog:!1,toneMapped:!1});this.lightPlane=new Mh(i,s),this.add(this.lightPlane),i=new Mn,i.setAttribute("position",new Pt([0,0,0,0,0,1],3)),this.targetLine=new Mh(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),YB.setFromMatrixPosition(this.light.matrixWorld),mb.setFromMatrixPosition(this.light.target.matrixWorld),QB.subVectors(mb,YB),this.lightPlane.lookAt(mb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(mb),this.targetLine.scale.z=QB.length()}}const gb=new X,Yr=new v_;class NEe extends Bu{constructor(e){const n=new Mn,r=new So({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,x){l(y),l(x)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}n.setAttribute("position",new Pt(i,3)),n.setAttribute("color",new Pt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new mt(16755200),c=new mt(16711680),p=new mt(43775),m=new mt(16777215),v=new mt(3355443);this.setColors(u,c,p,m,v)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Yr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ui("c",n,e,Yr,0,0,-1),ui("t",n,e,Yr,0,0,1),ui("n1",n,e,Yr,-r,-i,-1),ui("n2",n,e,Yr,r,-i,-1),ui("n3",n,e,Yr,-r,i,-1),ui("n4",n,e,Yr,r,i,-1),ui("f1",n,e,Yr,-r,-i,1),ui("f2",n,e,Yr,r,-i,1),ui("f3",n,e,Yr,-r,i,1),ui("f4",n,e,Yr,r,i,1),ui("u1",n,e,Yr,r*.7,i*1.1,-1),ui("u2",n,e,Yr,-r*.7,i*1.1,-1),ui("u3",n,e,Yr,0,i*2,-1),ui("cf1",n,e,Yr,-r,0,1),ui("cf2",n,e,Yr,r,0,1),ui("cf3",n,e,Yr,0,-i,1),ui("cf4",n,e,Yr,0,i,1),ui("cn1",n,e,Yr,-r,0,-1),ui("cn2",n,e,Yr,r,0,-1),ui("cn3",n,e,Yr,0,-i,-1),ui("cn4",n,e,Yr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ui(t,e,n,r,i,s,o){gb.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],gb.x,gb.y,gb.z)}}const vb=new qp;class FEe extends Bu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Mn;s.setIndex(new dr(r,1)),s.setAttribute("position",new dr(i,3)),super(s,new So({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&vb.setFromObject(this.object),vb.isEmpty())return;const n=vb.min,r=vb.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class zEe extends Bu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Mn;s.setIndex(new dr(r,1)),s.setAttribute("position",new Pt(i,3)),super(s,new So({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class BEe extends Mh{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Mn;o.setAttribute("position",new Pt(s,3)),o.computeBoundingSphere(),super(o,new So({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Mn;l.setAttribute("position",new Pt(a,3)),l.computeBoundingSphere(),this.add(new Li(l,new Dh({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const KB=new X;let yb,tP;class UEe extends Hn{constructor(e=new X(0,0,1),n=new X(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",yb===void 0&&(yb=new Mn,yb.setAttribute("position",new Pt([0,0,0,0,1,0],3)),tP=new Qp(0,.5,1,5,1),tP.translate(0,-.5,0)),this.position.copy(n),this.line=new Mh(yb,new So({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Li(tP,new Dh({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{KB.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(KB,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class VEe extends Bu{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Mn;i.setAttribute("position",new Pt(n,3)),i.setAttribute("color",new Pt(r,3));const s=new So({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new mt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class HEe{constructor(){this.type="ShapePath",this.color=new mt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new m1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(b){const M=[];for(let w=0,T=b.length;w<T;w++){const A=b[w],k=new yp;k.curves=A.curves,M.push(k)}return M}function r(b,M){const w=M.length;let T=!1;for(let A=w-1,k=0;k<w;A=k++){let L=M[A],P=M[k],O=P.x-L.x,N=P.y-L.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(L=M[k],O=-O,P=M[A],N=-N),b.y<L.y||b.y>P.y)continue;if(b.y===L.y){if(b.x===L.x)return!0}else{const H=N*(b.x-L.x)-O*(b.y-L.y);if(H===0)return!0;if(H<0)continue;T=!T}}else{if(b.y!==L.y)continue;if(P.x<=b.x&&b.x<=L.x||L.x<=b.x&&b.x<=P.x)return!0}}return T}const i=Ru.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new yp,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const p=[],m=[];let v=[],y=0,x;m[y]=void 0,v[y]=[];for(let b=0,M=s.length;b<M;b++)a=s[b],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!c&&m[y]&&y++,m[y]={s:new yp,p:x},m[y].s.curves=a.curves,c&&y++,v[y]=[]):v[y].push({h:a,p:x[0]});if(!m[0])return n(s);if(m.length>1){let b=!1,M=0;for(let w=0,T=m.length;w<T;w++)p[w]=[];for(let w=0,T=m.length;w<T;w++){const A=v[w];for(let k=0;k<A.length;k++){const L=A[k];let P=!0;for(let O=0;O<m.length;O++)r(L.p,m[O].p)&&(w!==O&&M++,P?(P=!1,p[O].push(L)):b=!0);P&&p[w].push(L)}}M>0&&b===!1&&(v=p)}let _;for(let b=0,M=m.length;b<M;b++){l=m[b].s,u.push(l),_=v[b];for(let w=0,T=_.length;w<T;w++)l.holes.push(_[w].h)}return u}}const Sc=WEe();function WEe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;(u&8388608)===0;)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function $Ee(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=hi(t,-65504,65504),Sc.floatView[0]=t;const e=Sc.uint32View[0],n=e>>23&511;return Sc.baseTable[n]+((e&8388607)>>Sc.shiftTable[n])}function GEe(t){const e=t>>10;return Sc.uint32View[0]=Sc.mantissaTable[Sc.offsetTable[e]+(t&1023)]+Sc.exponentTable[e],Sc.floatView[0]}var Fy=Object.freeze({__proto__:null,toHalfFloat:$Ee,fromHalfFloat:GEe});function jEe(){console.error("THREE.ImmediateRenderObject has been removed.")}class qEe extends yo{constructor(e,n,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,n,r),this.samples=4}}class XEe extends m_{constructor(e,n,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,n,r,i)}}class YEe extends KT{constructor(e,n,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,n,r,i)}}class QEe extends Oh{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class KEe extends x_{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class ZEe extends __{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class JEe extends w_{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class eTe extends Qp{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class tTe extends S_{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class nTe extends b_{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class rTe extends j0{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class iTe extends G0{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class sTe extends q0{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class oTe extends Yp{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class aTe extends Xc{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class lTe extends M_{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class uTe extends E_{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class cTe extends X0{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class fTe extends T_{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class hTe extends C_{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class dTe extends A_{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class pTe extends P_{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:XT}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=XT);const b1=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:tD,AddEquation:Wd,AddOperation:r9,AdditiveAnimationBlendMode:iD,AdditiveBlending:y3,AlphaFormat:d9,AlwaysDepth:QG,AlwaysStencilFunc:P9,AmbientLight:T7,AmbientLightProbe:tEe,AnimationClip:w1,AnimationLoader:$Me,AnimationMixer:_Ee,AnimationObjectGroup:vEe,AnimationUtils:UMe,ArcCurve:K9,ArrayCamera:H9,ArrowHelper:UEe,Audio:I7,AudioAnalyser:aEe,AudioContext:kD,AudioListener:iEe,AudioLoader:JMe,AxesHelper:VEe,BackSide:da,BasicDepthPacking:T9,BasicShadowMap:hxe,Bone:mD,BooleanKeyframeTrack:Kp,Box2:TEe,Box3:qp,Box3Helper:zEe,BoxBufferGeometry:QEe,BoxGeometry:Oh,BoxHelper:FEe,BufferAttribute:dr,BufferGeometry:Mn,BufferGeometryLoader:R7,ByteType:l9,Cache:Lp,Camera:v_,CameraHelper:NEe,CanvasTexture:cMe,CapsuleBufferGeometry:KEe,CapsuleGeometry:x_,CatmullRomCurve3:Z9,CineonToneMapping:o9,CircleBufferGeometry:ZEe,CircleGeometry:__,ClampToEdgeWrapping:Us,Clock:LD,Color:mt,ColorKeyframeTrack:PD,ColorManagement:Os,CompressedArrayTexture:uMe,CompressedTexture:vD,CompressedTextureLoader:GMe,ConeBufferGeometry:JEe,ConeGeometry:w_,CubeCamera:O9,CubeReflectionMapping:Uc,CubeRefractionMapping:wh,CubeTexture:y_,CubeTextureLoader:_7,CubeUVReflectionMapping:H0,CubicBezierCurve:xD,CubicBezierCurve3:J9,CubicInterpolant:g7,CullFaceBack:v3,CullFaceFront:NG,CullFaceFrontBack:fxe,CullFaceNone:OG,Curve:Ul,CurvePath:t7,CustomBlending:FG,CustomToneMapping:a9,CylinderBufferGeometry:eTe,CylinderGeometry:Qp,Cylindrical:EEe,Data3DTexture:KT,DataArrayTexture:m_,DataTexture:Yg,DataTexture2DArray:XEe,DataTexture3D:YEe,DataTextureLoader:w7,DataUtils:Fy,DecrementStencilOp:Mxe,DecrementWrapStencilOp:Txe,DefaultLoadingManager:x7,DepthFormat:uh,DepthStencilFormat:Rp,DepthTexture:hD,DirectionalLight:E7,DirectionalLightHelper:OEe,DiscreteInterpolant:v7,DodecahedronBufferGeometry:tTe,DodecahedronGeometry:S_,DoubleSide:d_,DstAlphaFactor:$G,DstColorFactor:jG,DynamicCopyUsage:Vxe,DynamicDrawUsage:Oxe,DynamicReadUsage:zxe,EdgesGeometry:n7,EllipseCurve:oC,EqualDepth:ZG,EqualStencilFunc:Rxe,EquirectangularReflectionMapping:y0,EquirectangularRefractionMapping:o1,Euler:W0,EventDispatcher:zu,ExtrudeBufferGeometry:nTe,ExtrudeGeometry:b_,FileLoader:Vc,Float16BufferAttribute:S1e,Float32BufferAttribute:Pt,Float64BufferAttribute:b1e,FloatType:ca,Fog:nC,FogExp2:tC,FramebufferTexture:lMe,FrontSide:_h,Frustum:ZT,GLBufferAttribute:MEe,GLSL1:Wxe,GLSL3:$3,GreaterDepth:e9,GreaterEqualDepth:JG,GreaterEqualStencilFunc:Dxe,GreaterStencilFunc:kxe,GridHelper:LEe,Group:Lg,HalfFloatType:Xa,HemisphereLight:S7,HemisphereLightHelper:kEe,HemisphereLightProbe:eEe,IcosahedronBufferGeometry:rTe,IcosahedronGeometry:j0,ImageBitmapLoader:ZMe,ImageLoader:S1,ImageUtils:oD,ImmediateRenderObject:jEe,IncrementStencilOp:bxe,IncrementWrapStencilOp:Exe,InstancedBufferAttribute:w0,InstancedBufferGeometry:P7,InstancedInterleavedBuffer:bEe,InstancedMesh:X9,Int16BufferAttribute:_1e,Int32BufferAttribute:w1e,Int8BufferAttribute:v1e,IntType:c9,InterleavedBuffer:iC,InterleavedBufferAttribute:Ip,Interpolant:R_,InterpolateDiscrete:u1,InterpolateLinear:c1,InterpolateSmooth:sM,InvertStencilOp:Cxe,KeepStencilOp:oM,KeyframeTrack:Vl,LOD:j9,LatheBufferGeometry:iTe,LatheGeometry:G0,Layers:vp,LessDepth:KG,LessEqualDepth:uE,LessEqualStencilFunc:Ixe,LessStencilFunc:Pxe,Light:Nh,LightProbe:uC,Line:Mh,Line3:CEe,LineBasicMaterial:So,LineCurve:aC,LineCurve3:e7,LineDashedMaterial:p7,LineLoop:Y9,LineSegments:Bu,LinearEncoding:zl,LinearFilter:Er,LinearInterpolant:AD,LinearMipMapLinearFilter:gxe,LinearMipMapNearestFilter:mxe,LinearMipmapLinearFilter:Sh,LinearMipmapNearestFilter:nD,LinearSRGBColorSpace:x0,LinearToneMapping:i9,Loader:Ma,LoaderUtils:Z3,LoadingManager:RD,LoopOnce:b9,LoopPingPong:E9,LoopRepeat:M9,LuminanceAlphaFormat:g9,LuminanceFormat:m9,MOUSE:Nd,Material:Ss,MaterialLoader:cC,MathUtils:r1e,Matrix3:mo,Matrix4:vn,MaxEquation:S3,Mesh:Li,MeshBasicMaterial:Dh,MeshDepthMaterial:eC,MeshDistanceMaterial:fD,MeshLambertMaterial:h7,MeshMatcapMaterial:d7,MeshNormalMaterial:f7,MeshPhongMaterial:u7,MeshPhysicalMaterial:ED,MeshStandardMaterial:MD,MeshToonMaterial:c7,MinEquation:w3,MirroredRepeatWrapping:l1,MixOperation:n9,MultiplyBlending:_3,MultiplyOperation:p_,NearestFilter:ci,NearestMipMapLinearFilter:pxe,NearestMipMapNearestFilter:dxe,NearestMipmapLinearFilter:dx,NearestMipmapNearestFilter:cE,NeverDepth:YG,NeverStencilFunc:Axe,NoBlending:Rc,NoColorSpace:_xe,NoToneMapping:Ol,NormalAnimationBlendMode:QT,NormalBlending:dp,NotEqualDepth:t9,NotEqualStencilFunc:Lxe,NumberKeyframeTrack:x1,Object3D:Hn,ObjectLoader:QMe,ObjectSpaceNormalMap:A9,OctahedronBufferGeometry:sTe,OctahedronGeometry:q0,OneFactor:VG,OneMinusDstAlphaFactor:GG,OneMinusDstColorFactor:qG,OneMinusSrcAlphaFactor:eD,OneMinusSrcColorFactor:WG,OrthographicCamera:ch,PCFShadowMap:KL,PCFSoftShadowMap:ZL,PMREMGenerator:j3,Path:m1,PerspectiveCamera:Pr,Plane:Vf,PlaneBufferGeometry:oTe,PlaneGeometry:Yp,PlaneHelper:BEe,PointLight:M7,PointLightHelper:REe,Points:Q9,PointsMaterial:gD,PolarGridHelper:DEe,PolyhedronBufferGeometry:aTe,PolyhedronGeometry:Xc,PositionalAudio:oEe,PropertyBinding:zn,PropertyMixer:k7,QuadraticBezierCurve:_D,QuadraticBezierCurve3:wD,Quaternion:Hs,QuaternionKeyframeTrack:Y0,QuaternionLinearInterpolant:y7,REVISION:XT,RGBADepthPacking:C9,RGBAFormat:la,RGBAIntegerFormat:w9,RGBA_ASTC_10x10_Format:U3,RGBA_ASTC_10x5_Format:F3,RGBA_ASTC_10x6_Format:z3,RGBA_ASTC_10x8_Format:B3,RGBA_ASTC_12x10_Format:V3,RGBA_ASTC_12x12_Format:H3,RGBA_ASTC_4x4_Format:P3,RGBA_ASTC_5x4_Format:R3,RGBA_ASTC_5x5_Format:I3,RGBA_ASTC_6x5_Format:k3,RGBA_ASTC_6x6_Format:L3,RGBA_ASTC_8x5_Format:D3,RGBA_ASTC_8x6_Format:O3,RGBA_ASTC_8x8_Format:N3,RGBA_BPTC_Format:W3,RGBA_ETC2_EAC_Format:A3,RGBA_PVRTC_2BPPV1_Format:T3,RGBA_PVRTC_4BPPV1_Format:E3,RGBA_S3TC_DXT1_Format:nM,RGBA_S3TC_DXT3_Format:rM,RGBA_S3TC_DXT5_Format:iM,RGBFormat:p9,RGB_ETC1_Format:S9,RGB_ETC2_Format:C3,RGB_PVRTC_2BPPV1_Format:M3,RGB_PVRTC_4BPPV1_Format:b3,RGB_S3TC_DXT1_Format:tM,RGFormat:x9,RGIntegerFormat:_9,RawShaderMaterial:l7,Ray:g_,Raycaster:FD,RectAreaLight:C7,RedFormat:v9,RedIntegerFormat:y9,ReinhardToneMapping:s9,RepeatWrapping:a1,ReplaceStencilOp:Sxe,ReverseSubtractEquation:BG,RingBufferGeometry:lTe,RingGeometry:M_,SRGBColorSpace:El,Scene:rC,ShaderChunk:bn,ShaderLib:Cl,ShaderMaterial:xa,ShadowMaterial:a7,Shape:yp,ShapeBufferGeometry:uTe,ShapeGeometry:E_,ShapePath:HEe,ShapeUtils:Ru,ShortType:u9,Skeleton:sC,SkeletonHelper:PEe,SkinnedMesh:q9,Source:tp,Sphere:Xp,SphereBufferGeometry:cTe,SphereGeometry:X0,Spherical:eI,SphericalHarmonics3:A7,SplineCurve:SD,SpotLight:b7,SpotLightHelper:AEe,Sprite:G9,SpriteMaterial:pD,SrcAlphaFactor:JL,SrcAlphaSaturateFactor:XG,SrcColorFactor:HG,StaticCopyUsage:Uxe,StaticDrawUsage:h1,StaticReadUsage:Fxe,StereoCamera:nEe,StreamCopyUsage:Hxe,StreamDrawUsage:Nxe,StreamReadUsage:Bxe,StringKeyframeTrack:Zp,SubtractEquation:zG,SubtractiveBlending:x3,TOUCH:Fd,TangentSpaceNormalMap:Lh,TetrahedronBufferGeometry:fTe,TetrahedronGeometry:T_,Texture:ti,TextureLoader:jMe,TorusBufferGeometry:hTe,TorusGeometry:C_,TorusKnotBufferGeometry:dTe,TorusKnotGeometry:A_,Triangle:Wa,TriangleFanDrawMode:xxe,TriangleStripDrawMode:yxe,TrianglesDrawMode:vxe,TubeBufferGeometry:pTe,TubeGeometry:P_,TwoPassDoubleSide:Oy,UVMapping:YT,Uint16BufferAttribute:aD,Uint32BufferAttribute:lD,Uint8BufferAttribute:y1e,Uint8ClampedBufferAttribute:x1e,Uniform:ND,UniformsGroup:SEe,UniformsLib:ot,UniformsUtils:D9,UnsignedByteType:bh,UnsignedInt248Type:pp,UnsignedIntType:Qf,UnsignedShort4444Type:f9,UnsignedShort5551Type:h9,UnsignedShortType:rD,VSMShadowMap:Rg,Vector2:Ne,Vector3:X,Vector4:sr,VectorKeyframeTrack:_1,VideoTexture:aMe,WebGL1Renderer:W9,WebGL3DRenderTarget:a1e,WebGLArrayRenderTarget:o1e,WebGLCubeRenderTarget:uD,WebGLMultipleRenderTargets:l1e,WebGLMultisampleRenderTarget:qEe,WebGLRenderTarget:yo,WebGLRenderer:dD,WebGLUtils:V9,WireframeGeometry:o7,WrapAroundEnding:f1,ZeroCurvatureEnding:Jd,ZeroFactor:UG,ZeroSlopeEnding:ep,ZeroStencilOp:wxe,_SRGBAFormat:fE,sRGBEncoding:ir},Symbol.toStringTag,{value:"Module"}));var rp={exports:{}},Jp={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Jp.ConcurrentRoot=1;Jp.ContinuousEventPriority=4;Jp.DefaultEventPriority=16;Jp.DiscreteEventPriority=1;Jp.IdleEventPriority=536870912;Jp.LegacyRoot=0;(function(t){t.exports=Jp})(rp);function mTe(t){let e;const n=new Set,r=(u,c)=>{const p=typeof u=="function"?u(e):u;if(p!==e){const m=e;e=c?p:Object.assign({},e,p),n.forEach(v=>v(e,m))}},i=()=>e,s=(u,c=i,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let m=c(e);function v(){const y=c(e);if(!p(m,y)){const x=m;u(m=y,x)}}return n.add(v),()=>n.delete(v)},l={setState:r,getState:i,subscribe:(u,c,p)=>c||p?s(u,c,p):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const gTe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ZB=gTe?U.exports.useEffect:U.exports.useLayoutEffect;function D7(t){const e=typeof t=="function"?mTe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=U.exports.useReducer(_=>_+1,0),o=e.getState(),a=U.exports.useRef(o),l=U.exports.useRef(r),u=U.exports.useRef(i),c=U.exports.useRef(!1),p=U.exports.useRef();p.current===void 0&&(p.current=r(o));let m,v=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(m=r(o),v=!i(p.current,m)),ZB(()=>{v&&(p.current=m),a.current=o,l.current=r,u.current=i,c.current=!1});const y=U.exports.useRef(o);ZB(()=>{const _=()=>{try{const M=e.getState(),w=l.current(M);u.current(p.current,w)||(a.current=M,p.current=w,s())}catch{c.current=!0,s()}},b=e.subscribe(_);return e.getState()!==y.current&&_(),b},[]);const x=v?m:p.current;return U.exports.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var O7={exports:{}},nP={exports:{}},rP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JB;function vTe(){return JB||(JB=1,function(t){function e(z,Y){var Z=z.length;z.push(Y);e:for(;0<Z;){var B=Z-1>>>1,G=z[B];if(0<i(G,Y))z[B]=Y,z[Z]=G,Z=B;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],Z=z.pop();if(Z!==Y){z[0]=Z;e:for(var B=0,G=z.length,le=G>>>1;B<le;){var we=2*(B+1)-1,Me=z[we],pe=we+1,We=z[pe];if(0>i(Me,Z))pe<G&&0>i(We,Me)?(z[B]=We,z[pe]=Z,B=pe):(z[B]=Me,z[we]=Z,B=we);else if(pe<G&&0>i(We,Z))z[B]=We,z[pe]=Z,B=pe;else break e}}return Y}function i(z,Y){var Z=z.sortIndex-Y.sortIndex;return Z!==0?Z:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,p=null,m=3,v=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=z)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function T(z){if(x=!1,w(z),!y)if(n(l)!==null)y=!0,ae(A);else{var Y=n(u);Y!==null&&fe(T,Y.startTime-z)}}function A(z,Y){y=!1,x&&(x=!1,b(P),P=-1),v=!0;var Z=m;try{for(w(Y),p=n(l);p!==null&&(!(p.expirationTime>Y)||z&&!H());){var B=p.callback;if(typeof B=="function"){p.callback=null,m=p.priorityLevel;var G=B(p.expirationTime<=Y);Y=t.unstable_now(),typeof G=="function"?p.callback=G:p===n(l)&&r(l),w(Y)}else r(l);p=n(l)}if(p!==null)var le=!0;else{var we=n(u);we!==null&&fe(T,we.startTime-Y),le=!1}return le}finally{p=null,m=Z,v=!1}}var k=!1,L=null,P=-1,O=5,N=-1;function H(){return!(t.unstable_now()-N<O)}function ie(){if(L!==null){var z=t.unstable_now();N=z;var Y=!0;try{Y=L(!0,z)}finally{Y?te():(k=!1,L=null)}}else k=!1}var te;if(typeof M=="function")te=function(){M(ie)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ue=ee.port2;ee.port1.onmessage=ie,te=function(){ue.postMessage(null)}}else te=function(){_(ie,0)};function ae(z){L=z,k||(k=!0,te())}function fe(z,Y){P=_(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,ae(A))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var Z=m;m=Y;try{return z()}finally{m=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=m;m=z;try{return Y()}finally{m=Z}},t.unstable_scheduleCallback=function(z,Y,Z){var B=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?B+Z:B):Z=B,z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,z={id:c++,callback:Y,priorityLevel:z,startTime:Z,expirationTime:G,sortIndex:-1},Z>B?(z.sortIndex=Z,e(u,z),n(l)===null&&z===n(u)&&(x?(b(P),P=-1):x=!0,fe(T,Z-B))):(z.sortIndex=G,e(l,z),y||v||(y=!0,ae(A))),z},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(z){var Y=m;return function(){var Z=m;m=Y;try{return z.apply(this,arguments)}finally{m=Z}}}}(rP)),rP}var eU;function yTe(){return eU||(eU=1,function(t){t.exports=vTe()}(nP)),nP.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xTe=function(e){var n={},r=U.exports,i=yTe(),s=Object.assign;function o(h){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)d+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),A=Symbol.iterator;function k(h){return h===null||typeof h!="object"?null:(h=A&&h[A]||h["@@iterator"],typeof h=="function"?h:null)}function L(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case c:return"Fragment";case u:return"Portal";case m:return"Profiler";case p:return"StrictMode";case _:return"Suspense";case b:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case y:return(h.displayName||"Context")+".Consumer";case v:return(h._context.displayName||"Context")+".Provider";case x:var d=h.render;return h=h.displayName,h||(h=d.displayName||d.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case M:return d=h.displayName||null,d!==null?d:L(h.type)||"Memo";case w:d=h._payload,h=h._init;try{return L(h(d))}catch{}}return null}function P(h){var d=h.type;switch(h.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=d.render,h=h.displayName||h.name||"",d.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(d);case 8:return d===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function O(h){var d=h,S=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do d=h,(d.flags&4098)!==0&&(S=d.return),h=d.return;while(h)}return d.tag===3?S:null}function N(h){if(O(h)!==h)throw Error(o(188))}function H(h){var d=h.alternate;if(!d){if(d=O(h),d===null)throw Error(o(188));return d!==h?null:h}for(var S=h,C=d;;){var R=S.return;if(R===null)break;var D=R.alternate;if(D===null){if(C=R.return,C!==null){S=C;continue}break}if(R.child===D.child){for(D=R.child;D;){if(D===S)return N(R),h;if(D===C)return N(R),d;D=D.sibling}throw Error(o(188))}if(S.return!==C.return)S=R,C=D;else{for(var K=!1,he=R.child;he;){if(he===S){K=!0,S=R,C=D;break}if(he===C){K=!0,C=R,S=D;break}he=he.sibling}if(!K){for(he=D.child;he;){if(he===S){K=!0,S=D,C=R;break}if(he===C){K=!0,C=D,S=R;break}he=he.sibling}if(!K)throw Error(o(189))}}if(S.alternate!==C)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?h:d}function ie(h){return h=H(h),h!==null?te(h):null}function te(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var d=te(h);if(d!==null)return d;h=h.sibling}return null}function ee(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var d=ee(h);if(d!==null)return d}h=h.sibling}return null}var ue=Array.isArray,ae=e.getPublicInstance,fe=e.getRootHostContext,z=e.getChildHostContext,Y=e.prepareForCommit,Z=e.resetAfterCommit,B=e.createInstance,G=e.appendInitialChild,le=e.finalizeInitialChildren,we=e.prepareUpdate,Me=e.shouldSetTextContent,pe=e.createTextInstance,We=e.scheduleTimeout,Be=e.cancelTimeout,Qe=e.noTimeout,Fe=e.isPrimaryRenderer,pt=e.supportsMutation,Ie=e.supportsPersistence,Ae=e.supportsHydration,qe=e.getInstanceFromNode,ct=e.preparePortalMount,rt=e.getCurrentEventPriority,St=e.detachDeletedInstance,bt=e.supportsMicrotasks,Mt=e.scheduleMicrotask,zt=e.supportsTestSelectors,Nt=e.findFiberRoot,Q=e.getBoundingRect,W=e.getTextContent,be=e.isHiddenSubtree,$e=e.matchAccessibilityRole,Ke=e.setFocusIfFocusable,nt=e.setupIntersectionObserver,_t=e.appendChild,it=e.appendChildToContainer,De=e.commitTextUpdate,yt=e.commitMount,re=e.commitUpdate,Te=e.insertBefore,je=e.insertInContainerBefore,et=e.removeChild,wt=e.removeChildFromContainer,Kt=e.resetTextContent,tr=e.hideInstance,de=e.hideTextInstance,Pe=e.unhideInstance,Ve=e.unhideTextInstance,at=e.clearContainer,Tt=e.cloneInstance,ln=e.createContainerChildSet,wr=e.appendChildToContainerChildSet,Wr=e.finalizeContainerChildren,Xs=e.replaceContainerChildren,Wn=e.cloneHiddenInstance,Ms=e.cloneHiddenTextInstance,pr=e.canHydrateInstance,Hl=e.canHydrateTextInstance,Vh=e.canHydrateSuspenseInstance,Wl=e.isSuspenseInstancePending,Uu=e.isSuspenseInstanceFallback,q=e.registerSuspenseInstanceRetry,ye=e.getNextHydratableSibling,Le=e.getFirstHydratableChild,xe=e.getFirstHydratableChildWithinContainer,Oe=e.getFirstHydratableChildWithinSuspenseInstance,kt=e.hydrateInstance,qt=e.hydrateTextInstance,Ht=e.hydrateSuspenseInstance,un=e.getNextHydratableInstanceAfterSuspenseInstance,En=e.commitHydratedContainer,_n=e.commitHydratedSuspenseInstance,wn=e.clearSuspenseBoundary,mr=e.clearSuspenseBoundaryFromContainer,Ei=e.shouldDeleteUnhydratedTailInstances,mi=e.didNotMatchHydratedContainerTextInstance,Ho=e.didNotMatchHydratedTextInstance,On;function Jt(h){if(On===void 0)try{throw Error()}catch(S){var d=S.stack.trim().match(/\n( *(at )?)/);On=d&&d[1]||""}return`
`+On+h}var rl=!1;function nr(h,d){if(!h||rl)return"";rl=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ze){var C=Ze}Reflect.construct(h,[],d)}else{try{d.call()}catch(Ze){C=Ze}h.call(d.prototype)}else{try{throw Error()}catch(Ze){C=Ze}h()}}catch(Ze){if(Ze&&C&&typeof Ze.stack=="string"){for(var R=Ze.stack.split(`
`),D=C.stack.split(`
`),K=R.length-1,he=D.length-1;1<=K&&0<=he&&R[K]!==D[he];)he--;for(;1<=K&&0<=he;K--,he--)if(R[K]!==D[he]){if(K!==1||he!==1)do if(K--,he--,0>he||R[K]!==D[he]){var Re=`
`+R[K].replace(" at new "," at ");return h.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",h.displayName)),Re}while(1<=K&&0<=he);break}}}finally{rl=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?Jt(h):""}var Ys=Object.prototype.hasOwnProperty,il=[],os=-1;function Es(h){return{current:h}}function en(h){0>os||(h.current=il[os],il[os]=null,os--)}function Tn(h,d){os++,il[os]=h.current,h.current=d}var Ts={},Ln=Es(Ts),Lr=Es(!1),bo=Ts;function Qs(h,d){var S=h.type.contextTypes;if(!S)return Ts;var C=h.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===d)return C.__reactInternalMemoizedMaskedChildContext;var R={},D;for(D in S)R[D]=d[D];return C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=d,h.__reactInternalMemoizedMaskedChildContext=R),R}function Bi(h){return h=h.childContextTypes,h!=null}function Vu(){en(Lr),en(Ln)}function Hu(h,d,S){if(Ln.current!==Ts)throw Error(o(168));Tn(Ln,d),Tn(Lr,S)}function Hh(h,d,S){var C=h.stateNode;if(d=d.childContextTypes,typeof C.getChildContext!="function")return S;C=C.getChildContext();for(var R in C)if(!(R in d))throw Error(o(108,P(h)||"Unknown",R));return s({},S,C)}function sl(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Ts,bo=Ln.current,Tn(Ln,h),Tn(Lr,Lr.current),!0}function Wu(h,d,S){var C=h.stateNode;if(!C)throw Error(o(169));S?(h=Hh(h,d,bo),C.__reactInternalMemoizedMergedChildContext=h,en(Lr),en(Ln),Tn(Ln,h)):en(Lr),Tn(Lr,S)}var Cs=Math.clz32?Math.clz32:sm,Wh=Math.log,im=Math.LN2;function sm(h){return h>>>=0,h===0?32:31-(Wh(h)/im|0)|0}var $l=64,Gl=4194304;function Ks(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function $u(h,d){var S=h.pendingLanes;if(S===0)return 0;var C=0,R=h.suspendedLanes,D=h.pingedLanes,K=S&268435455;if(K!==0){var he=K&~R;he!==0?C=Ks(he):(D&=K,D!==0&&(C=Ks(D)))}else K=S&~R,K!==0?C=Ks(K):D!==0&&(C=Ks(D));if(C===0)return 0;if(d!==0&&d!==C&&(d&R)===0&&(R=C&-C,D=d&-d,R>=D||R===16&&(D&4194240)!==0))return d;if((C&4)!==0&&(C|=S&16),d=h.entangledLanes,d!==0)for(h=h.entanglements,d&=C;0<d;)S=31-Cs(d),R=1<<S,C|=h[S],d&=~R;return C}function om(h,d){switch(h){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fv(h,d){for(var S=h.suspendedLanes,C=h.pingedLanes,R=h.expirationTimes,D=h.pendingLanes;0<D;){var K=31-Cs(D),he=1<<K,Re=R[K];Re===-1?((he&S)===0||(he&C)!==0)&&(R[K]=om(he,d)):Re<=d&&(h.expiredLanes|=he),D&=~he}}function jl(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Yc(h){for(var d=[],S=0;31>S;S++)d.push(h);return d}function ql(h,d,S){h.pendingLanes|=d,d!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,d=31-Cs(d),h[d]=S}function am(h,d){var S=h.pendingLanes&~d;h.pendingLanes=d,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=d,h.mutableReadLanes&=d,h.entangledLanes&=d,d=h.entanglements;var C=h.eventTimes;for(h=h.expirationTimes;0<S;){var R=31-Cs(S),D=1<<R;d[R]=0,C[R]=-1,h[R]=-1,S&=~D}}function Xl(h,d){var S=h.entangledLanes|=d;for(h=h.entanglements;S;){var C=31-Cs(S),R=1<<C;R&d|h[C]&d&&(h[C]|=d),S&=~R}}var Cn=0;function Qc(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var Yl=i.unstable_scheduleCallback,lm=i.unstable_cancelCallback,um=i.unstable_shouldYield,$h=i.unstable_requestPaint,Dr=i.unstable_now,Zs=i.unstable_ImmediatePriority,Gu=i.unstable_UserBlockingPriority,Gh=i.unstable_NormalPriority,cm=i.unstable_IdlePriority,Kc=null,Js=null;function rr(h){if(Js&&typeof Js.onCommitFiberRoot=="function")try{Js.onCommitFiberRoot(Kc,h,void 0,(h.current.flags&128)===128)}catch{}}function Xn(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var eo=typeof Object.is=="function"?Object.is:Xn,Wo=null,j=!1,ce=!1;function Se(h){Wo===null?Wo=[h]:Wo.push(h)}function ht(h){j=!0,Se(h)}function Qt(){if(!ce&&Wo!==null){ce=!0;var h=0,d=Cn;try{var S=Wo;for(Cn=1;h<S.length;h++){var C=S[h];do C=C(!0);while(C!==null)}Wo=null,j=!1}catch(R){throw Wo!==null&&(Wo=Wo.slice(h+1)),Yl(Zs,Qt),R}finally{Cn=d,ce=!1}}return null}var $n=a.ReactCurrentBatchConfig;function Zt(h,d){if(eo(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var S=Object.keys(h),C=Object.keys(d);if(S.length!==C.length)return!1;for(C=0;C<S.length;C++){var R=S[C];if(!Ys.call(d,R)||!eo(h[R],d[R]))return!1}return!0}function yn(h){switch(h.tag){case 5:return Jt(h.type);case 16:return Jt("Lazy");case 13:return Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 2:case 15:return h=nr(h.type,!1),h;case 11:return h=nr(h.type.render,!1),h;case 1:return h=nr(h.type,!0),h;default:return""}}function sn(h,d){if(h&&h.defaultProps){d=s({},d),h=h.defaultProps;for(var S in h)d[S]===void 0&&(d[S]=h[S]);return d}return d}var gi=Es(null),$r=null,Sr=null,Ql=null;function Kl(){Ql=Sr=$r=null}function Zc(h,d,S){Fe?(Tn(gi,d._currentValue),d._currentValue=S):(Tn(gi,d._currentValue2),d._currentValue2=S)}function fm(h){var d=gi.current;en(gi),Fe?h._currentValue=d:h._currentValue2=d}function hm(h,d,S){for(;h!==null;){var C=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,C!==null&&(C.childLanes|=d)):C!==null&&(C.childLanes&d)!==d&&(C.childLanes|=d),h===S)break;h=h.return}}function ju(h,d){$r=h,Ql=Sr=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&d)!==0&&(no=!0),h.firstContext=null)}function gr(h){var d=Fe?h._currentValue:h._currentValue2;if(Ql!==h)if(h={context:h,memoizedValue:d,next:null},Sr===null){if($r===null)throw Error(o(308));Sr=h,$r.dependencies={lanes:0,firstContext:h}}else Sr=Sr.next=h;return d}var Ea=null,ri=!1;function hv(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dv(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Ui(h,d){return{eventTime:h,lane:d,tag:0,payload:null,callback:null,next:null}}function $o(h,d){var S=h.updateQueue;S!==null&&(S=S.shared,Gr!==null&&(h.mode&1)!==0&&(pn&2)===0?(h=S.interleaved,h===null?(d.next=d,Ea===null?Ea=[S]:Ea.push(S)):(d.next=h.next,h.next=d),S.interleaved=d):(h=S.pending,h===null?d.next=d:(d.next=h.next,h.next=d),S.pending=d))}function Jc(h,d,S){if(d=d.updateQueue,d!==null&&(d=d.shared,(S&4194240)!==0)){var C=d.lanes;C&=h.pendingLanes,S|=C,d.lanes=S,Xl(h,S)}}function ur(h,d){var S=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,S===C)){var R=null,D=null;if(S=S.firstBaseUpdate,S!==null){do{var K={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};D===null?R=D=K:D=D.next=K,S=S.next}while(S!==null);D===null?R=D=d:D=D.next=d}else R=D=d;S={baseState:C.baseState,firstBaseUpdate:R,lastBaseUpdate:D,shared:C.shared,effects:C.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=d:h.next=d,S.lastBaseUpdate=d}function Go(h,d,S,C){var R=h.updateQueue;ri=!1;var D=R.firstBaseUpdate,K=R.lastBaseUpdate,he=R.shared.pending;if(he!==null){R.shared.pending=null;var Re=he,Ze=Re.next;Re.next=null,K===null?D=Ze:K.next=Ze,K=Re;var gt=h.alternate;gt!==null&&(gt=gt.updateQueue,he=gt.lastBaseUpdate,he!==K&&(he===null?gt.firstBaseUpdate=Ze:he.next=Ze,gt.lastBaseUpdate=Re))}if(D!==null){var tn=R.baseState;K=0,gt=Ze=Re=null,he=D;do{var Lt=he.lane,Yn=he.eventTime;if((C&Lt)===Lt){gt!==null&&(gt=gt.next={eventTime:Yn,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var Ct=h,Xi=he;switch(Lt=d,Yn=S,Xi.tag){case 1:if(Ct=Xi.payload,typeof Ct=="function"){tn=Ct.call(Yn,tn,Lt);break e}tn=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Xi.payload,Lt=typeof Ct=="function"?Ct.call(Yn,tn,Lt):Ct,Lt==null)break e;tn=s({},tn,Lt);break e;case 2:ri=!0}}he.callback!==null&&he.lane!==0&&(h.flags|=64,Lt=R.effects,Lt===null?R.effects=[he]:Lt.push(he))}else Yn={eventTime:Yn,lane:Lt,tag:he.tag,payload:he.payload,callback:he.callback,next:null},gt===null?(Ze=gt=Yn,Re=tn):gt=gt.next=Yn,K|=Lt;if(he=he.next,he===null){if(he=R.shared.pending,he===null)break;Lt=he,he=Lt.next,Lt.next=null,R.lastBaseUpdate=Lt,R.shared.pending=null}}while(1);if(gt===null&&(Re=tn),R.baseState=Re,R.firstBaseUpdate=Ze,R.lastBaseUpdate=gt,d=R.shared.interleaved,d!==null){R=d;do K|=R.lane,R=R.next;while(R!==d)}else D===null&&(R.shared.lanes=0);wf|=K,h.lanes=K,h.memoizedState=tn}}function dm(h,d,S){if(h=d.effects,d.effects=null,h!==null)for(d=0;d<h.length;d++){var C=h[d],R=C.callback;if(R!==null){if(C.callback=null,C=S,typeof R!="function")throw Error(o(191,R));R.call(C)}}}var tw=new r.Component().refs;function jh(h,d,S,C){d=h.memoizedState,S=S(C,d),S=S==null?d:s({},d,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var pm={isMounted:function(h){return(h=h._reactInternals)?O(h)===h:!1},enqueueSetState:function(h,d,S){h=h._reactInternals;var C=$i(),R=ka(h),D=Ui(C,R);D.payload=d,S!=null&&(D.callback=S),$o(h,D),d=Eo(h,R,C),d!==null&&Jc(d,h,R)},enqueueReplaceState:function(h,d,S){h=h._reactInternals;var C=$i(),R=ka(h),D=Ui(C,R);D.tag=1,D.payload=d,S!=null&&(D.callback=S),$o(h,D),d=Eo(h,R,C),d!==null&&Jc(d,h,R)},enqueueForceUpdate:function(h,d){h=h._reactInternals;var S=$i(),C=ka(h),R=Ui(S,C);R.tag=2,d!=null&&(R.callback=d),$o(h,R),d=Eo(h,C,S),d!==null&&Jc(d,h,C)}};function nw(h,d,S,C,R,D,K){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,D,K):d.prototype&&d.prototype.isPureReactComponent?!Zt(S,C)||!Zt(R,D):!0}function rw(h,d,S){var C=!1,R=Ts,D=d.contextType;return typeof D=="object"&&D!==null?D=gr(D):(R=Bi(d)?bo:Ln.current,C=d.contextTypes,D=(C=C!=null)?Qs(h,R):Ts),d=new d(S,D),h.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pm,h.stateNode=d,d._reactInternals=h,C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=R,h.__reactInternalMemoizedMaskedChildContext=D),d}function pv(h,d,S,C){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(S,C),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(S,C),d.state!==h&&pm.enqueueReplaceState(d,d.state,null)}function ef(h,d,S,C){var R=h.stateNode;R.props=S,R.state=h.memoizedState,R.refs=tw,hv(h);var D=d.contextType;typeof D=="object"&&D!==null?R.context=gr(D):(D=Bi(d)?bo:Ln.current,R.context=Qs(h,D)),R.state=h.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(jh(h,d,D,S),R.state=h.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(d=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),d!==R.state&&pm.enqueueReplaceState(R,R.state,null),Go(h,S,R,C),R.state=h.memoizedState),typeof R.componentDidMount=="function"&&(h.flags|=4194308)}var jo=[],tf=0,qh=null,Xh=0,As=[],Ps=0,Zl=null,ol=1,qo="";function al(h,d){jo[tf++]=Xh,jo[tf++]=qh,qh=h,Xh=d}function iw(h,d,S){As[Ps++]=ol,As[Ps++]=qo,As[Ps++]=Zl,Zl=h;var C=ol;h=qo;var R=32-Cs(C)-1;C&=~(1<<R),S+=1;var D=32-Cs(d)+R;if(30<D){var K=R-R%5;D=(C&(1<<K)-1).toString(32),C>>=K,R-=K,ol=1<<32-Cs(d)+R|S<<R|C,qo=D+h}else ol=1<<D|S<<R|C,qo=h}function mm(h){h.return!==null&&(al(h,1),iw(h,1,0))}function as(h){for(;h===qh;)qh=jo[--tf],jo[tf]=null,Xh=jo[--tf],jo[tf]=null;for(;h===Zl;)Zl=As[--Ps],As[Ps]=null,qo=As[--Ps],As[Ps]=null,ol=As[--Ps],As[Ps]=null}var ls=null,Ti=null,cr=!1,nf=!1,Xo=null;function sw(h,d){var S=To(5,null,null,0);S.elementType="DELETED",S.stateNode=d,S.return=h,d=h.deletions,d===null?(h.deletions=[S],h.flags|=16):d.push(S)}function ow(h,d){switch(h.tag){case 5:return d=pr(d,h.type,h.pendingProps),d!==null?(h.stateNode=d,ls=h,Ti=Le(d),!0):!1;case 6:return d=Hl(d,h.pendingProps),d!==null?(h.stateNode=d,ls=h,Ti=null,!0):!1;case 13:if(d=Vh(d),d!==null){var S=Zl!==null?{id:ol,overflow:qo}:null;return h.memoizedState={dehydrated:d,treeContext:S,retryLane:1073741824},S=To(18,null,null,0),S.stateNode=d,S.return=h,h.child=S,ls=h,Ti=null,!0}return!1;default:return!1}}function mv(h){return(h.mode&1)!==0&&(h.flags&128)===0}function gv(h){if(cr){var d=Ti;if(d){var S=d;if(!ow(h,d)){if(mv(h))throw Error(o(418));d=ye(S);var C=ls;d&&ow(h,d)?sw(C,S):(h.flags=h.flags&-4097|2,cr=!1,ls=h)}}else{if(mv(h))throw Error(o(418));h.flags=h.flags&-4097|2,cr=!1,ls=h}}}function qu(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;ls=h}function Yh(h){if(!Ae||h!==ls)return!1;if(!cr)return qu(h),cr=!0,!1;if(h.tag!==3&&(h.tag!==5||Ei(h.type)&&!Me(h.type,h.memoizedProps))){var d=Ti;if(d){if(mv(h)){for(h=Ti;h;)h=ye(h);throw Error(o(418))}for(;d;)sw(h,d),d=ye(d)}}if(qu(h),h.tag===13){if(!Ae)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Ti=un(h)}else Ti=ls?ye(h.stateNode):null;return!0}function rf(){Ae&&(Ti=ls=null,nf=cr=!1)}function Qh(h){Xo===null?Xo=[h]:Xo.push(h)}function sf(h,d,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var C=S.stateNode}if(!C)throw Error(o(147,h));var R=C,D=""+h;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===D?d.ref:(d=function(K){var he=R.refs;he===tw&&(he=R.refs={}),K===null?delete he[D]:he[D]=K},d._stringRef=D,d)}if(typeof h!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,h))}return h}function Yo(h,d){throw h=Object.prototype.toString.call(d),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h))}function Kh(h){var d=h._init;return d(h._payload)}function aw(h){function d(_e,ge){if(h){var Ce=_e.deletions;Ce===null?(_e.deletions=[ge],_e.flags|=16):Ce.push(ge)}}function S(_e,ge){if(!h)return null;for(;ge!==null;)d(_e,ge),ge=ge.sibling;return null}function C(_e,ge){for(_e=new Map;ge!==null;)ge.key!==null?_e.set(ge.key,ge):_e.set(ge.index,ge),ge=ge.sibling;return _e}function R(_e,ge){return _e=hl(_e,ge),_e.index=0,_e.sibling=null,_e}function D(_e,ge,Ce){return _e.index=Ce,h?(Ce=_e.alternate,Ce!==null?(Ce=Ce.index,Ce<ge?(_e.flags|=2,ge):Ce):(_e.flags|=2,ge)):(_e.flags|=1048576,ge)}function K(_e){return h&&_e.alternate===null&&(_e.flags|=2),_e}function he(_e,ge,Ce,ft){return ge===null||ge.tag!==6?(ge=qi(Ce,_e.mode,ft),ge.return=_e,ge):(ge=R(ge,Ce),ge.return=_e,ge)}function Re(_e,ge,Ce,ft){var At=Ce.type;return At===c?gt(_e,ge,Ce.props.children,ft,Ce.key):ge!==null&&(ge.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===w&&Kh(At)===ge.type)?(ft=R(ge,Ce.props),ft.ref=sf(_e,ge,Ce),ft.return=_e,ft):(ft=Om(Ce.type,Ce.key,Ce.props,null,_e.mode,ft),ft.ref=sf(_e,ge,Ce),ft.return=_e,ft)}function Ze(_e,ge,Ce,ft){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ce.containerInfo||ge.stateNode.implementation!==Ce.implementation?(ge=Co(Ce,_e.mode,ft),ge.return=_e,ge):(ge=R(ge,Ce.children||[]),ge.return=_e,ge)}function gt(_e,ge,Ce,ft,At){return ge===null||ge.tag!==7?(ge=hu(Ce,_e.mode,ft,At),ge.return=_e,ge):(ge=R(ge,Ce),ge.return=_e,ge)}function tn(_e,ge,Ce){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=qi(""+ge,_e.mode,Ce),ge.return=_e,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return Ce=Om(ge.type,ge.key,ge.props,null,_e.mode,Ce),Ce.ref=sf(_e,null,ge),Ce.return=_e,Ce;case u:return ge=Co(ge,_e.mode,Ce),ge.return=_e,ge;case w:var ft=ge._init;return tn(_e,ft(ge._payload),Ce)}if(ue(ge)||k(ge))return ge=hu(ge,_e.mode,Ce,null),ge.return=_e,ge;Yo(_e,ge)}return null}function Lt(_e,ge,Ce,ft){var At=ge!==null?ge.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return At!==null?null:he(_e,ge,""+Ce,ft);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:return Ce.key===At?Re(_e,ge,Ce,ft):null;case u:return Ce.key===At?Ze(_e,ge,Ce,ft):null;case w:return At=Ce._init,Lt(_e,ge,At(Ce._payload),ft)}if(ue(Ce)||k(Ce))return At!==null?null:gt(_e,ge,Ce,ft,null);Yo(_e,Ce)}return null}function Yn(_e,ge,Ce,ft,At){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return _e=_e.get(Ce)||null,he(ge,_e,""+ft,At);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case l:return _e=_e.get(ft.key===null?Ce:ft.key)||null,Re(ge,_e,ft,At);case u:return _e=_e.get(ft.key===null?Ce:ft.key)||null,Ze(ge,_e,ft,At);case w:var mn=ft._init;return Yn(_e,ge,Ce,mn(ft._payload),At)}if(ue(ft)||k(ft))return _e=_e.get(Ce)||null,gt(ge,_e,ft,At,null);Yo(ge,ft)}return null}function Ct(_e,ge,Ce,ft){for(var At=null,mn=null,nn=ge,gn=ge=0,qr=null;nn!==null&&gn<Ce.length;gn++){nn.index>gn?(qr=nn,nn=null):qr=nn.sibling;var Rn=Lt(_e,nn,Ce[gn],ft);if(Rn===null){nn===null&&(nn=qr);break}h&&nn&&Rn.alternate===null&&d(_e,nn),ge=D(Rn,ge,gn),mn===null?At=Rn:mn.sibling=Rn,mn=Rn,nn=qr}if(gn===Ce.length)return S(_e,nn),cr&&al(_e,gn),At;if(nn===null){for(;gn<Ce.length;gn++)nn=tn(_e,Ce[gn],ft),nn!==null&&(ge=D(nn,ge,gn),mn===null?At=nn:mn.sibling=nn,mn=nn);return cr&&al(_e,gn),At}for(nn=C(_e,nn);gn<Ce.length;gn++)qr=Yn(nn,_e,gn,Ce[gn],ft),qr!==null&&(h&&qr.alternate!==null&&nn.delete(qr.key===null?gn:qr.key),ge=D(qr,ge,gn),mn===null?At=qr:mn.sibling=qr,mn=qr);return h&&nn.forEach(function(Da){return d(_e,Da)}),cr&&al(_e,gn),At}function Xi(_e,ge,Ce,ft){var At=k(Ce);if(typeof At!="function")throw Error(o(150));if(Ce=At.call(Ce),Ce==null)throw Error(o(151));for(var mn=At=null,nn=ge,gn=ge=0,qr=null,Rn=Ce.next();nn!==null&&!Rn.done;gn++,Rn=Ce.next()){nn.index>gn?(qr=nn,nn=null):qr=nn.sibling;var Da=Lt(_e,nn,Rn.value,ft);if(Da===null){nn===null&&(nn=qr);break}h&&nn&&Da.alternate===null&&d(_e,nn),ge=D(Da,ge,gn),mn===null?At=Da:mn.sibling=Da,mn=Da,nn=qr}if(Rn.done)return S(_e,nn),cr&&al(_e,gn),At;if(nn===null){for(;!Rn.done;gn++,Rn=Ce.next())Rn=tn(_e,Rn.value,ft),Rn!==null&&(ge=D(Rn,ge,gn),mn===null?At=Rn:mn.sibling=Rn,mn=Rn);return cr&&al(_e,gn),At}for(nn=C(_e,nn);!Rn.done;gn++,Rn=Ce.next())Rn=Yn(nn,_e,gn,Rn.value,ft),Rn!==null&&(h&&Rn.alternate!==null&&nn.delete(Rn.key===null?gn:Rn.key),ge=D(Rn,ge,gn),mn===null?At=Rn:mn.sibling=Rn,mn=Rn);return h&&nn.forEach(function(Fm){return d(_e,Fm)}),cr&&al(_e,gn),At}function ao(_e,ge,Ce,ft){if(typeof Ce=="object"&&Ce!==null&&Ce.type===c&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:e:{for(var At=Ce.key,mn=ge;mn!==null;){if(mn.key===At){if(At=Ce.type,At===c){if(mn.tag===7){S(_e,mn.sibling),ge=R(mn,Ce.props.children),ge.return=_e,_e=ge;break e}}else if(mn.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===w&&Kh(At)===mn.type){S(_e,mn.sibling),ge=R(mn,Ce.props),ge.ref=sf(_e,mn,Ce),ge.return=_e,_e=ge;break e}S(_e,mn);break}else d(_e,mn);mn=mn.sibling}Ce.type===c?(ge=hu(Ce.props.children,_e.mode,ft,Ce.key),ge.return=_e,_e=ge):(ft=Om(Ce.type,Ce.key,Ce.props,null,_e.mode,ft),ft.ref=sf(_e,ge,Ce),ft.return=_e,_e=ft)}return K(_e);case u:e:{for(mn=Ce.key;ge!==null;){if(ge.key===mn)if(ge.tag===4&&ge.stateNode.containerInfo===Ce.containerInfo&&ge.stateNode.implementation===Ce.implementation){S(_e,ge.sibling),ge=R(ge,Ce.children||[]),ge.return=_e,_e=ge;break e}else{S(_e,ge);break}else d(_e,ge);ge=ge.sibling}ge=Co(Ce,_e.mode,ft),ge.return=_e,_e=ge}return K(_e);case w:return mn=Ce._init,ao(_e,ge,mn(Ce._payload),ft)}if(ue(Ce))return Ct(_e,ge,Ce,ft);if(k(Ce))return Xi(_e,ge,Ce,ft);Yo(_e,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,ge!==null&&ge.tag===6?(S(_e,ge.sibling),ge=R(ge,Ce),ge.return=_e,_e=ge):(S(_e,ge),ge=qi(Ce,_e.mode,ft),ge.return=_e,_e=ge),K(_e)):S(_e,ge)}return ao}var of=aw(!0),lw=aw(!1),Ta={},Cr=Es(Ta),af=Es(Ta),lf=Es(Ta);function Ca(h){if(h===Ta)throw Error(o(174));return h}function vv(h,d){Tn(lf,d),Tn(af,h),Tn(Cr,Ta),h=fe(d),en(Cr),Tn(Cr,h)}function uf(){en(Cr),en(af),en(lf)}function uw(h){var d=Ca(lf.current),S=Ca(Cr.current);d=z(S,h.type,d),S!==d&&(Tn(af,h),Tn(Cr,d))}function Jl(h){af.current===h&&(en(Cr),en(af))}var oe=Es(0);function ke(h){for(var d=h;d!==null;){if(d.tag===13){var S=d.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Wl(S)||Uu(S)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Ee=[];function dt(){for(var h=0;h<Ee.length;h++){var d=Ee[h];Fe?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}Ee.length=0}var Xt=a.ReactCurrentDispatcher,on=a.ReactCurrentBatchConfig,vr=0,Wt=null,vi=null,yi=null,us=!1,eu=!1,Zh=0,cf=0;function ii(){throw Error(o(321))}function ff(h,d){if(d===null)return!1;for(var S=0;S<d.length&&S<h.length;S++)if(!eo(h[S],d[S]))return!1;return!0}function Fn(h,d,S,C,R,D){if(vr=D,Wt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Xt.current=h===null||h.memoizedState===null?od:Mv,h=S(C,R),eu){D=0;do{if(eu=!1,Zh=0,25<=D)throw Error(o(301));D+=1,yi=vi=null,d.updateQueue=null,Xt.current=pf,h=S(C,R)}while(eu)}if(Xt.current=df,d=vi!==null&&vi.next!==null,vr=0,yi=vi=Wt=null,us=!1,d)throw Error(o(300));return h}function yv(){var h=Zh!==0;return Zh=0,h}function Aa(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yi===null?Wt.memoizedState=yi=h:yi=yi.next=h,yi}function to(){if(vi===null){var h=Wt.alternate;h=h!==null?h.memoizedState:null}else h=vi.next;var d=yi===null?Wt.memoizedState:yi.next;if(d!==null)yi=d,vi=h;else{if(h===null)throw Error(o(310));vi=h,h={memoizedState:vi.memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},yi===null?Wt.memoizedState=yi=h:yi=yi.next=h}return yi}function Xu(h,d){return typeof d=="function"?d(h):d}function gm(h){var d=to(),S=d.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var C=vi,R=C.baseQueue,D=S.pending;if(D!==null){if(R!==null){var K=R.next;R.next=D.next,D.next=K}C.baseQueue=R=D,S.pending=null}if(R!==null){D=R.next,C=C.baseState;var he=K=null,Re=null,Ze=D;do{var gt=Ze.lane;if((vr&gt)===gt)Re!==null&&(Re=Re.next={lane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),C=Ze.hasEagerState?Ze.eagerState:h(C,Ze.action);else{var tn={lane:gt,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null};Re===null?(he=Re=tn,K=C):Re=Re.next=tn,Wt.lanes|=gt,wf|=gt}Ze=Ze.next}while(Ze!==null&&Ze!==D);Re===null?K=C:Re.next=he,eo(C,d.memoizedState)||(no=!0),d.memoizedState=C,d.baseState=K,d.baseQueue=Re,S.lastRenderedState=C}if(h=S.interleaved,h!==null){R=h;do D=R.lane,Wt.lanes|=D,wf|=D,R=R.next;while(R!==h)}else R===null&&(S.lanes=0);return[d.memoizedState,S.dispatch]}function vm(h){var d=to(),S=d.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var C=S.dispatch,R=S.pending,D=d.memoizedState;if(R!==null){S.pending=null;var K=R=R.next;do D=h(D,K.action),K=K.next;while(K!==R);eo(D,d.memoizedState)||(no=!0),d.memoizedState=D,d.baseQueue===null&&(d.baseState=D),S.lastRenderedState=D}return[D,C]}function Jh(){}function ll(h,d){var S=Wt,C=to(),R=d(),D=!eo(C.memoizedState,R);if(D&&(C.memoizedState=R,no=!0),C=C.queue,nd(td.bind(null,S,C,h),[h]),C.getSnapshot!==d||D||yi!==null&&yi.memoizedState.tag&1){if(S.flags|=2048,tu(9,xv.bind(null,S,C,R,d),void 0,null),Gr===null)throw Error(o(349));(vr&30)!==0||ed(S,d,R)}return R}function ed(h,d,S){h.flags|=16384,h={getSnapshot:d,value:S},d=Wt.updateQueue,d===null?(d={lastEffect:null,stores:null},Wt.updateQueue=d,d.stores=[h]):(S=d.stores,S===null?d.stores=[h]:S.push(h))}function xv(h,d,S,C){d.value=S,d.getSnapshot=C,_v(d)&&Eo(h,1,-1)}function td(h,d,S){return S(function(){_v(d)&&Eo(h,1,-1)})}function _v(h){var d=h.getSnapshot;h=h.value;try{var S=d();return!eo(h,S)}catch{return!0}}function ym(h){var d=Aa();return typeof h=="function"&&(h=h()),d.memoizedState=d.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:h},d.queue=h,h=h.dispatch=Vi.bind(null,Wt,h),[d.memoizedState,h]}function tu(h,d,S,C){return h={tag:h,create:d,destroy:S,deps:C,next:null},d=Wt.updateQueue,d===null?(d={lastEffect:null,stores:null},Wt.updateQueue=d,d.lastEffect=h.next=h):(S=d.lastEffect,S===null?d.lastEffect=h.next=h:(C=S.next,S.next=h,h.next=C,d.lastEffect=h)),h}function wv(){return to().memoizedState}function nu(h,d,S,C){var R=Aa();Wt.flags|=h,R.memoizedState=tu(1|d,S,void 0,C===void 0?null:C)}function Pa(h,d,S,C){var R=to();C=C===void 0?null:C;var D=void 0;if(vi!==null){var K=vi.memoizedState;if(D=K.destroy,C!==null&&ff(C,K.deps)){R.memoizedState=tu(d,S,D,C);return}}Wt.flags|=h,R.memoizedState=tu(1|d,S,D,C)}function hf(h,d){return nu(8390656,8,h,d)}function nd(h,d){return Pa(2048,8,h,d)}function cw(h,d){return Pa(4,2,h,d)}function fw(h,d){return Pa(4,4,h,d)}function rd(h,d){if(typeof d=="function")return h=h(),d(h),function(){d(null)};if(d!=null)return h=h(),d.current=h,function(){d.current=null}}function id(h,d,S){return S=S!=null?S.concat([h]):null,Pa(4,4,rd.bind(null,d,h),S)}function sd(){}function hw(h,d){var S=to();d=d===void 0?null:d;var C=S.memoizedState;return C!==null&&d!==null&&ff(d,C[1])?C[0]:(S.memoizedState=[h,d],h)}function Sv(h,d){var S=to();d=d===void 0?null:d;var C=S.memoizedState;return C!==null&&d!==null&&ff(d,C[1])?C[0]:(h=h(),S.memoizedState=[h,d],h)}function qC(h,d){var S=Cn;Cn=S!==0&&4>S?S:4,h(!0);var C=on.transition;on.transition={};try{h(!1),d()}finally{Cn=S,on.transition=C}}function dw(){return to().memoizedState}function si(h,d,S){var C=ka(h);S={lane:C,action:S,hasEagerState:!1,eagerState:null,next:null},pw(h)?mw(d,S):(bv(h,d,S),S=$i(),h=Eo(h,C,S),h!==null&&gw(h,d,C))}function Vi(h,d,S){var C=ka(h),R={lane:C,action:S,hasEagerState:!1,eagerState:null,next:null};if(pw(h))mw(d,R);else{bv(h,d,R);var D=h.alternate;if(h.lanes===0&&(D===null||D.lanes===0)&&(D=d.lastRenderedReducer,D!==null))try{var K=d.lastRenderedState,he=D(K,S);if(R.hasEagerState=!0,R.eagerState=he,eo(he,K))return}catch{}finally{}S=$i(),h=Eo(h,C,S),h!==null&&gw(h,d,C)}}function pw(h){var d=h.alternate;return h===Wt||d!==null&&d===Wt}function mw(h,d){eu=us=!0;var S=h.pending;S===null?d.next=d:(d.next=S.next,S.next=d),h.pending=d}function bv(h,d,S){Gr!==null&&(h.mode&1)!==0&&(pn&2)===0?(h=d.interleaved,h===null?(S.next=S,Ea===null?Ea=[d]:Ea.push(d)):(S.next=h.next,h.next=S),d.interleaved=S):(h=d.pending,h===null?S.next=S:(S.next=h.next,h.next=S),d.pending=S)}function gw(h,d,S){if((S&4194240)!==0){var C=d.lanes;C&=h.pendingLanes,S|=C,d.lanes=S,Xl(h,S)}}var df={readContext:gr,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useInsertionEffect:ii,useLayoutEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useMutableSource:ii,useSyncExternalStore:ii,useId:ii,unstable_isNewReconciler:!1},od={readContext:gr,useCallback:function(h,d){return Aa().memoizedState=[h,d===void 0?null:d],h},useContext:gr,useEffect:hf,useImperativeHandle:function(h,d,S){return S=S!=null?S.concat([h]):null,nu(4194308,4,rd.bind(null,d,h),S)},useLayoutEffect:function(h,d){return nu(4194308,4,h,d)},useInsertionEffect:function(h,d){return nu(4,2,h,d)},useMemo:function(h,d){var S=Aa();return d=d===void 0?null:d,h=h(),S.memoizedState=[h,d],h},useReducer:function(h,d,S){var C=Aa();return d=S!==void 0?S(d):d,C.memoizedState=C.baseState=d,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:d},C.queue=h,h=h.dispatch=si.bind(null,Wt,h),[C.memoizedState,h]},useRef:function(h){var d=Aa();return h={current:h},d.memoizedState=h},useState:ym,useDebugValue:sd,useDeferredValue:function(h){var d=ym(h),S=d[0],C=d[1];return hf(function(){var R=on.transition;on.transition={};try{C(h)}finally{on.transition=R}},[h]),S},useTransition:function(){var h=ym(!1),d=h[0];return h=qC.bind(null,h[1]),Aa().memoizedState=h,[d,h]},useMutableSource:function(){},useSyncExternalStore:function(h,d,S){var C=Wt,R=Aa();if(cr){if(S===void 0)throw Error(o(407));S=S()}else{if(S=d(),Gr===null)throw Error(o(349));(vr&30)!==0||ed(C,d,S)}R.memoizedState=S;var D={value:S,getSnapshot:d};return R.queue=D,hf(td.bind(null,C,D,h),[h]),C.flags|=2048,tu(9,xv.bind(null,C,D,S,d),void 0,null),S},useId:function(){var h=Aa(),d=Gr.identifierPrefix;if(cr){var S=qo,C=ol;S=(C&~(1<<32-Cs(C)-1)).toString(32)+S,d=":"+d+"R"+S,S=Zh++,0<S&&(d+="H"+S.toString(32)),d+=":"}else S=cf++,d=":"+d+"r"+S.toString(32)+":";return h.memoizedState=d},unstable_isNewReconciler:!1},Mv={readContext:gr,useCallback:hw,useContext:gr,useEffect:nd,useImperativeHandle:id,useInsertionEffect:cw,useLayoutEffect:fw,useMemo:Sv,useReducer:gm,useRef:wv,useState:function(){return gm(Xu)},useDebugValue:sd,useDeferredValue:function(h){var d=gm(Xu),S=d[0],C=d[1];return nd(function(){var R=on.transition;on.transition={};try{C(h)}finally{on.transition=R}},[h]),S},useTransition:function(){var h=gm(Xu)[0],d=to().memoizedState;return[h,d]},useMutableSource:Jh,useSyncExternalStore:ll,useId:dw,unstable_isNewReconciler:!1},pf={readContext:gr,useCallback:hw,useContext:gr,useEffect:nd,useImperativeHandle:id,useInsertionEffect:cw,useLayoutEffect:fw,useMemo:Sv,useReducer:vm,useRef:wv,useState:function(){return vm(Xu)},useDebugValue:sd,useDeferredValue:function(h){var d=vm(Xu),S=d[0],C=d[1];return nd(function(){var R=on.transition;on.transition={};try{C(h)}finally{on.transition=R}},[h]),S},useTransition:function(){var h=vm(Xu)[0],d=to().memoizedState;return[h,d]},useMutableSource:Jh,useSyncExternalStore:ll,useId:dw,unstable_isNewReconciler:!1};function Yu(h,d){try{var S="",C=d;do S+=yn(C),C=C.return;while(C);var R=S}catch(D){R=`
Error generating stack: `+D.message+`
`+D.stack}return{value:h,source:d,stack:R}}function Qu(h,d){try{console.error(d.value)}catch(S){setTimeout(function(){throw S})}}var xm=typeof WeakMap=="function"?WeakMap:Map;function Ku(h,d,S){S=Ui(-1,S),S.tag=3,S.payload={element:null};var C=d.value;return S.callback=function(){pd||(pd=!0,Cm=C),Qu(h,d)},S}function vw(h,d,S){S=Ui(-1,S),S.tag=3;var C=h.type.getDerivedStateFromError;if(typeof C=="function"){var R=d.value;S.payload=function(){return C(R)},S.callback=function(){Qu(h,d)}}var D=h.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(S.callback=function(){Qu(h,d),typeof C!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var K=d.stack;this.componentDidCatch(d.value,{componentStack:K!==null?K:""})}),S}function yw(h,d,S){var C=h.pingCache;if(C===null){C=h.pingCache=new xm;var R=new Set;C.set(d,R)}else R=C.get(d),R===void 0&&(R=new Set,C.set(d,R));R.has(S)||(R.add(S),h=cu.bind(null,h,d,S),d.then(h,h))}function xw(h){do{var d;if((d=h.tag===13)&&(d=h.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return h;h=h.return}while(h!==null);return null}function _w(h,d,S,C,R){return(h.mode&1)===0?(h===d?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(d=Ui(-1,1),d.tag=2,$o(S,d))),S.lanes|=1),h):(h.flags|=65536,h.lanes=R,h)}function Ra(h){h.flags|=4}function ad(h,d){if(h!==null&&h.child===d.child)return!0;if((d.flags&16)!==0)return!1;for(h=d.child;h!==null;){if((h.flags&12854)!==0||(h.subtreeFlags&12854)!==0)return!1;h=h.sibling}return!0}var ul,mf,V,cl;if(pt)ul=function(h,d){for(var S=d.child;S!==null;){if(S.tag===5||S.tag===6)G(h,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},mf=function(){},V=function(h,d,S,C,R){if(h=h.memoizedProps,h!==C){var D=d.stateNode,K=Ca(Cr.current);S=we(D,S,h,C,R,K),(d.updateQueue=S)&&Ra(d)}},cl=function(h,d,S,C){S!==C&&Ra(d)};else if(Ie){ul=function(h,d,S,C){for(var R=d.child;R!==null;){if(R.tag===5){var D=R.stateNode;S&&C&&(D=Wn(D,R.type,R.memoizedProps,R)),G(h,D)}else if(R.tag===6)D=R.stateNode,S&&C&&(D=Ms(D,R.memoizedProps,R)),G(h,D);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)D=R.child,D!==null&&(D.return=R),ul(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===d)break;for(;R.sibling===null;){if(R.return===null||R.return===d)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};var ld=function(h,d,S,C){for(var R=d.child;R!==null;){if(R.tag===5){var D=R.stateNode;S&&C&&(D=Wn(D,R.type,R.memoizedProps,R)),wr(h,D)}else if(R.tag===6)D=R.stateNode,S&&C&&(D=Ms(D,R.memoizedProps,R)),wr(h,D);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)D=R.child,D!==null&&(D.return=R),ld(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===d)break;for(;R.sibling===null;){if(R.return===null||R.return===d)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};mf=function(h,d){var S=d.stateNode;if(!ad(h,d)){h=S.containerInfo;var C=ln(h);ld(C,d,!1,!1),S.pendingChildren=C,Ra(d),Wr(h,C)}},V=function(h,d,S,C,R){var D=h.stateNode,K=h.memoizedProps;if((h=ad(h,d))&&K===C)d.stateNode=D;else{var he=d.stateNode,Re=Ca(Cr.current),Ze=null;K!==C&&(Ze=we(he,S,K,C,R,Re)),h&&Ze===null?d.stateNode=D:(D=Tt(D,Ze,S,K,C,d,h,he),le(D,S,C,R,Re)&&Ra(d),d.stateNode=D,h?Ra(d):ul(D,d,!1,!1))}},cl=function(h,d,S,C){S!==C?(h=Ca(lf.current),S=Ca(Cr.current),d.stateNode=pe(C,h,S,d),Ra(d)):d.stateNode=h.stateNode}}else mf=function(){},V=function(){},cl=function(){};function Hi(h,d){if(!cr)switch(h.tailMode){case"hidden":d=h.tail;for(var S=null;d!==null;)d.alternate!==null&&(S=d),d=d.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var C=null;S!==null;)S.alternate!==null&&(C=S),S=S.sibling;C===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function Bt(h){var d=h.alternate!==null&&h.alternate.child===h.child,S=0,C=0;if(d)for(var R=h.child;R!==null;)S|=R.lanes|R.childLanes,C|=R.subtreeFlags&14680064,C|=R.flags&14680064,R.return=h,R=R.sibling;else for(R=h.child;R!==null;)S|=R.lanes|R.childLanes,C|=R.subtreeFlags,C|=R.flags,R.return=h,R=R.sibling;return h.subtreeFlags|=C,h.childLanes=S,d}function XC(h,d,S){var C=d.pendingProps;switch(as(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(d),null;case 1:return Bi(d.type)&&Vu(),Bt(d),null;case 3:return C=d.stateNode,uf(),en(Lr),en(Ln),dt(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(h===null||h.child===null)&&(Yh(d)?Ra(d):h===null||h.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Xo!==null&&(nc(Xo),Xo=null))),mf(h,d),Bt(d),null;case 5:Jl(d),S=Ca(lf.current);var R=d.type;if(h!==null&&d.stateNode!=null)V(h,d,R,C,S),h.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!C){if(d.stateNode===null)throw Error(o(166));return Bt(d),null}if(h=Ca(Cr.current),Yh(d)){if(!Ae)throw Error(o(175));h=kt(d.stateNode,d.type,d.memoizedProps,S,h,d,!nf),d.updateQueue=h,h!==null&&Ra(d)}else{var D=B(R,C,S,h,d);ul(D,d,!1,!1),d.stateNode=D,le(D,R,C,S,h)&&Ra(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Bt(d),null;case 6:if(h&&d.stateNode!=null)cl(h,d,h.memoizedProps,C);else{if(typeof C!="string"&&d.stateNode===null)throw Error(o(166));if(h=Ca(lf.current),S=Ca(Cr.current),Yh(d)){if(!Ae)throw Error(o(176));if(h=d.stateNode,C=d.memoizedProps,(S=qt(h,C,d,!nf))&&(R=ls,R!==null))switch(D=(R.mode&1)!==0,R.tag){case 3:mi(R.stateNode.containerInfo,h,C,D);break;case 5:Ho(R.type,R.memoizedProps,R.stateNode,h,C,D)}S&&Ra(d)}else d.stateNode=pe(C,h,S,d)}return Bt(d),null;case 13:if(en(oe),C=d.memoizedState,cr&&Ti!==null&&(d.mode&1)!==0&&(d.flags&128)===0){for(h=Ti;h;)h=ye(h);return rf(),d.flags|=98560,d}if(C!==null&&C.dehydrated!==null){if(C=Yh(d),h===null){if(!C)throw Error(o(318));if(!Ae)throw Error(o(344));if(h=d.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Ht(h,d)}else rf(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;return Bt(d),null}return Xo!==null&&(nc(Xo),Xo=null),(d.flags&128)!==0?(d.lanes=S,d):(C=C!==null,S=!1,h===null?Yh(d):S=h.memoizedState!==null,C&&!S&&(d.child.flags|=8192,(d.mode&1)!==0&&(h===null||(oe.current&1)!==0?Fr===0&&(Fr=3):km())),d.updateQueue!==null&&(d.flags|=4),Bt(d),null);case 4:return uf(),mf(h,d),h===null&&ct(d.stateNode.containerInfo),Bt(d),null;case 10:return fm(d.type._context),Bt(d),null;case 17:return Bi(d.type)&&Vu(),Bt(d),null;case 19:if(en(oe),R=d.memoizedState,R===null)return Bt(d),null;if(C=(d.flags&128)!==0,D=R.rendering,D===null)if(C)Hi(R,!1);else{if(Fr!==0||h!==null&&(h.flags&128)!==0)for(h=d.child;h!==null;){if(D=ke(h),D!==null){for(d.flags|=128,Hi(R,!1),h=D.updateQueue,h!==null&&(d.updateQueue=h,d.flags|=4),d.subtreeFlags=0,h=S,C=d.child;C!==null;)S=C,R=h,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=R,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,R=D.dependencies,S.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),C=C.sibling;return Tn(oe,oe.current&1|2),d.child}h=h.sibling}R.tail!==null&&Dr()>dd&&(d.flags|=128,C=!0,Hi(R,!1),d.lanes=4194304)}else{if(!C)if(h=ke(D),h!==null){if(d.flags|=128,C=!0,h=h.updateQueue,h!==null&&(d.updateQueue=h,d.flags|=4),Hi(R,!0),R.tail===null&&R.tailMode==="hidden"&&!D.alternate&&!cr)return Bt(d),null}else 2*Dr()-R.renderingStartTime>dd&&S!==1073741824&&(d.flags|=128,C=!0,Hi(R,!1),d.lanes=4194304);R.isBackwards?(D.sibling=d.child,d.child=D):(h=R.last,h!==null?h.sibling=D:d.child=D,R.last=D)}return R.tail!==null?(d=R.tail,R.rendering=d,R.tail=d.sibling,R.renderingStartTime=Dr(),d.sibling=null,h=oe.current,Tn(oe,C?h&1|2:h&1),d):(Bt(d),null);case 22:case 23:return Uv(),C=d.memoizedState!==null,h!==null&&h.memoizedState!==null!==C&&(d.flags|=8192),C&&(d.mode&1)!==0?(so&1073741824)!==0&&(Bt(d),pt&&d.subtreeFlags&6&&(d.flags|=8192)):Bt(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var YC=a.ReactCurrentOwner,no=!1;function Or(h,d,S,C){d.child=h===null?lw(d,null,S,C):of(d,h.child,S,C)}function ww(h,d,S,C,R){S=S.render;var D=d.ref;return ju(d,R),C=Fn(h,d,S,C,D,R),S=yv(),h!==null&&!no?(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~R,oi(h,d,R)):(cr&&S&&mm(d),d.flags|=1,Or(h,d,C,R),d.child)}function Sw(h,d,S,C,R){if(h===null){var D=S.type;return typeof D=="function"&&!jv(D)&&D.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(d.tag=15,d.type=D,bw(h,d,D,C,R)):(h=Om(S.type,null,C,d,d.mode,R),h.ref=d.ref,h.return=d,d.child=h)}if(D=h.child,(h.lanes&R)===0){var K=D.memoizedProps;if(S=S.compare,S=S!==null?S:Zt,S(K,C)&&h.ref===d.ref)return oi(h,d,R)}return d.flags|=1,h=hl(D,C),h.ref=d.ref,h.return=d,d.child=h}function bw(h,d,S,C,R){if(h!==null&&Zt(h.memoizedProps,C)&&h.ref===d.ref)if(no=!1,(h.lanes&R)!==0)(h.flags&131072)!==0&&(no=!0);else return d.lanes=h.lanes,oi(h,d,R);return Qo(h,d,S,C,R)}function Mw(h,d,S){var C=d.pendingProps,R=C.children,D=h!==null?h.memoizedState:null;if(C.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null},Tn(xf,so),so|=S;else if((S&1073741824)!==0)d.memoizedState={baseLanes:0,cachePool:null},C=D!==null?D.baseLanes:S,Tn(xf,so),so|=C;else return h=D!==null?D.baseLanes|S:S,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:h,cachePool:null},d.updateQueue=null,Tn(xf,so),so|=h,null;else D!==null?(C=D.baseLanes|S,d.memoizedState=null):C=S,Tn(xf,so),so|=C;return Or(h,d,R,S),d.child}function Ew(h,d){var S=d.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(d.flags|=512,d.flags|=2097152)}function Qo(h,d,S,C,R){var D=Bi(S)?bo:Ln.current;return D=Qs(d,D),ju(d,R),S=Fn(h,d,S,C,D,R),C=yv(),h!==null&&!no?(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~R,oi(h,d,R)):(cr&&C&&mm(d),d.flags|=1,Or(h,d,S,R),d.child)}function Tw(h,d,S,C,R){if(Bi(S)){var D=!0;sl(d)}else D=!1;if(ju(d,R),d.stateNode===null)h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2),rw(d,S,C),ef(d,S,C,R),C=!0;else if(h===null){var K=d.stateNode,he=d.memoizedProps;K.props=he;var Re=K.context,Ze=S.contextType;typeof Ze=="object"&&Ze!==null?Ze=gr(Ze):(Ze=Bi(S)?bo:Ln.current,Ze=Qs(d,Ze));var gt=S.getDerivedStateFromProps,tn=typeof gt=="function"||typeof K.getSnapshotBeforeUpdate=="function";tn||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(he!==C||Re!==Ze)&&pv(d,K,C,Ze),ri=!1;var Lt=d.memoizedState;K.state=Lt,Go(d,C,K,R),Re=d.memoizedState,he!==C||Lt!==Re||Lr.current||ri?(typeof gt=="function"&&(jh(d,S,gt,C),Re=d.memoizedState),(he=ri||nw(d,S,he,C,Lt,Re,Ze))?(tn||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(d.flags|=4194308)):(typeof K.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=C,d.memoizedState=Re),K.props=C,K.state=Re,K.context=Ze,C=he):(typeof K.componentDidMount=="function"&&(d.flags|=4194308),C=!1)}else{K=d.stateNode,dv(h,d),he=d.memoizedProps,Ze=d.type===d.elementType?he:sn(d.type,he),K.props=Ze,tn=d.pendingProps,Lt=K.context,Re=S.contextType,typeof Re=="object"&&Re!==null?Re=gr(Re):(Re=Bi(S)?bo:Ln.current,Re=Qs(d,Re));var Yn=S.getDerivedStateFromProps;(gt=typeof Yn=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(he!==tn||Lt!==Re)&&pv(d,K,C,Re),ri=!1,Lt=d.memoizedState,K.state=Lt,Go(d,C,K,R);var Ct=d.memoizedState;he!==tn||Lt!==Ct||Lr.current||ri?(typeof Yn=="function"&&(jh(d,S,Yn,C),Ct=d.memoizedState),(Ze=ri||nw(d,S,Ze,C,Lt,Ct,Re)||!1)?(gt||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(C,Ct,Re),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(C,Ct,Re)),typeof K.componentDidUpdate=="function"&&(d.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof K.componentDidUpdate!="function"||he===h.memoizedProps&&Lt===h.memoizedState||(d.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&Lt===h.memoizedState||(d.flags|=1024),d.memoizedProps=C,d.memoizedState=Ct),K.props=C,K.state=Ct,K.context=Re,C=Ze):(typeof K.componentDidUpdate!="function"||he===h.memoizedProps&&Lt===h.memoizedState||(d.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&Lt===h.memoizedState||(d.flags|=1024),C=!1)}return Ev(h,d,S,C,D,R)}function Ev(h,d,S,C,R,D){Ew(h,d);var K=(d.flags&128)!==0;if(!C&&!K)return R&&Wu(d,S,!1),oi(h,d,D);C=d.stateNode,YC.current=d;var he=K&&typeof S.getDerivedStateFromError!="function"?null:C.render();return d.flags|=1,h!==null&&K?(d.child=of(d,h.child,null,D),d.child=of(d,null,he,D)):Or(h,d,he,D),d.memoizedState=C.state,R&&Wu(d,S,!0),d.child}function Cw(h){var d=h.stateNode;d.pendingContext?Hu(h,d.pendingContext,d.pendingContext!==d.context):d.context&&Hu(h,d.context,!1),vv(h,d.containerInfo)}function Aw(h,d,S,C,R){return rf(),Qh(R),d.flags|=256,Or(h,d,S,C),d.child}var _m={dehydrated:null,treeContext:null,retryLane:0};function Mo(h){return{baseLanes:h,cachePool:null}}function Pw(h,d,S){var C=d.pendingProps,R=oe.current,D=!1,K=(d.flags&128)!==0,he;if((he=K)||(he=h!==null&&h.memoizedState===null?!1:(R&2)!==0),he?(D=!0,d.flags&=-129):(h===null||h.memoizedState!==null)&&(R|=1),Tn(oe,R&1),h===null)return gv(d),h=d.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((d.mode&1)===0?d.lanes=1:Uu(h)?d.lanes=8:d.lanes=1073741824,null):(R=C.children,h=C.fallback,D?(C=d.mode,D=d.child,R={mode:"hidden",children:R},(C&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=R):D=yd(R,C,0,null),h=hu(h,C,S,null),D.return=d,h.return=d,D.sibling=h,d.child=D,d.child.memoizedState=Mo(S),d.memoizedState=_m,h):Tv(d,R));if(R=h.memoizedState,R!==null){if(he=R.dehydrated,he!==null){if(K)return d.flags&256?(d.flags&=-257,wm(h,d,S,Error(o(422)))):d.memoizedState!==null?(d.child=h.child,d.flags|=128,null):(D=C.fallback,R=d.mode,C=yd({mode:"visible",children:C.children},R,0,null),D=hu(D,R,S,null),D.flags|=2,C.return=d,D.return=d,C.sibling=D,d.child=C,(d.mode&1)!==0&&of(d,h.child,null,S),d.child.memoizedState=Mo(S),d.memoizedState=_m,D);if((d.mode&1)===0)d=wm(h,d,S,null);else if(Uu(he))d=wm(h,d,S,Error(o(419)));else if(C=(S&h.childLanes)!==0,no||C){if(C=Gr,C!==null){switch(S&-S){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}C=(D&(C.suspendedLanes|S))!==0?0:D,C!==0&&C!==R.retryLane&&(R.retryLane=C,Eo(h,C,-1))}km(),d=wm(h,d,S,Error(o(421)))}else Wl(he)?(d.flags|=128,d.child=h.child,d=fu.bind(null,h),q(he,d),d=null):(S=R.treeContext,Ae&&(Ti=Oe(he),ls=d,cr=!0,Xo=null,nf=!1,S!==null&&(As[Ps++]=ol,As[Ps++]=qo,As[Ps++]=Zl,ol=S.id,qo=S.overflow,Zl=d)),d=Tv(d,d.pendingProps.children),d.flags|=4096);return d}return D?(C=Iw(h,d,C.children,C.fallback,S),D=d.child,R=h.child.memoizedState,D.memoizedState=R===null?Mo(S):{baseLanes:R.baseLanes|S,cachePool:null},D.childLanes=h.childLanes&~S,d.memoizedState=_m,C):(S=Rw(h,d,C.children,S),d.memoizedState=null,S)}return D?(C=Iw(h,d,C.children,C.fallback,S),D=d.child,R=h.child.memoizedState,D.memoizedState=R===null?Mo(S):{baseLanes:R.baseLanes|S,cachePool:null},D.childLanes=h.childLanes&~S,d.memoizedState=_m,C):(S=Rw(h,d,C.children,S),d.memoizedState=null,S)}function Tv(h,d){return d=yd({mode:"visible",children:d},h.mode,0,null),d.return=h,h.child=d}function Rw(h,d,S,C){var R=h.child;return h=R.sibling,S=hl(R,{mode:"visible",children:S}),(d.mode&1)===0&&(S.lanes=C),S.return=d,S.sibling=null,h!==null&&(C=d.deletions,C===null?(d.deletions=[h],d.flags|=16):C.push(h)),d.child=S}function Iw(h,d,S,C,R){var D=d.mode;h=h.child;var K=h.sibling,he={mode:"hidden",children:S};return(D&1)===0&&d.child!==h?(S=d.child,S.childLanes=0,S.pendingProps=he,d.deletions=null):(S=hl(h,he),S.subtreeFlags=h.subtreeFlags&14680064),K!==null?C=hl(K,C):(C=hu(C,D,R,null),C.flags|=2),C.return=d,S.return=d,S.sibling=C,d.child=S,C}function wm(h,d,S,C){return C!==null&&Qh(C),of(d,h.child,null,S),h=Tv(d,d.pendingProps.children),h.flags|=2,d.memoizedState=null,h}function ru(h,d,S){h.lanes|=d;var C=h.alternate;C!==null&&(C.lanes|=d),hm(h.return,d,S)}function Cv(h,d,S,C,R){var D=h.memoizedState;D===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:C,tail:S,tailMode:R}:(D.isBackwards=d,D.rendering=null,D.renderingStartTime=0,D.last=C,D.tail=S,D.tailMode=R)}function kw(h,d,S){var C=d.pendingProps,R=C.revealOrder,D=C.tail;if(Or(h,d,C.children,S),C=oe.current,(C&2)!==0)C=C&1|2,d.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&ru(h,S,d);else if(h.tag===19)ru(h,S,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}if(Tn(oe,C),(d.mode&1)===0)d.memoizedState=null;else switch(R){case"forwards":for(S=d.child,R=null;S!==null;)h=S.alternate,h!==null&&ke(h)===null&&(R=S),S=S.sibling;S=R,S===null?(R=d.child,d.child=null):(R=S.sibling,S.sibling=null),Cv(d,!1,R,S,D);break;case"backwards":for(S=null,R=d.child,d.child=null;R!==null;){if(h=R.alternate,h!==null&&ke(h)===null){d.child=R;break}h=R.sibling,R.sibling=S,S=R,R=h}Cv(d,!0,S,null,D);break;case"together":Cv(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function oi(h,d,S){if(h!==null&&(d.dependencies=h.dependencies),wf|=d.lanes,(S&d.childLanes)===0)return null;if(h!==null&&d.child!==h.child)throw Error(o(153));if(d.child!==null){for(h=d.child,S=hl(h,h.pendingProps),d.child=S,S.return=d;h.sibling!==null;)h=h.sibling,S=S.sibling=hl(h,h.pendingProps),S.return=d;S.sibling=null}return d.child}function QC(h,d,S){switch(d.tag){case 3:Cw(d),rf();break;case 5:uw(d);break;case 1:Bi(d.type)&&sl(d);break;case 4:vv(d,d.stateNode.containerInfo);break;case 10:Zc(d,d.type._context,d.memoizedProps.value);break;case 13:var C=d.memoizedState;if(C!==null)return C.dehydrated!==null?(Tn(oe,oe.current&1),d.flags|=128,null):(S&d.child.childLanes)!==0?Pw(h,d,S):(Tn(oe,oe.current&1),h=oi(h,d,S),h!==null?h.sibling:null);Tn(oe,oe.current&1);break;case 19:if(C=(S&d.childLanes)!==0,(h.flags&128)!==0){if(C)return kw(h,d,S);d.flags|=128}var R=d.memoizedState;if(R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Tn(oe,oe.current),C)break;return null;case 22:case 23:return d.lanes=0,Mw(h,d,S)}return oi(h,d,S)}function KC(h,d){switch(as(d),d.tag){case 1:return Bi(d.type)&&Vu(),h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 3:return uf(),en(Lr),en(Ln),dt(),h=d.flags,(h&65536)!==0&&(h&128)===0?(d.flags=h&-65537|128,d):null;case 5:return Jl(d),null;case 13:if(en(oe),h=d.memoizedState,h!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(o(340));rf()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 19:return en(oe),null;case 4:return uf(),null;case 10:return fm(d.type._context),null;case 22:case 23:return Uv(),null;case 24:return null;default:return null}}var Sm=!1,Zu=!1,ZC=typeof WeakSet=="function"?WeakSet:Set,lt=null;function ud(h,d){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(C){ji(h,d,C)}else S.current=null}function Av(h,d,S){try{S()}catch(C){ji(h,d,C)}}var Lw=!1;function Pv(h,d){for(Y(h.containerInfo),lt=d;lt!==null;)if(h=lt,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,lt=d;else for(;lt!==null;){h=lt;try{var S=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,R=S.memoizedState,D=h.stateNode,K=D.getSnapshotBeforeUpdate(h.elementType===h.type?C:sn(h.type,C),R);D.__reactInternalSnapshotBeforeUpdate=K}break;case 3:pt&&at(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(he){ji(h,h.return,he)}if(d=h.sibling,d!==null){d.return=h.return,lt=d;break}lt=h.return}return S=Lw,Lw=!1,S}function Ko(h,d,S){var C=d.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var R=C=C.next;do{if((R.tag&h)===h){var D=R.destroy;R.destroy=void 0,D!==void 0&&Av(d,S,D)}R=R.next}while(R!==C)}}function iu(h,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var S=d=d.next;do{if((S.tag&h)===h){var C=S.create;S.destroy=C()}S=S.next}while(S!==d)}}function Rv(h){var d=h.ref;if(d!==null){var S=h.stateNode;switch(h.tag){case 5:h=ae(S);break;default:h=S}typeof d=="function"?d(h):d.current=h}}function Iv(h,d,S){if(Js&&typeof Js.onCommitFiberUnmount=="function")try{Js.onCommitFiberUnmount(Kc,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(h=d.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var C=h=h.next;do{var R=C,D=R.destroy;R=R.tag,D!==void 0&&((R&2)!==0||(R&4)!==0)&&Av(d,S,D),C=C.next}while(C!==h)}break;case 1:if(ud(d,S),h=d.stateNode,typeof h.componentWillUnmount=="function")try{h.props=d.memoizedProps,h.state=d.memoizedState,h.componentWillUnmount()}catch(K){ji(d,S,K)}break;case 5:ud(d,S);break;case 4:pt?Lv(h,d,S):Ie&&Ie&&(d=d.stateNode.containerInfo,S=ln(d),Xs(d,S))}}function Dw(h,d,S){for(var C=d;;)if(Iv(h,C,S),C.child===null||pt&&C.tag===4){if(C===d)break;for(;C.sibling===null;){if(C.return===null||C.return===d)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function Ia(h){var d=h.alternate;d!==null&&(h.alternate=null,Ia(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode,d!==null&&St(d)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function bm(h){return h.tag===5||h.tag===3||h.tag===4}function su(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||bm(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function ro(h){if(pt){e:{for(var d=h.return;d!==null;){if(bm(d))break e;d=d.return}throw Error(o(160))}var S=d;switch(S.tag){case 5:d=S.stateNode,S.flags&32&&(Kt(d),S.flags&=-33),S=su(h),Mm(h,S,d);break;case 3:case 4:d=S.stateNode.containerInfo,S=su(h),kv(h,S,d);break;default:throw Error(o(161))}}}function kv(h,d,S){var C=h.tag;if(C===5||C===6)h=h.stateNode,d?je(S,h,d):it(S,h);else if(C!==4&&(h=h.child,h!==null))for(kv(h,d,S),h=h.sibling;h!==null;)kv(h,d,S),h=h.sibling}function Mm(h,d,S){var C=h.tag;if(C===5||C===6)h=h.stateNode,d?Te(S,h,d):_t(S,h);else if(C!==4&&(h=h.child,h!==null))for(Mm(h,d,S),h=h.sibling;h!==null;)Mm(h,d,S),h=h.sibling}function Lv(h,d,S){for(var C=d,R=!1,D,K;;){if(!R){R=C.return;e:for(;;){if(R===null)throw Error(o(160));switch(D=R.stateNode,R.tag){case 5:K=!1;break e;case 3:D=D.containerInfo,K=!0;break e;case 4:D=D.containerInfo,K=!0;break e}R=R.return}R=!0}if(C.tag===5||C.tag===6)Dw(h,C,S),K?wt(D,C.stateNode):et(D,C.stateNode);else if(C.tag===18)K?mr(D,C.stateNode):wn(D,C.stateNode);else if(C.tag===4){if(C.child!==null){D=C.stateNode.containerInfo,K=!0,C.child.return=C,C=C.child;continue}}else if(Iv(h,C,S),C.child!==null){C.child.return=C,C=C.child;continue}if(C===d)break;for(;C.sibling===null;){if(C.return===null||C.return===d)return;C=C.return,C.tag===4&&(R=!1)}C.sibling.return=C.return,C=C.sibling}}function Ju(h,d){if(pt){switch(d.tag){case 0:case 11:case 14:case 15:Ko(3,d,d.return),iu(3,d),Ko(5,d,d.return);return;case 1:return;case 5:var S=d.stateNode;if(S!=null){var C=d.memoizedProps;h=h!==null?h.memoizedProps:C;var R=d.type,D=d.updateQueue;d.updateQueue=null,D!==null&&re(S,D,R,h,C,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));S=d.memoizedProps,De(d.stateNode,h!==null?h.memoizedProps:S,S);return;case 3:Ae&&h!==null&&h.memoizedState.isDehydrated&&En(d.stateNode.containerInfo);return;case 12:return;case 13:Zo(d);return;case 19:Zo(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:Ko(3,d,d.return),iu(3,d),Ko(5,d,d.return);return;case 12:return;case 13:Zo(d);return;case 19:Zo(d);return;case 3:Ae&&h!==null&&h.memoizedState.isDehydrated&&En(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ie){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,Xs(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function Zo(h){var d=h.updateQueue;if(d!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new ZC),d.forEach(function(C){var R=Hw.bind(null,h,C);S.has(C)||(S.add(C),C.then(R,R))})}}function Ow(h,d){for(lt=d;lt!==null;){d=lt;var S=d.deletions;if(S!==null)for(var C=0;C<S.length;C++){var R=S[C];try{var D=h;pt?Lv(D,R,d):Dw(D,R,d);var K=R.alternate;K!==null&&(K.return=null),R.return=null}catch(At){ji(R,d,At)}}if(S=d.child,(d.subtreeFlags&12854)!==0&&S!==null)S.return=d,lt=S;else for(;lt!==null;){d=lt;try{var he=d.flags;if(he&32&&pt&&Kt(d.stateNode),he&512){var Re=d.alternate;if(Re!==null){var Ze=Re.ref;Ze!==null&&(typeof Ze=="function"?Ze(null):Ze.current=null)}}if(he&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var gt=d.alternate;(gt===null||gt.memoizedState===null)&&(zv=Dr())}break;case 22:var tn=d.memoizedState!==null,Lt=d.alternate,Yn=Lt!==null&&Lt.memoizedState!==null;if(S=d,pt){e:if(C=S,R=tn,D=null,pt)for(var Ct=C;;){if(Ct.tag===5){if(D===null){D=Ct;var Xi=Ct.stateNode;R?tr(Xi):Pe(Ct.stateNode,Ct.memoizedProps)}}else if(Ct.tag===6){if(D===null){var ao=Ct.stateNode;R?de(ao):Ve(ao,Ct.memoizedProps)}}else if((Ct.tag!==22&&Ct.tag!==23||Ct.memoizedState===null||Ct===C)&&Ct.child!==null){Ct.child.return=Ct,Ct=Ct.child;continue}if(Ct===C)break;for(;Ct.sibling===null;){if(Ct.return===null||Ct.return===C)break e;D===Ct&&(D=null),Ct=Ct.return}D===Ct&&(D=null),Ct.sibling.return=Ct.return,Ct=Ct.sibling}}if(tn&&!Yn&&(S.mode&1)!==0){lt=S;for(var _e=S.child;_e!==null;){for(S=lt=_e;lt!==null;){C=lt;var ge=C.child;switch(C.tag){case 0:case 11:case 14:case 15:Ko(4,C,C.return);break;case 1:ud(C,C.return);var Ce=C.stateNode;if(typeof Ce.componentWillUnmount=="function"){var ft=C.return;try{Ce.props=C.memoizedProps,Ce.state=C.memoizedState,Ce.componentWillUnmount()}catch(At){ji(C,ft,At)}}break;case 5:ud(C,C.return);break;case 22:if(C.memoizedState!==null){Dv(S);continue}}ge!==null?(ge.return=C,lt=ge):Dv(S)}_e=_e.sibling}}}switch(he&4102){case 2:ro(d),d.flags&=-3;break;case 6:ro(d),d.flags&=-3,Ju(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,Ju(d.alternate,d);break;case 4:Ju(d.alternate,d)}}catch(At){ji(d,d.return,At)}if(S=d.sibling,S!==null){S.return=d.return,lt=S;break}lt=d.return}}}function JC(h,d,S){lt=h,cd(h)}function cd(h,d,S){for(var C=(h.mode&1)!==0;lt!==null;){var R=lt,D=R.child;if(R.tag===22&&C){var K=R.memoizedState!==null||Sm;if(!K){var he=R.alternate,Re=he!==null&&he.memoizedState!==null||Zu;he=Sm;var Ze=Zu;if(Sm=K,(Zu=Re)&&!Ze)for(lt=R;lt!==null;)K=lt,Re=K.child,K.tag===22&&K.memoizedState!==null?xi(R):Re!==null?(Re.return=K,lt=Re):xi(R);for(;D!==null;)lt=D,cd(D),D=D.sibling;lt=R,Sm=he,Zu=Ze}Nw(h)}else(R.subtreeFlags&8772)!==0&&D!==null?(D.return=R,lt=D):Nw(h)}}function Nw(h){for(;lt!==null;){var d=lt;if((d.flags&8772)!==0){var S=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Zu||iu(5,d);break;case 1:var C=d.stateNode;if(d.flags&4&&!Zu)if(S===null)C.componentDidMount();else{var R=d.elementType===d.type?S.memoizedProps:sn(d.type,S.memoizedProps);C.componentDidUpdate(R,S.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var D=d.updateQueue;D!==null&&dm(d,D,C);break;case 3:var K=d.updateQueue;if(K!==null){if(S=null,d.child!==null)switch(d.child.tag){case 5:S=ae(d.child.stateNode);break;case 1:S=d.child.stateNode}dm(d,K,S)}break;case 5:var he=d.stateNode;S===null&&d.flags&4&&yt(he,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&d.memoizedState===null){var Re=d.alternate;if(Re!==null){var Ze=Re.memoizedState;if(Ze!==null){var gt=Ze.dehydrated;gt!==null&&_n(gt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Zu||d.flags&512&&Rv(d)}catch(tn){ji(d,d.return,tn)}}if(d===h){lt=null;break}if(S=d.sibling,S!==null){S.return=d.return,lt=S;break}lt=d.return}}function Dv(h){for(;lt!==null;){var d=lt;if(d===h){lt=null;break}var S=d.sibling;if(S!==null){S.return=d.return,lt=S;break}lt=d.return}}function xi(h){for(;lt!==null;){var d=lt;try{switch(d.tag){case 0:case 11:case 15:var S=d.return;try{iu(4,d)}catch(Re){ji(d,S,Re)}break;case 1:var C=d.stateNode;if(typeof C.componentDidMount=="function"){var R=d.return;try{C.componentDidMount()}catch(Re){ji(d,R,Re)}}var D=d.return;try{Rv(d)}catch(Re){ji(d,D,Re)}break;case 5:var K=d.return;try{Rv(d)}catch(Re){ji(d,K,Re)}}}catch(Re){ji(d,d.return,Re)}if(d===h){lt=null;break}var he=d.sibling;if(he!==null){he.return=d.return,lt=he;break}lt=d.return}}var gf=0,fd=1,io=2,vf=3,ec=4;if(typeof Symbol=="function"&&Symbol.for){var Jo=Symbol.for;gf=Jo("selector.component"),fd=Jo("selector.has_pseudo_class"),io=Jo("selector.role"),vf=Jo("selector.test_id"),ec=Jo("selector.text")}function Em(h){var d=qe(h);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(h=Nt(h),h===null)throw Error(o(362));return h.stateNode.current}function Ci(h,d){switch(d.$$typeof){case gf:if(h.type===d.value)return!0;break;case fd:e:{d=d.value,h=[h,0];for(var S=0;S<h.length;){var C=h[S++],R=h[S++],D=d[R];if(C.tag!==5||!be(C)){for(;D!=null&&Ci(C,D);)R++,D=d[R];if(R===d.length){d=!0;break e}else for(C=C.child;C!==null;)h.push(C,R),C=C.sibling}}d=!1}return d;case io:if(h.tag===5&&$e(h.stateNode,d.value))return!0;break;case ec:if((h.tag===5||h.tag===6)&&(h=W(h),h!==null&&0<=h.indexOf(d.value)))return!0;break;case vf:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function hd(h){switch(h.$$typeof){case gf:return"<"+(L(h.value)||"Unknown")+">";case fd:return":has("+(hd(h)||"")+")";case io:return'[role="'+h.value+'"]';case ec:return'"'+h.value+'"';case vf:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function Fw(h,d){var S=[];h=[h,0];for(var C=0;C<h.length;){var R=h[C++],D=h[C++],K=d[D];if(R.tag!==5||!be(R)){for(;K!=null&&Ci(R,K);)D++,K=d[D];if(D===d.length)S.push(R);else for(R=R.child;R!==null;)h.push(R,D),R=R.sibling}}return S}function Ov(h,d){if(!zt)throw Error(o(363));h=Em(h),h=Fw(h,d),d=[],h=Array.from(h);for(var S=0;S<h.length;){var C=h[S++];if(C.tag===5)be(C)||d.push(C.stateNode);else for(C=C.child;C!==null;)h.push(C),C=C.sibling}return d}var e2=Math.ceil,yf=a.ReactCurrentDispatcher,Nv=a.ReactCurrentOwner,fr=a.ReactCurrentBatchConfig,pn=0,Gr=null,jr=null,Nr=0,so=0,xf=Es(0),Fr=0,_f=null,wf=0,Tm=0,Fv=0,Sf=null,Wi=null,zv=0,dd=1/0;function tc(){dd=Dr()+500}var pd=!1,Cm=null,ea=null,Am=!1,fl=null,md=0,gd=0,Pm=null,Rm=-1,bf=0;function $i(){return(pn&6)!==0?Dr():Rm!==-1?Rm:Rm=Dr()}function ka(h){return(h.mode&1)===0?1:(pn&2)!==0&&Nr!==0?Nr&-Nr:$n.transition!==null?(bf===0&&(h=$l,$l<<=1,($l&4194240)===0&&($l=64),bf=h),bf):(h=Cn,h!==0?h:rt())}function Eo(h,d,S){if(50<gd)throw gd=0,Pm=null,Error(o(185));var C=Mf(h,d);return C===null?null:(ql(C,d,S),((pn&2)===0||C!==Gr)&&(C===Gr&&((pn&2)===0&&(Tm|=d),Fr===4&&ou(C,Nr)),Ft(C,S),d===1&&pn===0&&(h.mode&1)===0&&(tc(),j&&Qt())),C)}function Mf(h,d){h.lanes|=d;var S=h.alternate;for(S!==null&&(S.lanes|=d),S=h,h=h.return;h!==null;)h.childLanes|=d,S=h.alternate,S!==null&&(S.childLanes|=d),S=h,h=h.return;return S.tag===3?S.stateNode:null}function Ft(h,d){var S=h.callbackNode;fv(h,d);var C=$u(h,h===Gr?Nr:0);if(C===0)S!==null&&lm(S),h.callbackNode=null,h.callbackPriority=0;else if(d=C&-C,h.callbackPriority!==d){if(S!=null&&lm(S),d===1)h.tag===0?ht(Uw.bind(null,h)):Se(Uw.bind(null,h)),bt?Mt(function(){pn===0&&Qt()}):Yl(Zs,Qt),S=null;else{switch(Qc(C)){case 1:S=Zs;break;case 4:S=Gu;break;case 16:S=Gh;break;case 536870912:S=cm;break;default:S=Gh}S=Dm(S,zw.bind(null,h))}h.callbackPriority=d,h.callbackNode=S}}function zw(h,d){if(Rm=-1,bf=0,(pn&6)!==0)throw Error(o(327));var S=h.callbackNode;if(uu()&&h.callbackNode!==S)return null;var C=$u(h,h===Gr?Nr:0);if(C===0)return null;if((C&30)!==0||(C&h.expiredLanes)!==0||d)d=Gi(h,C);else{d=C;var R=pn;pn|=2;var D=Vv();(Gr!==h||Nr!==d)&&(tc(),La(h,d));do try{Hv();break}catch(he){Im(h,he)}while(1);Kl(),yf.current=D,pn=R,jr!==null?d=0:(Gr=null,Nr=0,d=Fr)}if(d!==0){if(d===2&&(R=jl(h),R!==0&&(C=R,d=Bv(h,R))),d===1)throw S=_f,La(h,0),ou(h,C),Ft(h,Dr()),S;if(d===6)ou(h,C);else{if(R=h.current.alternate,(C&30)===0&&!Bw(R)&&(d=Gi(h,C),d===2&&(D=jl(h),D!==0&&(C=D,d=Bv(h,D))),d===1))throw S=_f,La(h,0),ou(h,C),Ft(h,Dr()),S;switch(h.finishedWork=R,h.finishedLanes=C,d){case 0:case 1:throw Error(o(345));case 2:lu(h,Wi);break;case 3:if(ou(h,C),(C&130023424)===C&&(d=zv+500-Dr(),10<d)){if($u(h,0)!==0)break;if(R=h.suspendedLanes,(R&C)!==C){$i(),h.pingedLanes|=h.suspendedLanes&R;break}h.timeoutHandle=We(lu.bind(null,h,Wi),d);break}lu(h,Wi);break;case 4:if(ou(h,C),(C&4194240)===C)break;for(d=h.eventTimes,R=-1;0<C;){var K=31-Cs(C);D=1<<K,K=d[K],K>R&&(R=K),C&=~D}if(C=R,C=Dr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*e2(C/1960))-C,10<C){h.timeoutHandle=We(lu.bind(null,h,Wi),C);break}lu(h,Wi);break;case 5:lu(h,Wi);break;default:throw Error(o(329))}}}return Ft(h,Dr()),h.callbackNode===S?zw.bind(null,h):null}function Bv(h,d){var S=Sf;return h.current.memoizedState.isDehydrated&&(La(h,d).flags|=256),h=Gi(h,d),h!==2&&(d=Wi,Wi=S,d!==null&&nc(d)),h}function nc(h){Wi===null?Wi=h:Wi.push.apply(Wi,h)}function Bw(h){for(var d=h;;){if(d.flags&16384){var S=d.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var C=0;C<S.length;C++){var R=S[C],D=R.getSnapshot;R=R.value;try{if(!eo(D(),R))return!1}catch{return!1}}}if(S=d.child,d.subtreeFlags&16384&&S!==null)S.return=d,d=S;else{if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ou(h,d){for(d&=~Fv,d&=~Tm,h.suspendedLanes|=d,h.pingedLanes&=~d,h=h.expirationTimes;0<d;){var S=31-Cs(d),C=1<<S;h[S]=-1,d&=~C}}function Uw(h){if((pn&6)!==0)throw Error(o(327));uu();var d=$u(h,0);if((d&1)===0)return Ft(h,Dr()),null;var S=Gi(h,d);if(h.tag!==0&&S===2){var C=jl(h);C!==0&&(d=C,S=Bv(h,C))}if(S===1)throw S=_f,La(h,0),ou(h,d),Ft(h,Dr()),S;if(S===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=d,lu(h,Wi),Ft(h,Dr()),null}function oo(h){fl!==null&&fl.tag===0&&(pn&6)===0&&uu();var d=pn;pn|=1;var S=fr.transition,C=Cn;try{if(fr.transition=null,Cn=1,h)return h()}finally{Cn=C,fr.transition=S,pn=d,(pn&6)===0&&Qt()}}function Uv(){so=xf.current,en(xf)}function La(h,d){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==Qe&&(h.timeoutHandle=Qe,Be(S)),jr!==null)for(S=jr.return;S!==null;){var C=S;switch(as(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Vu();break;case 3:uf(),en(Lr),en(Ln),dt();break;case 5:Jl(C);break;case 4:uf();break;case 13:en(oe);break;case 19:en(oe);break;case 10:fm(C.type._context);break;case 22:case 23:Uv()}S=S.return}if(Gr=h,jr=h=hl(h.current,null),Nr=so=d,Fr=0,_f=null,Fv=Tm=wf=0,Wi=Sf=null,Ea!==null){for(d=0;d<Ea.length;d++)if(S=Ea[d],C=S.interleaved,C!==null){S.interleaved=null;var R=C.next,D=S.pending;if(D!==null){var K=D.next;D.next=R,C.next=K}S.pending=C}Ea=null}return h}function Im(h,d){do{var S=jr;try{if(Kl(),Xt.current=df,us){for(var C=Wt.memoizedState;C!==null;){var R=C.queue;R!==null&&(R.pending=null),C=C.next}us=!1}if(vr=0,yi=vi=Wt=null,eu=!1,Zh=0,Nv.current=null,S===null||S.return===null){Fr=1,_f=d,jr=null;break}e:{var D=h,K=S.return,he=S,Re=d;if(d=Nr,he.flags|=32768,Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var Ze=Re,gt=he,tn=gt.tag;if((gt.mode&1)===0&&(tn===0||tn===11||tn===15)){var Lt=gt.alternate;Lt?(gt.updateQueue=Lt.updateQueue,gt.memoizedState=Lt.memoizedState,gt.lanes=Lt.lanes):(gt.updateQueue=null,gt.memoizedState=null)}var Yn=xw(K);if(Yn!==null){Yn.flags&=-257,_w(Yn,K,he,D,d),Yn.mode&1&&yw(D,Ze,d),d=Yn,Re=Ze;var Ct=d.updateQueue;if(Ct===null){var Xi=new Set;Xi.add(Re),d.updateQueue=Xi}else Ct.add(Re);break e}else{if((d&1)===0){yw(D,Ze,d),km();break e}Re=Error(o(426))}}else if(cr&&he.mode&1){var ao=xw(K);if(ao!==null){(ao.flags&65536)===0&&(ao.flags|=256),_w(ao,K,he,D,d),Qh(Re);break e}}D=Re,Fr!==4&&(Fr=2),Sf===null?Sf=[D]:Sf.push(D),Re=Yu(Re,he),he=K;do{switch(he.tag){case 3:he.flags|=65536,d&=-d,he.lanes|=d;var _e=Ku(he,Re,d);ur(he,_e);break e;case 1:D=Re;var ge=he.type,Ce=he.stateNode;if((he.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(ea===null||!ea.has(Ce)))){he.flags|=65536,d&=-d,he.lanes|=d;var ft=vw(he,D,d);ur(he,ft);break e}}he=he.return}while(he!==null)}vd(S)}catch(At){d=At,jr===S&&S!==null&&(jr=S=S.return);continue}break}while(1)}function Vv(){var h=yf.current;return yf.current=df,h===null?df:h}function km(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),Gr===null||(wf&268435455)===0&&(Tm&268435455)===0||ou(Gr,Nr)}function Gi(h,d){var S=pn;pn|=2;var C=Vv();Gr===h&&Nr===d||La(h,d);do try{au();break}catch(R){Im(h,R)}while(1);if(Kl(),pn=S,yf.current=C,jr!==null)throw Error(o(261));return Gr=null,Nr=0,Fr}function au(){for(;jr!==null;)Wv(jr)}function Hv(){for(;jr!==null&&!um();)Wv(jr)}function Wv(h){var d=Gv(h.alternate,h,so);h.memoizedProps=h.pendingProps,d===null?vd(h):jr=d,Nv.current=null}function vd(h){var d=h;do{var S=d.alternate;if(h=d.return,(d.flags&32768)===0){if(S=XC(S,d,so),S!==null){jr=S;return}}else{if(S=KC(S,d),S!==null){S.flags&=32767,jr=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Fr=6,jr=null;return}}if(d=d.sibling,d!==null){jr=d;return}jr=d=h}while(d!==null);Fr===0&&(Fr=5)}function lu(h,d){var S=Cn,C=fr.transition;try{fr.transition=null,Cn=1,$v(h,d,S)}finally{fr.transition=C,Cn=S}return null}function $v(h,d,S){do uu();while(fl!==null);if((pn&6)!==0)throw Error(o(327));var C=h.finishedWork,R=h.finishedLanes;if(C===null)return null;if(h.finishedWork=null,h.finishedLanes=0,C===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var D=C.lanes|C.childLanes;if(am(h,D),h===Gr&&(jr=Gr=null,Nr=0),(C.subtreeFlags&2064)===0&&(C.flags&2064)===0||Am||(Am=!0,Dm(Gh,function(){return uu(),null})),D=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||D){D=fr.transition,fr.transition=null;var K=Cn;Cn=1;var he=pn;pn|=4,Nv.current=null,Pv(h,C),Ow(h,C),Z(h.containerInfo),h.current=C,JC(C),$h(),pn=he,Cn=K,fr.transition=D}else h.current=C;if(Am&&(Am=!1,fl=h,md=R),D=h.pendingLanes,D===0&&(ea=null),rr(C.stateNode),Ft(h,Dr()),d!==null)for(S=h.onRecoverableError,C=0;C<d.length;C++)S(d[C]);if(pd)throw pd=!1,h=Cm,Cm=null,h;return(md&1)!==0&&h.tag!==0&&uu(),D=h.pendingLanes,(D&1)!==0?h===Pm?gd++:(gd=0,Pm=h):gd=0,Qt(),null}function uu(){if(fl!==null){var h=Qc(md),d=fr.transition,S=Cn;try{if(fr.transition=null,Cn=16>h?16:h,fl===null)var C=!1;else{if(h=fl,fl=null,md=0,(pn&6)!==0)throw Error(o(331));var R=pn;for(pn|=4,lt=h.current;lt!==null;){var D=lt,K=D.child;if((lt.flags&16)!==0){var he=D.deletions;if(he!==null){for(var Re=0;Re<he.length;Re++){var Ze=he[Re];for(lt=Ze;lt!==null;){var gt=lt;switch(gt.tag){case 0:case 11:case 15:Ko(8,gt,D)}var tn=gt.child;if(tn!==null)tn.return=gt,lt=tn;else for(;lt!==null;){gt=lt;var Lt=gt.sibling,Yn=gt.return;if(Ia(gt),gt===Ze){lt=null;break}if(Lt!==null){Lt.return=Yn,lt=Lt;break}lt=Yn}}}var Ct=D.alternate;if(Ct!==null){var Xi=Ct.child;if(Xi!==null){Ct.child=null;do{var ao=Xi.sibling;Xi.sibling=null,Xi=ao}while(Xi!==null)}}lt=D}}if((D.subtreeFlags&2064)!==0&&K!==null)K.return=D,lt=K;else e:for(;lt!==null;){if(D=lt,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:Ko(9,D,D.return)}var _e=D.sibling;if(_e!==null){_e.return=D.return,lt=_e;break e}lt=D.return}}var ge=h.current;for(lt=ge;lt!==null;){K=lt;var Ce=K.child;if((K.subtreeFlags&2064)!==0&&Ce!==null)Ce.return=K,lt=Ce;else e:for(K=ge;lt!==null;){if(he=lt,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:iu(9,he)}}catch(At){ji(he,he.return,At)}if(he===K){lt=null;break e}var ft=he.sibling;if(ft!==null){ft.return=he.return,lt=ft;break e}lt=he.return}}if(pn=R,Qt(),Js&&typeof Js.onPostCommitFiberRoot=="function")try{Js.onPostCommitFiberRoot(Kc,h)}catch{}C=!0}return C}finally{Cn=S,fr.transition=d}}return!1}function Lm(h,d,S){d=Yu(S,d),d=Ku(h,d,1),$o(h,d),d=$i(),h=Mf(h,1),h!==null&&(ql(h,1,d),Ft(h,d))}function ji(h,d,S){if(h.tag===3)Lm(h,h,S);else for(;d!==null;){if(d.tag===3){Lm(d,h,S);break}else if(d.tag===1){var C=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(ea===null||!ea.has(C))){h=Yu(S,h),h=vw(d,h,1),$o(d,h),h=$i(),d=Mf(d,1),d!==null&&(ql(d,1,h),Ft(d,h));break}}d=d.return}}function cu(h,d,S){var C=h.pingCache;C!==null&&C.delete(d),d=$i(),h.pingedLanes|=h.suspendedLanes&S,Gr===h&&(Nr&S)===S&&(Fr===4||Fr===3&&(Nr&130023424)===Nr&&500>Dr()-zv?La(h,0):Fv|=S),Ft(h,d)}function Vw(h,d){d===0&&((h.mode&1)===0?d=1:(d=Gl,Gl<<=1,(Gl&130023424)===0&&(Gl=4194304)));var S=$i();h=Mf(h,d),h!==null&&(ql(h,d,S),Ft(h,S))}function fu(h){var d=h.memoizedState,S=0;d!==null&&(S=d.retryLane),Vw(h,S)}function Hw(h,d){var S=0;switch(h.tag){case 13:var C=h.stateNode,R=h.memoizedState;R!==null&&(S=R.retryLane);break;case 19:C=h.stateNode;break;default:throw Error(o(314))}C!==null&&C.delete(d),Vw(h,S)}var Gv;Gv=function(h,d,S){if(h!==null)if(h.memoizedProps!==d.pendingProps||Lr.current)no=!0;else{if((h.lanes&S)===0&&(d.flags&128)===0)return no=!1,QC(h,d,S);no=(h.flags&131072)!==0}else no=!1,cr&&(d.flags&1048576)!==0&&iw(d,Xh,d.index);switch(d.lanes=0,d.tag){case 2:var C=d.type;h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2),h=d.pendingProps;var R=Qs(d,Ln.current);ju(d,S),R=Fn(null,d,C,h,R,S);var D=yv();return d.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Bi(C)?(D=!0,sl(d)):D=!1,d.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,hv(d),R.updater=pm,d.stateNode=R,R._reactInternals=d,ef(d,C,h,S),d=Ev(null,d,C,!0,D,S)):(d.tag=0,cr&&D&&mm(d),Or(null,d,R,S),d=d.child),d;case 16:C=d.elementType;e:{switch(h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2),h=d.pendingProps,R=C._init,C=R(C._payload),d.type=C,R=d.tag=Ww(C),h=sn(C,h),R){case 0:d=Qo(null,d,C,h,S);break e;case 1:d=Tw(null,d,C,h,S);break e;case 11:d=ww(null,d,C,h,S);break e;case 14:d=Sw(null,d,C,sn(C.type,h),S);break e}throw Error(o(306,C,""))}return d;case 0:return C=d.type,R=d.pendingProps,R=d.elementType===C?R:sn(C,R),Qo(h,d,C,R,S);case 1:return C=d.type,R=d.pendingProps,R=d.elementType===C?R:sn(C,R),Tw(h,d,C,R,S);case 3:e:{if(Cw(d),h===null)throw Error(o(387));C=d.pendingProps,D=d.memoizedState,R=D.element,dv(h,d),Go(d,C,null,S);var K=d.memoizedState;if(C=K.element,Ae&&D.isDehydrated)if(D={element:C,isDehydrated:!1,cache:K.cache,transitions:K.transitions},d.updateQueue.baseState=D,d.memoizedState=D,d.flags&256){R=Error(o(423)),d=Aw(h,d,C,S,R);break e}else if(C!==R){R=Error(o(424)),d=Aw(h,d,C,S,R);break e}else for(Ae&&(Ti=xe(d.stateNode.containerInfo),ls=d,cr=!0,Xo=null,nf=!1),S=lw(d,null,C,S),d.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(rf(),C===R){d=oi(h,d,S);break e}Or(h,d,C,S)}d=d.child}return d;case 5:return uw(d),h===null&&gv(d),C=d.type,R=d.pendingProps,D=h!==null?h.memoizedProps:null,K=R.children,Me(C,R)?K=null:D!==null&&Me(C,D)&&(d.flags|=32),Ew(h,d),Or(h,d,K,S),d.child;case 6:return h===null&&gv(d),null;case 13:return Pw(h,d,S);case 4:return vv(d,d.stateNode.containerInfo),C=d.pendingProps,h===null?d.child=of(d,null,C,S):Or(h,d,C,S),d.child;case 11:return C=d.type,R=d.pendingProps,R=d.elementType===C?R:sn(C,R),ww(h,d,C,R,S);case 7:return Or(h,d,d.pendingProps,S),d.child;case 8:return Or(h,d,d.pendingProps.children,S),d.child;case 12:return Or(h,d,d.pendingProps.children,S),d.child;case 10:e:{if(C=d.type._context,R=d.pendingProps,D=d.memoizedProps,K=R.value,Zc(d,C,K),D!==null)if(eo(D.value,K)){if(D.children===R.children&&!Lr.current){d=oi(h,d,S);break e}}else for(D=d.child,D!==null&&(D.return=d);D!==null;){var he=D.dependencies;if(he!==null){K=D.child;for(var Re=he.firstContext;Re!==null;){if(Re.context===C){if(D.tag===1){Re=Ui(-1,S&-S),Re.tag=2;var Ze=D.updateQueue;if(Ze!==null){Ze=Ze.shared;var gt=Ze.pending;gt===null?Re.next=Re:(Re.next=gt.next,gt.next=Re),Ze.pending=Re}}D.lanes|=S,Re=D.alternate,Re!==null&&(Re.lanes|=S),hm(D.return,S,d),he.lanes|=S;break}Re=Re.next}}else if(D.tag===10)K=D.type===d.type?null:D.child;else if(D.tag===18){if(K=D.return,K===null)throw Error(o(341));K.lanes|=S,he=K.alternate,he!==null&&(he.lanes|=S),hm(K,S,d),K=D.sibling}else K=D.child;if(K!==null)K.return=D;else for(K=D;K!==null;){if(K===d){K=null;break}if(D=K.sibling,D!==null){D.return=K.return,K=D;break}K=K.return}D=K}Or(h,d,R.children,S),d=d.child}return d;case 9:return R=d.type,C=d.pendingProps.children,ju(d,S),R=gr(R),C=C(R),d.flags|=1,Or(h,d,C,S),d.child;case 14:return C=d.type,R=sn(C,d.pendingProps),R=sn(C.type,R),Sw(h,d,C,R,S);case 15:return bw(h,d,d.type,d.pendingProps,S);case 17:return C=d.type,R=d.pendingProps,R=d.elementType===C?R:sn(C,R),h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,Bi(C)?(h=!0,sl(d)):h=!1,ju(d,S),rw(d,C,R),ef(d,C,R,S),Ev(null,d,C,!0,h,S);case 19:return kw(h,d,S);case 22:return Mw(h,d,S)}throw Error(o(156,d.tag))};function Dm(h,d){return Yl(h,d)}function t2(h,d,S,C){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function To(h,d,S,C){return new t2(h,d,S,C)}function jv(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Ww(h){if(typeof h=="function")return jv(h)?1:0;if(h!=null){if(h=h.$$typeof,h===x)return 11;if(h===M)return 14}return 2}function hl(h,d){var S=h.alternate;return S===null?(S=To(h.tag,d,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=d,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,d=h.dependencies,S.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function Om(h,d,S,C,R,D){var K=2;if(C=h,typeof h=="function")jv(h)&&(K=1);else if(typeof h=="string")K=5;else e:switch(h){case c:return hu(S.children,R,D,d);case p:K=8,R|=8;break;case m:return h=To(12,S,d,R|2),h.elementType=m,h.lanes=D,h;case _:return h=To(13,S,d,R),h.elementType=_,h.lanes=D,h;case b:return h=To(19,S,d,R),h.elementType=b,h.lanes=D,h;case T:return yd(S,R,D,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case v:K=10;break e;case y:K=9;break e;case x:K=11;break e;case M:K=14;break e;case w:K=16,C=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return d=To(K,S,d,R),d.elementType=h,d.type=C,d.lanes=D,d}function hu(h,d,S,C){return h=To(7,h,C,d),h.lanes=S,h}function yd(h,d,S,C){return h=To(22,h,C,d),h.elementType=T,h.lanes=S,h.stateNode={},h}function qi(h,d,S){return h=To(6,h,null,d),h.lanes=S,h}function Co(h,d,S){return d=To(4,h.children!==null?h.children:[],h.key,d),d.lanes=S,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function n2(h,d,S,C,R){this.tag=d,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Qe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yc(0),this.expirationTimes=Yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.identifierPrefix=C,this.onRecoverableError=R,Ae&&(this.mutableSourceEagerHydrationData=null)}function $w(h,d,S,C,R,D,K,he,Re){return h=new n2(h,d,S,he,Re),d===1?(d=1,D===!0&&(d|=8)):d=0,D=To(3,null,null,d),h.current=D,D.stateNode=h,D.memoizedState={element:C,isDehydrated:S,cache:null,transitions:null},hv(D),h}function xd(h){if(!h)return Ts;h=h._reactInternals;e:{if(O(h)!==h||h.tag!==1)throw Error(o(170));var d=h;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Bi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(h.tag===1){var S=h.type;if(Bi(S))return Hh(h,S,d)}return d}function rc(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=ie(d),h===null?null:h.stateNode}function qv(h,d){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<d?S:d}}function Nm(h,d){qv(h,d),(h=h.alternate)&&qv(h,d)}function r2(h){return h=ie(h),h===null?null:h.stateNode}function Gw(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var d=$i();Eo(h,134217728,d),Nm(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var d=$i(),S=ka(h);Eo(h,S,d),Nm(h,S)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var d=h.stateNode;if(d.current.memoizedState.isDehydrated){var S=Ks(d.pendingLanes);S!==0&&(Xl(d,S|1),Ft(d,Dr()),(pn&6)===0&&(tc(),Qt()))}break;case 13:var C=$i();oo(function(){return Eo(h,1,C)}),Nm(h,1)}},n.batchedUpdates=function(h,d){var S=pn;pn|=1;try{return h(d)}finally{pn=S,pn===0&&(tc(),j&&Qt())}},n.createComponentSelector=function(h){return{$$typeof:gf,value:h}},n.createContainer=function(h,d,S,C,R,D,K){return $w(h,d,!1,null,S,C,R,D,K)},n.createHasPseudoClassSelector=function(h){return{$$typeof:fd,value:h}},n.createHydrationContainer=function(h,d,S,C,R,D,K,he,Re){return h=$w(S,C,!0,h,R,D,K,he,Re),h.context=xd(null),S=h.current,C=$i(),R=ka(S),D=Ui(C,R),D.callback=d!=null?d:null,$o(S,D),h.current.lanes=R,ql(h,R,C),Ft(h,C),h},n.createPortal=function(h,d,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:h,containerInfo:d,implementation:S}},n.createRoleSelector=function(h){return{$$typeof:io,value:h}},n.createTestNameSelector=function(h){return{$$typeof:vf,value:h}},n.createTextSelector=function(h){return{$$typeof:ec,value:h}},n.deferredUpdates=function(h){var d=Cn,S=fr.transition;try{return fr.transition=null,Cn=16,h()}finally{Cn=d,fr.transition=S}},n.discreteUpdates=function(h,d,S,C,R){var D=Cn,K=fr.transition;try{return fr.transition=null,Cn=1,h(d,S,C,R)}finally{Cn=D,fr.transition=K,pn===0&&tc()}},n.findAllNodes=Ov,n.findBoundingRects=function(h,d){if(!zt)throw Error(o(363));d=Ov(h,d),h=[];for(var S=0;S<d.length;S++)h.push(Q(d[S]));for(d=h.length-1;0<d;d--){S=h[d];for(var C=S.x,R=C+S.width,D=S.y,K=D+S.height,he=d-1;0<=he;he--)if(d!==he){var Re=h[he],Ze=Re.x,gt=Ze+Re.width,tn=Re.y,Lt=tn+Re.height;if(C>=Ze&&D>=tn&&R<=gt&&K<=Lt){h.splice(d,1);break}else if(C!==Ze||S.width!==Re.width||Lt<D||tn>K){if(!(D!==tn||S.height!==Re.height||gt<C||Ze>R)){Ze>C&&(Re.width+=Ze-C,Re.x=C),gt<R&&(Re.width=R-Ze),h.splice(d,1);break}}else{tn>D&&(Re.height+=tn-D,Re.y=D),Lt<K&&(Re.height=K-tn),h.splice(d,1);break}}}return h},n.findHostInstance=rc,n.findHostInstanceWithNoPortals=function(h){return h=H(h),h=h!==null?ee(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return rc(h)},n.flushControlled=function(h){var d=pn;pn|=1;var S=fr.transition,C=Cn;try{fr.transition=null,Cn=1,h()}finally{Cn=C,fr.transition=S,pn=d,pn===0&&(tc(),Qt())}},n.flushPassiveEffects=uu,n.flushSync=oo,n.focusWithin=function(h,d){if(!zt)throw Error(o(363));for(h=Em(h),d=Fw(h,d),d=Array.from(d),h=0;h<d.length;){var S=d[h++];if(!be(S)){if(S.tag===5&&Ke(S.stateNode))return!0;for(S=S.child;S!==null;)d.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Cn},n.getFindAllNodesFailureDescription=function(h,d){if(!zt)throw Error(o(363));var S=0,C=[];h=[Em(h),0];for(var R=0;R<h.length;){var D=h[R++],K=h[R++],he=d[K];if((D.tag!==5||!be(D))&&(Ci(D,he)&&(C.push(hd(he)),K++,K>S&&(S=K)),K<d.length))for(D=D.child;D!==null;)h.push(D,K),D=D.sibling}if(S<d.length){for(h=[];S<d.length;S++)h.push(hd(d[S]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return ae(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:r2,findFiberByHostInstance:h.findFiberByHostInstance||Gw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)h=!0;else{try{Kc=d.inject(h),Js=d}catch{}h=!!d.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,d,S,C){if(!zt)throw Error(o(363));h=Ov(h,d);var R=nt(h,S,C).disconnect;return{disconnect:function(){R()}}},n.registerMutableSourceForHydration=function(h,d){var S=d._getVersion;S=S(d._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[d,S]:h.mutableSourceEagerHydrationData.push(d,S)},n.runWithPriority=function(h,d){var S=Cn;try{return Cn=h,d()}finally{Cn=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,d,S,C){var R=d.current,D=$i(),K=ka(R);return S=xd(S),d.context===null?d.context=S:d.pendingContext=S,d=Ui(D,K),d.payload={element:h},C=C===void 0?null:C,C!==null&&(d.callback=C),$o(R,d),h=Eo(R,K,D),h!==null&&Jc(h,R,K),K},n};(function(t){t.exports=xTe})(O7);const _Te=G1(O7.exports);var tI={exports:{}},N7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Y){var Z=z.length;z.push(Y);e:for(;0<Z;){var B=Z-1>>>1,G=z[B];if(0<i(G,Y))z[B]=Y,z[Z]=G,Z=B;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],Z=z.pop();if(Z!==Y){z[0]=Z;e:for(var B=0,G=z.length,le=G>>>1;B<le;){var we=2*(B+1)-1,Me=z[we],pe=we+1,We=z[pe];if(0>i(Me,Z))pe<G&&0>i(We,Me)?(z[B]=We,z[pe]=Z,B=pe):(z[B]=Me,z[we]=Z,B=we);else if(pe<G&&0>i(We,Z))z[B]=We,z[pe]=Z,B=pe;else break e}}return Y}function i(z,Y){var Z=z.sortIndex-Y.sortIndex;return Z!==0?Z:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,p=null,m=3,v=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=z)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function T(z){if(x=!1,w(z),!y)if(n(l)!==null)y=!0,ae(A);else{var Y=n(u);Y!==null&&fe(T,Y.startTime-z)}}function A(z,Y){y=!1,x&&(x=!1,b(P),P=-1),v=!0;var Z=m;try{for(w(Y),p=n(l);p!==null&&(!(p.expirationTime>Y)||z&&!H());){var B=p.callback;if(typeof B=="function"){p.callback=null,m=p.priorityLevel;var G=B(p.expirationTime<=Y);Y=t.unstable_now(),typeof G=="function"?p.callback=G:p===n(l)&&r(l),w(Y)}else r(l);p=n(l)}if(p!==null)var le=!0;else{var we=n(u);we!==null&&fe(T,we.startTime-Y),le=!1}return le}finally{p=null,m=Z,v=!1}}var k=!1,L=null,P=-1,O=5,N=-1;function H(){return!(t.unstable_now()-N<O)}function ie(){if(L!==null){var z=t.unstable_now();N=z;var Y=!0;try{Y=L(!0,z)}finally{Y?te():(k=!1,L=null)}}else k=!1}var te;if(typeof M=="function")te=function(){M(ie)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ue=ee.port2;ee.port1.onmessage=ie,te=function(){ue.postMessage(null)}}else te=function(){_(ie,0)};function ae(z){L=z,k||(k=!0,te())}function fe(z,Y){P=_(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,ae(A))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var Z=m;m=Y;try{return z()}finally{m=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=m;m=z;try{return Y()}finally{m=Z}},t.unstable_scheduleCallback=function(z,Y,Z){var B=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?B+Z:B):Z=B,z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,z={id:c++,callback:Y,priorityLevel:z,startTime:Z,expirationTime:G,sortIndex:-1},Z>B?(z.sortIndex=Z,e(u,z),n(l)===null&&z===n(u)&&(x?(b(P),P=-1):x=!0,fe(T,Z-B))):(z.sortIndex=G,e(l,z),y||v||(y=!0,ae(A))),z},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(z){var Y=m;return function(){var Z=m;m=Y;try{return z.apply(this,arguments)}finally{m=Z}}}})(N7);(function(t){t.exports=N7})(tI);function F7(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}const bc=[];function z7(t,e,n=!1,r={}){for(const s of bc)if(F7(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,promise:t(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=bc.indexOf(i);s!==-1&&bc.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(bc.push(i),!n)throw i.promise}const wTe=(t,e,n)=>z7(t,e,!1,n),STe=(t,e,n)=>void z7(t,e,!0,n),bTe=t=>{if(t===void 0||t.length===0)bc.splice(0,bc.length);else{const e=bc.find(n=>F7(t,n.keys,n.equal));if(e){const n=bc.indexOf(e);n!==-1&&bc.splice(n,1)}}};var tU,nU;const B7=t=>t&&t.isOrthographicCamera,MTe=t=>t&&t.hasOwnProperty("current"),I_=typeof window<"u"&&((tU=window.document)!=null&&tU.createElement||((nU=window.navigator)==null?void 0:nU.product)==="ReactNative")?U.exports.useLayoutEffect:U.exports.useEffect;function U7(t){const e=U.exports.useRef(t);return I_(()=>void(e.current=t),[t]),e}function ETe({set:t}){return I_(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class V7 extends U.exports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}V7.getDerivedStateFromError=()=>({error:!0});const H7="__default",TTe=t=>t&&!!t.memoized&&!!t.changes;function W7(t){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(t)?Math.min(Math.max(t[0],e),t[1]):t}const by=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Kr={obj:t=>t===Object(t)&&!Kr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Kr.str(t)||Kr.num(t))return t===e;const s=Kr.obj(t);if(s&&r==="reference")return t===e;const o=Kr.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;for(a in i?e:t)if(t[a]!==e[a])return!1;if(Kr.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function CTe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function ATe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function dg(t,e){const n=t;return(e!=null&&e.primitive||!n.__r3f)&&(n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),t}function nI(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const rU=/-\d+$/;function iP(t,e,n){if(Kr.str(n)){if(rU.test(n)){const s=n.replace(rU,""),{target:o,key:a}=nI(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=nI(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function iU(t,e,n){var r,i;if(Kr.str(n)){const{target:s,key:o}=nI(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function $7(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const p=(c=t==null?void 0:t.__r3f)!=null?c:{},m=Object.entries(i),v=[];if(u){const x=Object.keys(l);for(let _=0;_<x.length;_++)i.hasOwnProperty(x[_])||m.unshift([x[_],H7+"remove"])}m.forEach(([x,_])=>{var b;if((b=t.__r3f)!=null&&b.primitive&&x==="object"||Kr.equ(_,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return v.push([x,_,!0,[]]);let M=[];x.includes("-")&&(M=x.split("-")),v.push([x,_,!1,M]);for(const w in i){const T=i[w];w.startsWith(`${x}-`)&&v.push([w,T,!1,w.split("-")])}});const y={...i};return p.memoizedProps&&p.memoizedProps.args&&(y.args=p.memoizedProps.args),p.memoizedProps&&p.memoizedProps.attach&&(y.attach=p.memoizedProps.attach),{memoized:y,changes:v}}function sP(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=TTe(e)?e:$7(t,e),c=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let v=0;v<u.length;v++){let[y,x,_,b]=u[v],M=t,w=M[y];if(b.length&&(w=b.reduce((T,A)=>T[A],t),!(w&&w.set))){const[T,...A]=b.reverse();M=A.reverse().reduce((k,L)=>k[L],t),y=T}if(x===H7+"remove")if(w&&w.constructor){var p;x=new w.constructor(...(p=l.args)!=null?p:[])}else if(M.constructor){var m;const T=new M.constructor(...(m=M.__r3f.memoizedProps.args)!=null?m:[]);x=T[w],T.dispose&&T.dispose()}else x=0;if(_)x?s.handlers[y]=x:delete s.handlers[y],s.eventCount=Object.keys(s.handlers).length;else if(w&&w.set&&(w.copy||w instanceof vp)){if(Array.isArray(x))w.fromArray?w.fromArray(x):w.set(...x);else if(w.copy&&x&&x.constructor&&w.constructor.name===x.constructor.name)w.copy(x);else if(x!==void 0){const T=w instanceof mt;!T&&w.setScalar?w.setScalar(x):w instanceof vp&&x instanceof vp?w.mask=x.mask:w.set(x),!("ColorManagement"in b1)&&!a.linear&&T&&w.convertSRGBToLinear()}}else M[y]=x,!a.linear&&M[y]instanceof ti&&(M[y].encoding=ir);pg(t)}if(s.parent&&a.internal&&t.raycast&&c!==s.eventCount){const v=a.internal.interaction.indexOf(t);v>-1&&a.internal.interaction.splice(v,1),s.eventCount&&a.internal.interaction.push(t)}return u.length&&(i=t.__r3f)!=null&&i.parent&&rI(t),t}function pg(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function rI(t){t.onUpdate==null||t.onUpdate(t)}function G7(t,e){t.manual||(B7(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function PTe(t,e,n){const r=n.pop(),i=n.reduce((s,o)=>s[o],t);return i[r]=e}function xb(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function RTe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return rp.exports.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return rp.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return rp.exports.ContinuousEventPriority;default:return rp.exports.DefaultEventPriority}}function j7(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function ITe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{j7(n.capturedMap,e,r,i)})}function kTe(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],p=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+p*p))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var p;return(p=u.__r3f)==null?void 0:p.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),p=new Set,m=[],v=u?u(c.internal.interaction):c.internal.interaction;for(let b=0;b<v.length;b++){const M=by(v[b]);M&&(M.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function y(b){const M=by(b);if(!M||!M.events.enabled||M.raycaster.camera===null)return[];if(M.raycaster.camera===void 0){var w;M.events.compute==null||M.events.compute(l,M,(w=M.previousRoot)==null?void 0:w.getState()),M.raycaster.camera===void 0&&(M.raycaster.camera=null)}return M.raycaster.camera?M.raycaster.intersectObject(b,!0):[]}let x=v.flatMap(y).sort((b,M)=>{const w=by(b.object),T=by(M.object);return!w||!T?b.distance-M.distance:T.events.priority-w.events.priority||b.distance-M.distance}).filter(b=>{const M=xb(b);return p.has(M)?!1:(p.add(M),!0)});c.events.filter&&(x=c.events.filter(x,c));for(const b of x){let M=b.object;for(;M;){var _;(_=M.__r3f)!=null&&_.eventCount&&m.push({...b,eventObject:M}),M=M.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let b of c.internal.capturedMap.get(l.pointerId).values())p.has(xb(b.intersection))||m.push(b.intersection);return m}function i(l,u,c,p){const m=t.getState();if(l.length){const v={stopped:!1};for(const y of l){const x=by(y.object)||m,{raycaster:_,pointer:b,camera:M,internal:w}=x,T=new X(b.x,b.y,0).unproject(M),A=N=>{var H,ie;return(H=(ie=w.capturedMap.get(N))==null?void 0:ie.has(y.eventObject))!=null?H:!1},k=N=>{const H={intersection:y,target:u.target};w.capturedMap.has(N)?w.capturedMap.get(N).set(y.eventObject,H):w.capturedMap.set(N,new Map([[y.eventObject,H]])),u.target.setPointerCapture(N)},L=N=>{const H=w.capturedMap.get(N);H&&j7(w.capturedMap,y.eventObject,H,N)};let P={};for(let N in u){let H=u[N];typeof H!="function"&&(P[N]=H)}let O={...y,...P,pointer:b,intersections:l,stopped:v.stopped,delta:c,unprojectedPoint:T,ray:_.ray,camera:M,stopPropagation(){const N="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!N||N.has(y.eventObject))&&(O.stopped=v.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(H=>H.eventObject===y.eventObject))){const H=l.slice(0,l.indexOf(y));s([...H,y])}},target:{hasPointerCapture:A,setPointerCapture:k,releasePointerCapture:L},currentTarget:{hasPointerCapture:A,setPointerCapture:k,releasePointerCapture:L},nativeEvent:u};if(p(O),v.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(p=>p.object===c.object&&p.index===c.index&&p.instanceId===c.instanceId)){const m=c.eventObject.__r3f,v=m==null?void 0:m.handlers;if(u.hovered.delete(xb(c)),m!=null&&m.eventCount){const y={...c,intersections:l};v.onPointerOut==null||v.onPointerOut(y),v.onPointerLeave==null||v.onPointerLeave(y)}}}function o(l,u){for(let c=0;c<u.length;c++){const p=u[c].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))}}return function(c){const{onPointerMissed:p,internal:m}=t.getState();m.lastEvent.current=c;const v=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(c,v?n:void 0),b=y?e(c):0;l==="onPointerDown"&&(m.initialClick=[c.offsetX,c.offsetY],m.initialHits=_.map(w=>w.eventObject)),y&&!_.length&&b<=2&&(o(c,m.interaction),p&&p(c)),v&&s(_);function M(w){const T=w.eventObject,A=T.__r3f,k=A==null?void 0:A.handlers;if(!!(A!=null&&A.eventCount))if(v){if(k.onPointerOver||k.onPointerEnter||k.onPointerOut||k.onPointerLeave){const L=xb(w),P=m.hovered.get(L);P?P.stopped&&w.stopPropagation():(m.hovered.set(L,w),k.onPointerOver==null||k.onPointerOver(w),k.onPointerEnter==null||k.onPointerEnter(w))}k.onPointerMove==null||k.onPointerMove(w)}else{const L=k[l];L?(!y||m.initialHits.includes(T))&&(o(c,m.interaction.filter(P=>!m.initialHits.includes(P))),L(w)):y&&m.initialHits.includes(T)&&o(c,m.interaction.filter(P=>!m.initialHits.includes(P)))}}i(_,c,b,M)}}return{handlePointer:a}}let iI={},q7=t=>void(iI={...iI,...t});function LTe(t,e){function n(c,{args:p=[],attach:m,...v},y){let x=`${c[0].toUpperCase()}${c.slice(1)}`,_;if(c==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const b=v.object;_=dg(b,{type:c,root:y,attach:m,primitive:!0})}else{const b=iI[x];if(!b)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(p))throw new Error("R3F: The args prop must be an array!");_=dg(new b(...p),{type:c,root:y,attach:m,memoizedProps:{args:p}})}return _.__r3f.attach===void 0&&(_ instanceof Mn?_.__r3f.attach="geometry":_ instanceof Ss&&(_.__r3f.attach="material")),x!=="inject"&&sP(_,v),_}function r(c,p){let m=!1;if(p){var v,y;(v=p.__r3f)!=null&&v.attach?iP(c,p,p.__r3f.attach):p.isObject3D&&c.isObject3D&&(c.add(p),m=!0),m||(y=c.__r3f)==null||y.objects.push(p),p.__r3f||dg(p,{}),p.__r3f.parent=c,rI(p),pg(p)}}function i(c,p,m){let v=!1;if(p){var y,x;if((y=p.__r3f)!=null&&y.attach)iP(c,p,p.__r3f.attach);else if(p.isObject3D&&c.isObject3D){p.parent=c,p.dispatchEvent({type:"added"});const _=c.children.filter(M=>M!==p),b=_.indexOf(m);c.children=[..._.slice(0,b),p,..._.slice(b)],v=!0}v||(x=c.__r3f)==null||x.objects.push(p),p.__r3f||dg(p,{}),p.__r3f.parent=c,rI(p),pg(p)}}function s(c,p,m=!1){c&&[...c].forEach(v=>o(p,v,m))}function o(c,p,m){if(p){var v,y,x;if(p.__r3f&&(p.__r3f.parent=null),(v=c.__r3f)!=null&&v.objects&&(c.__r3f.objects=c.__r3f.objects.filter(T=>T!==p)),(y=p.__r3f)!=null&&y.attach)iU(c,p,p.__r3f.attach);else if(p.isObject3D&&c.isObject3D){var _;c.remove(p),(_=p.__r3f)!=null&&_.root&&ITe(p.__r3f.root,p)}const M=(x=p.__r3f)==null?void 0:x.primitive,w=m===void 0?p.dispose!==null&&!M:m;if(!M){var b;s((b=p.__r3f)==null?void 0:b.objects,p,w),s(p.children,p,w)}p.__r3f&&(delete p.__r3f.root,delete p.__r3f.objects,delete p.__r3f.handlers,delete p.__r3f.memoizedProps,M||delete p.__r3f),w&&p.dispose&&p.type!=="Scene"&&tI.exports.unstable_scheduleCallback(tI.exports.unstable_IdlePriority,()=>{try{p.dispose()}catch{}}),pg(c)}}function a(c,p,m,v){var y;const x=(y=c.__r3f)==null?void 0:y.parent;if(!x)return;const _=n(p,m,c.__r3f.root);if(c.children){for(const b of c.children)b.__r3f&&r(_,b);c.children=c.children.filter(b=>!b.__r3f)}c.__r3f.objects.forEach(b=>r(_,b)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(x,c),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(x,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[v,v.alternate].forEach(b=>{b!==null&&(b.stateNode=_,b.ref&&(typeof b.ref=="function"?b.ref(_):b.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:_Te({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,p)=>{if(!p)return;const m=c.getState().scene;!m.__r3f||(m.__r3f.root=c,r(m,p))},removeChildFromContainer:(c,p)=>{!p||o(c.getState().scene,p)},insertInContainerBefore:(c,p,m)=>{if(!p||!m)return;const v=c.getState().scene;!v.__r3f||i(v,p,m)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var p;const m=(p=c==null?void 0:c.__r3f)!=null?p:{};return Boolean(m.handlers)},prepareUpdate(c,p,m,v){if(c.__r3f.primitive&&v.object&&v.object!==c)return[!0];{const{args:y=[],children:x,..._}=v,{args:b=[],children:M,...w}=m;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((A,k)=>A!==b[k]))return[!0];const T=$7(c,_,w,!0);return T.changes.length?[!1,T]:null}},commitUpdate(c,[p,m],v,y,x,_){p?a(c,v,x,_):sP(c,m)},commitMount(c,p,m,v){var y;const x=(y=c.__r3f)!=null?y:{};c.raycast&&x.handlers&&x.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>dg(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var p;const{attach:m,parent:v}=(p=c.__r3f)!=null?p:{};m&&v&&iU(v,c,m),c.isObject3D&&(c.visible=!1),pg(c)},unhideInstance(c,p){var m;const{attach:v,parent:y}=(m=c.__r3f)!=null?m:{};v&&y&&iP(y,c,v),(c.isObject3D&&p.visible==null||p.visible)&&(c.visible=!0),pg(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():rp.exports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Kr.fun(performance.now)?performance.now:Kr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Kr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Kr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:sP}}const DTe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],X7=t=>!!(t!=null&&t.render),zD=U.exports.createContext(null),OTe=(t,e)=>{const n=D7((a,l)=>{const u=new X,c=new X,p=new X;function m(b=l().camera,M=c,w=l().size){const{width:T,height:A,top:k,left:L}=w,P=T/A;M instanceof X?p.copy(M):p.set(...M);const O=b.getWorldPosition(u).distanceTo(p);if(B7(b))return{width:T/b.zoom,height:A/b.zoom,top:k,left:L,factor:1,distance:O,aspect:P};{const N=b.fov*Math.PI/180,H=2*Math.tan(N/2)*O,ie=H*(T/A);return{width:ie,height:H,top:k,left:L,factor:T/ie,distance:O,aspect:P}}}let v;const y=b=>a(M=>({performance:{...M.performance,current:b}})),x=new Ne;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(b=1)=>t(l(),b),advance:(b,M)=>e(b,M,l()),legacy:!1,linear:!1,flat:!1,scene:dg(new rC),controls:null,clock:new LD,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=l();v&&clearTimeout(v),b.performance.current!==b.performance.min&&y(b.performance.min),v=setTimeout(()=>y(l().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:b=>a(M=>({...M,events:{...M.events,...b}})),setSize:(b,M,w,T,A)=>{const k=l().camera,L={width:b,height:M,top:T||0,left:A||0,updateStyle:w};a(P=>({size:L,viewport:{...P.viewport,...m(k,c,L)}}))},setDpr:b=>a(M=>{const w=W7(b);return{viewport:{...M.viewport,dpr:w,initialDpr:M.viewport.initialDpr||w}}}),setFrameloop:(b="always")=>{const M=l().clock;M.stop(),M.elapsedTime=0,b!=="never"&&(M.start(),M.elapsedTime=0),a(()=>({frameloop:b}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:U.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(b,M,w)=>{const T=l().internal;return T.priority=T.priority+(M>0?1:0),T.subscribers.push({ref:b,priority:M,store:w}),T.subscribers=T.subscribers.sort((A,k)=>A.priority-k.priority),()=>{const A=l().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(M>0?1:0),A.subscribers=A.subscribers.filter(k=>k.ref!==b))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:p}=n.getState();(l!==i||u.dpr!==s)&&(i=l,s=u.dpr,G7(a,l),c.setPixelRatio(u.dpr),c.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,p(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};function NTe(t,e){const n={callback:t};return e.add(n),()=>void e.delete(n)}let _b,Y7=new Set,FTe=new Set,zTe=new Set;const BTe=t=>NTe(t,Y7);function oP(t,e){if(!!t.size)for(const{callback:n}of t.values())n(e)}function My(t,e){switch(t){case"before":return oP(Y7,e);case"after":return oP(FTe,e);case"tail":return oP(zTe,e)}}let aP,lP;function uP(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),aP=e.internal.subscribers,_b=0;_b<aP.length;_b++)lP=aP[_b],lP.ref.current(lP.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function UTe(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,My("before",l);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=uP(l,i))}if(My("after",l),n===0)return My("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return t.forEach(p=>o(p.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,p){if(u&&My("before",l),c)uP(l,c,p);else for(const m of t.values())uP(l,m.store.getState());u&&My("after",l)}return{loop:s,invalidate:o,advance:a}}function BD(){const t=U.exports.useContext(zD);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function ps(t=n=>n,e){return BD()(t,e)}function Q0(t,e=0){const n=BD(),r=n.getState().internal.subscribe,i=U7(t);return I_(()=>r(i,e,n),[e,r,n]),null}function Q7(t,e){return function(n,...r){const i=new n;return t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,CTe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function UD(t,e,n,r){const i=Array.isArray(e)?e:[e],s=wTe(Q7(n,r),[t,...i],{equal:Kr.equ});return Array.isArray(e)?s:s[0]}UD.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return STe(Q7(n),[t,...r])};UD.clear=function(t,e){const n=Array.isArray(e)?e:[e];return bTe([t,...n])};const S0=new Map,{invalidate:sU,advance:oU}=UTe(S0),{reconciler:M1,applyProps:zy}=LTe(S0,RTe),ug={objects:"shallow",strict:!1},VTe=(t,e)=>{const n=typeof t=="function"?t(e):t;return X7(n)?n:new dD({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function HTe(t){return t instanceof HTMLCanvasElement}function WTe(t,e){if(e)return e;if(HTe(t)&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}return{width:0,height:0,top:0,left:0}}function $Te(t){const e=S0.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||OTe(sU,oU),o=n||M1.createContainer(s,rp.exports.ConcurrentRoot,null,!1,null,"",i,null);e||S0.set(t,{fiber:o,store:s});let a,l=!1;return{configure(u={}){let{gl:c,size:p,events:m,onCreated:v,shadows:y=!1,linear:x=!1,flat:_=!1,legacy:b=!1,orthographic:M=!1,frameloop:w="always",dpr:T=[1,2],performance:A,raycaster:k,camera:L,onPointerMissed:P}=u,O=s.getState(),N=O.gl;O.gl||O.set({gl:N=VTe(c,t)});let H=O.raycaster;H||O.set({raycaster:H=new FD});const{params:ie,...te}=k||{};if(Kr.equ(te,H,ug)||zy(H,{...te}),Kr.equ(ie,H.params,ug)||zy(H,{params:{...H.params,...ie}}),!O.camera){const fe=L instanceof v_,z=fe?L:M?new ch(0,0,0,0,.1,1e3):new Pr(75,0,.1,1e3);fe||(z.position.z=5,L&&zy(z,L),L!=null&&L.rotation||z.lookAt(0,0,0)),O.set({camera:z})}if(!O.xr){const fe=(Z,B)=>{const G=s.getState();G.frameloop!=="never"&&oU(Z,!0,G,B)},z=()=>{const Z=s.getState();Z.gl.xr.enabled=Z.gl.xr.isPresenting,Z.gl.xr.setAnimationLoop(Z.gl.xr.isPresenting?fe:null),Z.gl.xr.isPresenting||sU(Z)},Y={connect(){const Z=s.getState().gl;Z.xr.addEventListener("sessionstart",z),Z.xr.addEventListener("sessionend",z)},disconnect(){const Z=s.getState().gl;Z.xr.removeEventListener("sessionstart",z),Z.xr.removeEventListener("sessionend",z)}};N.xr&&Y.connect(),O.set({xr:Y})}if(N.shadowMap){const fe=Kr.boo(y);if(fe&&N.shadowMap.enabled!==y||!Kr.equ(y,N.shadowMap,ug)){const z=N.shadowMap.enabled;N.shadowMap.enabled=!!y,fe?N.shadowMap.type=ZL:Object.assign(N.shadowMap,y),z!==N.shadowMap.enabled&&(N.shadowMap.needsUpdate=!0)}}"ColorManagement"in b1&&PTe(b1,b,["ColorManagement","legacyMode"]);const ee=x?zl:ir,ue=_?Ol:tD;N.outputEncoding!==ee&&(N.outputEncoding=ee),N.toneMapping!==ue&&(N.toneMapping=ue),O.legacy!==b&&O.set(()=>({legacy:b})),O.linear!==x&&O.set(()=>({linear:x})),O.flat!==_&&O.set(()=>({flat:_})),c&&!Kr.fun(c)&&!X7(c)&&!Kr.equ(c,N,ug)&&zy(N,c),m&&!O.events.handlers&&O.set({events:m(s)}),T&&O.viewport.dpr!==W7(T)&&O.setDpr(T);const ae=WTe(t,p);return Kr.equ(ae,O.size,ug)||O.setSize(ae.width,ae.height,ae.updateStyle,ae.top,ae.left),O.frameloop!==w&&O.setFrameloop(w),O.onPointerMissed||O.set({onPointerMissed:P}),A&&!Kr.equ(A,O.performance,ug)&&O.set(fe=>({performance:{...fe.performance,...A}})),a=v,l=!0,this},render(u){return l||this.configure(),M1.updateContainer(J(GTe,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){K7(t)}}}function GTe({store:t,children:e,onCreated:n,rootElement:r}){return I_(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),U.exports.createElement(zD.Provider,{value:t},e)}function K7(t,e){const n=S0.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),M1.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),ATe(i),S0.delete(t),e&&e(t)}catch{}},500)})}}function jTe(t,e,n){return J(qTe,{children:t,container:e,state:n},e.uuid)}function qTe({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=BD(),[a]=U.exports.useState(()=>new FD),[l]=U.exports.useState(()=>new Ne),u=U.exports.useCallback((p,m)=>{const v={...p};Object.keys(p).forEach(x=>{(DTe.includes(x)||p[x]!==m[x])&&delete v[x]});let y;if(m&&i){const x=m.camera;y=p.viewport.getCurrentViewport(x,new X,i),x!==p.camera&&G7(x,i)}return{...v,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...p.events,...m==null?void 0:m.events,...r},size:{...p.size,...i},viewport:{...p.viewport,...y},...s}},[t]),[c]=U.exports.useState(()=>{const p=o.getState();return D7((v,y)=>({...p,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...p.events,...r},size:{...p.size,...i},...s,set:v,get:y,setEvents:x=>v(_=>({..._,events:{..._.events,...x}}))}))});return U.exports.useEffect(()=>{const p=o.subscribe(m=>c.setState(v=>u(m,v)));return()=>{p(),c.destroy()}},[]),U.exports.useEffect(()=>{c.setState(p=>u(o.getState(),p))},[u]),J(ga,{children:M1.createPortal(U.exports.createElement(zD.Provider,{value:c},e),c,null)})}M1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:U.exports.version});function sI(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}sI.debounce=sI;var aU=sI;function XTe(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=U.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=U.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,p=U.exports.useRef(!1);U.exports.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[m,v,y]=U.exports.useMemo(()=>{const M=()=>{if(!l.current.element)return;const{left:w,top:T,width:A,height:k,bottom:L,right:P,x:O,y:N}=l.current.element.getBoundingClientRect(),H={left:w,top:T,width:A,height:k,bottom:L,right:P,x:O,y:N};l.current.element instanceof HTMLElement&&i&&(H.height=l.current.element.offsetHeight,H.width=l.current.element.offsetWidth),Object.freeze(H),p.current&&!ZTe(l.current.lastBounds,H)&&a(l.current.lastBounds=H)};return[M,c?aU(M,c):M,u?aU(M,u):M]},[a,i,u,c]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){!l.current.element||(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(M=>M.addEventListener("scroll",y,{capture:!0,passive:!0})))}const b=M=>{!M||M===l.current.element||(x(),l.current.element=M,l.current.scrollContainers=Z7(M),_())};return QTe(y,Boolean(n)),YTe(v),U.exports.useEffect(()=>{x(),_()},[n,y,v]),U.exports.useEffect(()=>x,[]),[b,o,m]}function YTe(t){U.exports.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function QTe(t,e){U.exports.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function Z7(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...Z7(t.parentElement)]}const KTe=["x","y","top","bottom","left","right","width","height"],ZTe=(t,e)=>KTe.every(n=>t[n]===e[n]);var JTe=Object.defineProperty,eCe=Object.defineProperties,tCe=Object.getOwnPropertyDescriptors,lU=Object.getOwnPropertySymbols,nCe=Object.prototype.hasOwnProperty,rCe=Object.prototype.propertyIsEnumerable,uU=(t,e,n)=>e in t?JTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cU=(t,e)=>{for(var n in e||(e={}))nCe.call(e,n)&&uU(t,n,e[n]);if(lU)for(var n of lU(e))rCe.call(e,n)&&uU(t,n,e[n]);return t},iCe=(t,e)=>eCe(t,tCe(e));function J7(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=J7(r,e,n);if(i)return i;r=e?null:r.sibling}}function ej(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const VD=ej(U.exports.createContext(null));class tj extends U.exports.Component{render(){return J(VD.Provider,{value:this._reactInternals,children:this.props.children})}}const{ReactCurrentOwner:sCe,ReactCurrentDispatcher:oCe}=U.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function aCe(){const t=U.exports.useContext(VD);if(!t)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=U.exports.useId();return U.exports.useMemo(()=>{var r;return(r=sCe.current)!=null?r:J7(t,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[t,e])}function lCe(){var t,e;const n=aCe(),[r]=U.exports.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==VD&&!r.has(s)&&r.set(s,(e=oCe.current)==null?void 0:e.readContext(ej(s))),i=i.return}return U.exports.useMemo(()=>Array.from(r.keys()).reduce((s,o)=>a=>U.exports.createElement(s,null,U.exports.createElement(o.Provider,iCe(cU({},a),{value:r.get(o)}))),s=>J(tj,{...cU({},s)})),[r])}const cP={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function uCe(t){const{handlePointer:e}=kTe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(cP).reduce((n,r)=>({...n,[r]:e(r)}),{}),connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=cP[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=cP[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const cCe=U.exports.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=uCe,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:p,legacy:m,orthographic:v,frameloop:y,dpr:x,performance:_,raycaster:b,camera:M,onPointerMissed:w,onCreated:T,...A},k){U.exports.useMemo(()=>q7(b1),[]);const L=lCe(),[P,O]=XTe({scroll:!0,debounce:{scroll:50,resize:0},...r}),N=U.exports.useRef(null),H=U.exports.useRef(null),[ie,te]=U.exports.useState(null);U.exports.useImperativeHandle(k,()=>N.current);const ee=U7(w),[ue,ae]=U.exports.useState(!1),[fe,z]=U.exports.useState(!1);if(ue)throw ue;if(fe)throw fe;const Y=U.exports.useRef(null);return O.width>0&&O.height>0&&ie&&(Y.current||(Y.current=$Te(ie)),Y.current.configure({gl:s,events:o,shadows:u,linear:c,flat:p,legacy:m,orthographic:v,frameloop:y,dpr:x,performance:_,raycaster:b,camera:M,size:O,onPointerMissed:(...B)=>ee.current==null?void 0:ee.current(...B),onCreated:B=>{B.events.connect==null||B.events.connect(a?MTe(a)?a.current:a:H.current),l&&B.setEvents({compute:(G,le)=>{const we=G[l+"X"],Me=G[l+"Y"];le.pointer.set(we/le.size.width*2-1,-(Me/le.size.height)*2+1),le.raycaster.setFromCamera(le.pointer,le.camera)}}),T==null||T(B)}}),Y.current.render(J(L,{children:J(V7,{set:z,children:J(U.exports.Suspense,{fallback:J(ETe,{set:ae}),children:e})})}))),I_(()=>{te(N.current)},[]),U.exports.useEffect(()=>{if(ie)return()=>K7(ie)},[ie]),J("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:a?"none":"auto",...i},...A,children:J("div",{ref:P,style:{width:"100%",height:"100%"},children:J("canvas",{ref:N,style:{display:"block"},children:n})})})}),fCe=U.exports.forwardRef(function(e,n){return J(tj,{children:J(cCe,{...e,ref:n})})});function hCe(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}let HD=L_();const an=t=>k_(t,HD);let WD=L_();an.write=t=>k_(t,WD);let fC=L_();an.onStart=t=>k_(t,fC);let $D=L_();an.onFrame=t=>k_(t,$D);let GD=L_();an.onFinish=t=>k_(t,GD);let Qg=[];an.setTimeout=(t,e)=>{let n=an.now()+e,r=()=>{let s=Qg.findIndex(o=>o.cancel==r);~s&&Qg.splice(s,1),Zf-=~s?1:0},i={time:n,handler:t,cancel:r};return Qg.splice(nj(n),0,i),Zf+=1,rj(),i};let nj=t=>~(~Qg.findIndex(e=>e.time>t)||~Qg.length);an.cancel=t=>{fC.delete(t),$D.delete(t),GD.delete(t),HD.delete(t),WD.delete(t)};an.sync=t=>{oI=!0,an.batchedUpdates(t),oI=!1};an.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,an.onStart(n)}return r.handler=t,r.cancel=()=>{fC.delete(n),e=null},r};let jD=typeof window<"u"?window.requestAnimationFrame:()=>{};an.use=t=>jD=t;an.now=typeof performance<"u"?()=>performance.now():Date.now;an.batchedUpdates=t=>t();an.catch=console.error;an.frameLoop="always";an.advance=()=>{an.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):sj()};let Kf=-1,Zf=0,oI=!1;function k_(t,e){oI?(e.delete(t),t(0)):(e.add(t),rj())}function rj(){Kf<0&&(Kf=0,an.frameLoop!=="demand"&&jD(ij))}function dCe(){Kf=-1}function ij(){~Kf&&(jD(ij),an.batchedUpdates(sj))}function sj(){let t=Kf;Kf=an.now();let e=nj(Kf);if(e&&(oj(Qg.splice(0,e),n=>n.handler()),Zf-=e),!Zf){dCe();return}fC.flush(),HD.flush(t?Math.min(64,Kf-t):16.667),$D.flush(),WD.flush(),GD.flush()}function L_(){let t=new Set,e=t;return{add(n){Zf+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return Zf-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,Zf-=e.size,oj(e,r=>r(n)&&t.add(r)),Zf+=t.size,e=t)}}}function oj(t,e){t.forEach(n=>{try{e(n)}catch(r){an.catch(r)}})}function aI(){}const pCe=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),st={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function yc(t,e){if(st.arr(t)){if(!st.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}const er=(t,e)=>t.forEach(e);function Hc(t,e,n){if(st.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}const Ya=t=>st.und(t)?[]:st.arr(t)?t:[t];function vx(t,e){if(t.size){const n=Array.from(t);t.clear(),er(n,e)}}const By=(t,...e)=>vx(t,n=>n(...e)),qD=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let XD,aj,fh=null,lj=!1,YD=aI;const mCe=t=>{t.to&&(aj=t.to),t.now&&(an.now=t.now),t.colors!==void 0&&(fh=t.colors),t.skipAnimation!=null&&(lj=t.skipAnimation),t.createStringInterpolator&&(XD=t.createStringInterpolator),t.requestAnimationFrame&&an.use(t.requestAnimationFrame),t.batchedUpdates&&(an.batchedUpdates=t.batchedUpdates),t.willAdvance&&(YD=t.willAdvance),t.frameLoop&&(an.frameLoop=t.frameLoop)};var Ou=Object.freeze({__proto__:null,get createStringInterpolator(){return XD},get to(){return aj},get colors(){return fh},get skipAnimation(){return lj},get willAdvance(){return YD},assign:mCe});const yx=new Set;let $a=[],fP=[],dE=0;const hC={get idle(){return!yx.size&&!$a.length},start(t){dE>t.priority?(yx.add(t),an.onStart(gCe)):(uj(t),an(lI))},advance:lI,sort(t){if(dE)an.onFrame(()=>hC.sort(t));else{const e=$a.indexOf(t);~e&&($a.splice(e,1),cj(t))}},clear(){$a=[],yx.clear()}};function gCe(){yx.forEach(uj),yx.clear(),an(lI)}function uj(t){$a.includes(t)||cj(t)}function cj(t){$a.splice(vCe($a,e=>e.priority>t.priority),0,t)}function lI(t){const e=fP;for(let n=0;n<$a.length;n++){const r=$a[n];dE=r.priority,r.idle||(YD(r),r.advance(t),r.idle||e.push(r))}return dE=0,fP=$a,fP.length=0,$a=e,$a.length>0}function vCe(t,e){const n=t.findIndex(e);return n<0?t.length:n}const yCe=(t,e,n)=>Math.min(Math.max(n,t),e),xCe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Pl="[-+]?\\d*\\.?\\d+",pE=Pl+"%";function dC(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const _Ce=new RegExp("rgb"+dC(Pl,Pl,Pl)),wCe=new RegExp("rgba"+dC(Pl,Pl,Pl,Pl)),SCe=new RegExp("hsl"+dC(Pl,pE,pE)),bCe=new RegExp("hsla"+dC(Pl,pE,pE,Pl)),MCe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ECe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,TCe=/^#([0-9a-fA-F]{6})$/,CCe=/^#([0-9a-fA-F]{8})$/;function ACe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=TCe.exec(t))?parseInt(e[1]+"ff",16)>>>0:fh&&fh[t]!==void 0?fh[t]:(e=_Ce.exec(t))?(cg(e[1])<<24|cg(e[2])<<16|cg(e[3])<<8|255)>>>0:(e=wCe.exec(t))?(cg(e[1])<<24|cg(e[2])<<16|cg(e[3])<<8|dU(e[4]))>>>0:(e=MCe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=CCe.exec(t))?parseInt(e[1],16)>>>0:(e=ECe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=SCe.exec(t))?(fU(hU(e[1]),wb(e[2]),wb(e[3]))|255)>>>0:(e=bCe.exec(t))?(fU(hU(e[1]),wb(e[2]),wb(e[3]))|dU(e[4]))>>>0:null}function hP(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fU(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=hP(i,r,t+1/3),o=hP(i,r,t),a=hP(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function cg(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function hU(t){return(parseFloat(t)%360+360)%360/360}function dU(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function wb(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function pU(t){let e=ACe(t);if(e===null)return t;e=e||0;let n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}const E1=(t,e,n)=>{if(st.fun(t))return t;if(st.arr(t))return E1({range:t,output:e,extrapolate:n});if(st.str(t.output[0]))return XD(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=RCe(u,s);return PCe(u,s[c],s[c+1],i[c],i[c+1],l,o,a,r.map)}};function PCe(t,e,n,r,i,s,o,a,l){let u=l?l(t):t;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function RCe(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}const ICe=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return yCe(0,1,i/t)},mE=1.70158,Sb=mE*1.525,mU=mE+1,gU=2*Math.PI/3,vU=2*Math.PI/4.5,bb=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,kCe={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>mU*t*t*t-mE*t*t,easeOutBack:t=>1+mU*Math.pow(t-1,3)+mE*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Sb+1)*2*t-Sb)/2:(Math.pow(2*t-2,2)*((Sb+1)*(t*2-2)+Sb)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*gU),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*gU)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*vU))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*vU)/2+1,easeInBounce:t=>1-bb(1-t),easeOutBounce:bb,easeInOutBounce:t=>t<.5?(1-bb(1-2*t))/2:(1+bb(2*t-1))/2,steps:ICe};function uI(){return uI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uI.apply(this,arguments)}const b0=Symbol.for("FluidValue.get"),Dp=Symbol.for("FluidValue.observers"),wu=t=>Boolean(t&&t[b0]),Ua=t=>t&&t[b0]?t[b0]():t,yU=t=>t[Dp]||null;function LCe(t,e){t.eventObserved?t.eventObserved(e):t(e)}function gE(t,e){let n=t[Dp];n&&n.forEach(r=>{LCe(r,e)})}class DCe{constructor(e){if(this[b0]=void 0,this[Dp]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");OCe(this,e)}}const OCe=(t,e)=>fj(t,b0,e);function D_(t,e){if(t[b0]){let n=t[Dp];n||fj(t,Dp,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function vE(t,e){let n=t[Dp];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[Dp]=null,t.observerRemoved&&t.observerRemoved(r,e)}}const fj=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),uM=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,NCe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,xU=new RegExp(`(${uM.source})(%|[a-z]+)`,"i"),FCe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,pC=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,hj=t=>{const[e,n]=zCe(t);if(!e||qD())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&pC.test(n))return hj(n);if(n)return n}return t},zCe=t=>{const e=pC.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]};let dP;const BCe=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,dj=t=>{dP||(dP=fh?new RegExp(`(${Object.keys(fh).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Ua(s).replace(pC,hj).replace(NCe,pU).replace(dP,pU)),n=e.map(s=>s.match(uM).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>E1(uI({},t,{output:s})));return s=>{var o;const a=!xU.test(e[0])&&((o=e.find(u=>xU.test(u)))==null?void 0:o.replace(uM,""));let l=0;return e[0].replace(uM,()=>`${i[l++](s)}${a||""}`).replace(FCe,BCe)}},QD="react-spring: ",pj=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${QD}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},UCe=pj(console.warn);function VCe(){UCe(`${QD}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const HCe=pj(console.warn);function WCe(){HCe(`${QD}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function mC(t){return st.str(t)&&(t[0]=="#"||/\d/.test(t)||!qD()&&pC.test(t)||t in(fh||{}))}const KD=qD()?U.exports.useEffect:U.exports.useLayoutEffect,$Ce=()=>{const t=U.exports.useRef(!1);return KD(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function mj(){const t=U.exports.useState()[1],e=$Ce();return()=>{e.current&&t(Math.random())}}function GCe(t,e){const[n]=U.exports.useState(()=>({inputs:e,result:t()})),r=U.exports.useRef(),i=r.current;let s=i;return s?Boolean(e&&s.inputs&&jCe(e,s.inputs))||(s={inputs:e,result:t()}):s=n,U.exports.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function jCe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const gj=t=>U.exports.useEffect(t,qCe),qCe=[];function _U(t){const e=U.exports.useRef();return U.exports.useEffect(()=>{e.current=t}),e.current}const T1=Symbol.for("Animated:node"),XCe=t=>!!t&&t[T1]===t,yu=t=>t&&t[T1],ZD=(t,e)=>pCe(t,T1,e),gC=t=>t&&t[T1]&&t[T1].getPayload();class vj{constructor(){this.payload=void 0,ZD(this,this)}getPayload(){return this.payload||[]}}class K0 extends vj{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,st.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new K0(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,n){return st.num(e)&&(this.lastPosition=e,n&&(e=Math.round(e/n)*n,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,st.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class M0 extends K0{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=E1({output:[e,e]})}static create(e){return new M0(e)}getValue(){let e=this._string;return e==null?this._string=this._toString(this._value):e}setValue(e){if(st.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=E1({output:[this.getValue(),e]})),this._value=0,super.reset()}}const yE={dependencies:null};class JD extends vj{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const n={};return Hc(this.source,(r,i)=>{XCe(r)?n[i]=r.getValue(e):wu(r)?n[i]=Ua(r):e||(n[i]=r)}),n}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&er(this.payload,e=>e.reset())}_makePayload(e){if(e){const n=new Set;return Hc(e,this._addToPayload,n),Array.from(n)}}_addToPayload(e){yE.dependencies&&wu(e)&&yE.dependencies.add(e);const n=gC(e);n&&er(n,r=>this.add(r))}}class eO extends JD{constructor(e){super(e)}static create(e){return new eO(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const n=this.getPayload();return e.length==n.length?n.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(YCe)),!0)}}function YCe(t){return(mC(t)?M0:K0).create(t)}function cI(t){const e=yu(t);return e?e.constructor:st.arr(t)?eO:mC(t)?M0:K0}function fI(){return fI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fI.apply(this,arguments)}const wU=(t,e)=>{const n=!st.fun(t)||t.prototype&&t.prototype.isReactComponent;return U.exports.forwardRef((r,i)=>{const s=U.exports.useRef(null),o=n&&U.exports.useCallback(y=>{s.current=ZCe(i,y)},[i]),[a,l]=KCe(r,e),u=mj(),c=()=>{const y=s.current;if(n&&!y)return;(y?e.applyAnimatedValues(y,a.getValue(!0)):!1)===!1&&u()},p=new QCe(c,l),m=U.exports.useRef();KD(()=>(m.current=p,er(l,y=>D_(y,p)),()=>{m.current&&(er(m.current.deps,y=>vE(y,m.current)),an.cancel(m.current.update))})),U.exports.useEffect(c,[]),gj(()=>()=>{const y=m.current;er(y.deps,x=>vE(x,y))});const v=e.getComponentProps(a.getValue());return J(t,{...v,ref:o})})};class QCe{constructor(e,n){this.update=e,this.deps=n}eventObserved(e){e.type=="change"&&an.write(this.update)}}function KCe(t,e){const n=new Set;return yE.dependencies=n,t.style&&(t=fI({},t,{style:e.createAnimatedStyle(t.style)})),t=new JD(t),yE.dependencies=null,[t,n]}function ZCe(t,e){return t&&(st.fun(t)?t(e):t.current=e),e}const SU=Symbol.for("AnimatedComponent"),JCe=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new JD(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=bU(o)||"Anonymous";return st.str(o)?o=s[o]||(s[o]=wU(o,i)):o=o[SU]||(o[SU]=wU(o,i)),o.displayName=`Animated(${a})`,o};return Hc(t,(o,a)=>{st.arr(t)&&(a=bU(o)),s[a]=s(o)}),{animated:s}},bU=t=>st.str(t)?t:t&&st.str(t.displayName)?t.displayName:st.fun(t)&&t.name||null;function Ji(){return Ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ji.apply(this,arguments)}function Gd(t,...e){return st.fun(t)?t(...e):t}const xx=(t,e)=>t===!0||!!(e&&t&&(st.fun(t)?t(e):Ya(t).includes(e))),yj=(t,e)=>st.obj(t)?e&&t[e]:t,xj=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,e2e=t=>t,tO=(t,e=e2e)=>{let n=t2e;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);st.und(s)||(r[i]=s)}return r},t2e=["config","onProps","onStart","onChange","onPause","onResume","onRest"],n2e={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function r2e(t){const e={};let n=0;if(Hc(t,(r,i)=>{n2e[i]||(e[i]=r,n++)}),n)return e}function _j(t){const e=r2e(t);if(e){const n={to:e};return Hc(t,(r,i)=>i in e||(n[i]=r)),n}return Ji({},t)}function C1(t){return t=Ua(t),st.arr(t)?t.map(C1):mC(t)?Ou.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function i2e(t){for(const e in t)return!0;return!1}function hI(t){return st.fun(t)||st.arr(t)&&st.obj(t[0])}function s2e(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function o2e(t,e){if(e&&t.ref!==e){var n;(n=t.ref)==null||n.delete(t),e.add(t),t.ref=e}}const a2e={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},dI=Ji({},a2e.default,{mass:1,damping:1,easing:kCe.linear,clamp:!1});class l2e{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,dI)}}function u2e(t,e,n){n&&(n=Ji({},n),MU(n,e),e=Ji({},n,e)),MU(t,e),Object.assign(t,e);for(const o in dI)t[o]==null&&(t[o]=dI[o]);let{mass:r,frequency:i,damping:s}=t;return st.und(i)||(i<.01&&(i=.01),s<0&&(s=0),t.tension=Math.pow(2*Math.PI/i,2)*r,t.friction=4*Math.PI*s*r/i),t}function MU(t,e){if(!st.und(e.decay))t.duration=void 0;else{const n=!st.und(e.tension)||!st.und(e.friction);(n||!st.und(e.frequency)||!st.und(e.damping)||!st.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}const EU=[];class c2e{constructor(){this.changed=!1,this.values=EU,this.toValues=null,this.fromValues=EU,this.to=void 0,this.from=void 0,this.config=new l2e,this.immediate=!1}}function wj(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{var l;let u,c,p=xx((l=n.cancel)!=null?l:r==null?void 0:r.cancel,e);if(p)y();else{st.und(n.pause)||(i.paused=xx(n.pause,e));let x=r==null?void 0:r.pause;x!==!0&&(x=i.paused||xx(x,e)),u=Gd(n.delay||0,e),x?(i.resumeQueue.add(v),s.pause()):(s.resume(),v())}function m(){i.resumeQueue.add(v),i.timeouts.delete(c),c.cancel(),u=c.time-an.now()}function v(){u>0&&!Ou.skipAnimation?(i.delayed=!0,c=an.setTimeout(y,u),i.pauseQueue.add(m),i.timeouts.add(c)):y()}function y(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(m),i.timeouts.delete(c),t<=(i.cancelId||0)&&(p=!0);try{s.start(Ji({},n,{callId:t,cancel:p}),o)}catch(x){a(x)}}})}const nO=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?Kg(t.get()):e.every(n=>n.noop)?Sj(t.get()):Al(t.get(),e.every(n=>n.finished)),Sj=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Al=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),Kg=t=>({value:t,cancelled:!0,finished:!1});function bj(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const u=tO(e,(_,b)=>b==="onRest"?void 0:_);let c,p;const m=new Promise((_,b)=>(c=_,p=b)),v=_=>{const b=i<=(n.cancelId||0)&&Kg(r)||i!==n.asyncId&&Al(r,!1);if(b)throw _.result=b,p(_),_},y=(_,b)=>{const M=new TU,w=new CU;return(async()=>{if(Ou.skipAnimation)throw A1(n),w.result=Al(r,!1),p(w),w;v(M);const T=st.obj(_)?Ji({},_):Ji({},b,{to:_});T.parentId=i,Hc(u,(k,L)=>{st.und(T[L])&&(T[L]=k)});const A=await r.start(T);return v(M),n.paused&&await new Promise(k=>{n.resumeQueue.add(k)}),A})()};let x;if(Ou.skipAnimation)return A1(n),Al(r,!1);try{let _;st.arr(t)?_=(async b=>{for(const M of b)await y(M)})(t):_=Promise.resolve(t(y,r.stop.bind(r))),await Promise.all([_.then(c),m]),x=Al(r.get(),!0,!1)}catch(_){if(_ instanceof TU)x=_.result;else if(_ instanceof CU)x=_.result;else throw _}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return st.fun(o)&&an.batchedUpdates(()=>{o(x,r,r.item)}),x})()}function A1(t,e){vx(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}class TU extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class CU extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const pI=t=>t instanceof rO;let f2e=1;class rO extends DCe{constructor(...e){super(...e),this.id=f2e++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=yu(this);return e&&e.getValue()}to(...e){return Ou.to(this,e)}interpolate(...e){return VCe(),Ou.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,n=!1){gE(this,{type:"change",parent:this,value:e,idle:n})}_onPriorityChange(e){this.idle||hC.sort(this),gE(this,{type:"priority",parent:this,priority:e})}}const Op=Symbol.for("SpringPhase"),Mj=1,mI=2,gI=4,pP=t=>(t[Op]&Mj)>0,Of=t=>(t[Op]&mI)>0,Ey=t=>(t[Op]&gI)>0,AU=(t,e)=>e?t[Op]|=mI|Mj:t[Op]&=~mI,PU=(t,e)=>e?t[Op]|=gI:t[Op]&=~gI;class h2e extends rO{constructor(e,n){if(super(),this.key=void 0,this.animation=new c2e,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!st.und(e)||!st.und(n)){const r=st.obj(e)?Ji({},e):Ji({},n,{from:e});st.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(Of(this)||this._state.asyncTo)||Ey(this)}get goal(){return Ua(this.animation.to)}get velocity(){const e=yu(this);return e instanceof K0?e.lastVelocity||0:e.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return pP(this)}get isAnimating(){return Of(this)}get isPaused(){return Ey(this)}get isDelayed(){return this._state.delayed}advance(e){let n=!0,r=!1;const i=this.animation;let{config:s,toValues:o}=i;const a=gC(i.to);!a&&wu(i.to)&&(o=Ya(Ua(i.to))),i.values.forEach((c,p)=>{if(c.done)return;const m=c.constructor==M0?1:a?a[p].lastPosition:o[p];let v=i.immediate,y=m;if(!v){if(y=c.lastPosition,s.tension<=0){c.done=!0;return}let x=c.elapsedTime+=e;const _=i.fromValues[p],b=c.v0!=null?c.v0:c.v0=st.arr(s.velocity)?s.velocity[p]:s.velocity;let M;const w=s.precision||(_==m?.005:Math.min(1,Math.abs(m-_)*.001));if(st.und(s.duration))if(s.decay){const T=s.decay===!0?.998:s.decay,A=Math.exp(-(1-T)*x);y=_+b/(1-T)*(1-A),v=Math.abs(c.lastPosition-y)<=w,M=b*A}else{M=c.lastVelocity==null?b:c.lastVelocity;const T=s.restVelocity||w/10,A=s.clamp?0:s.bounce,k=!st.und(A),L=_==m?c.v0>0:_<m;let P,O=!1;const N=1,H=Math.ceil(e/N);for(let ie=0;ie<H&&(P=Math.abs(M)>T,!(!P&&(v=Math.abs(m-y)<=w,v)));++ie){k&&(O=y==m||y>m==L,O&&(M=-M*A,y=m));const te=-s.tension*1e-6*(y-m),ee=-s.friction*.001*M,ue=(te+ee)/s.mass;M=M+ue*N,y=y+M*N}}else{let T=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,x=c.elapsedTime+=e)),T=(s.progress||0)+x/this._memoizedDuration,T=T>1?1:T<0?0:T,c.durationProgress=T),y=_+s.easing(T)*(m-_),M=(y-c.lastPosition)/e,v=T==1}c.lastVelocity=M,Number.isNaN(y)&&(console.warn("Got NaN while animating:",this),v=!0)}a&&!a[p].done&&(v=!1),v?c.done=!0:n=!1,c.setValue(y,s.round)&&(r=!0)});const l=yu(this),u=l.getValue();if(n){const c=Ua(i.to);(u!==c||r)&&!s.decay?(l.setValue(c),this._onChange(c)):r&&s.decay&&this._onChange(u),this._stop()}else r&&this._onChange(u)}set(e){return an.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Of(this)){const{to:e,config:n}=this.animation;an.batchedUpdates(()=>{this._onStart(),n.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,n){let r;return st.und(e)?(r=this.queue||[],this.queue=[]):r=[st.obj(e)?e:Ji({},n,{to:e})],Promise.all(r.map(i=>this._update(i))).then(i=>nO(this,i))}stop(e){const{to:n}=this.animation;return this._focus(this.get()),A1(this._state,e&&this._lastCallId),an.batchedUpdates(()=>this._stop(n,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const n=this.key||"";let{to:r,from:i}=e;r=st.obj(r)?r[n]:r,(r==null||hI(r))&&(r=void 0),i=st.obj(i)?i[n]:i,i==null&&(i=void 0);const s={to:r,from:i};return pP(this)||(e.reverse&&([r,i]=[i,r]),i=Ua(i),st.und(i)?yu(this)||this._set(r):this._set(i)),s}_update(e,n){let r=Ji({},e);const{key:i,defaultProps:s}=this;r.default&&Object.assign(s,tO(r,(l,u)=>/^on/.test(u)?yj(l,i):l)),IU(this,r,"onProps"),Cy(this,"onProps",r,this);const o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return wj(++this._lastCallId,{key:i,props:r,defaultProps:s,state:a,actions:{pause:()=>{Ey(this)||(PU(this,!0),By(a.pauseQueue),Cy(this,"onPause",Al(this,Ty(this,this.animation.to)),this))},resume:()=>{Ey(this)&&(PU(this,!1),Of(this)&&this._resume(),By(a.resumeQueue),Cy(this,"onResume",Al(this,Ty(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(l=>{if(r.loop&&l.finished&&!(n&&l.noop)){const u=Ej(r);if(u)return this._update(u,!0)}return l})}_merge(e,n,r){if(n.cancel)return this.stop(!0),r(Kg(this));const i=!st.und(e.to),s=!st.und(e.from);if(i||s)if(n.callId>this._lastToId)this._lastToId=n.callId;else return r(Kg(this));const{key:o,defaultProps:a,animation:l}=this,{to:u,from:c}=l;let{to:p=u,from:m=c}=e;s&&!i&&(!n.default||st.und(p))&&(p=m),n.reverse&&([p,m]=[m,p]);const v=!yc(m,c);v&&(l.from=m),m=Ua(m);const y=!yc(p,u);y&&this._focus(p);const x=hI(n.to),{config:_}=l,{decay:b,velocity:M}=_;(i||s)&&(_.velocity=0),n.config&&!x&&u2e(_,Gd(n.config,o),n.config!==a.config?Gd(a.config,o):void 0);let w=yu(this);if(!w||st.und(p))return r(Al(this,!0));const T=st.und(n.reset)?s&&!n.default:!st.und(m)&&xx(n.reset,o),A=T?m:this.get(),k=C1(p),L=st.num(k)||st.arr(k)||mC(k),P=!x&&(!L||xx(a.immediate||n.immediate,o));if(y){const ie=cI(p);if(ie!==w.constructor)if(P)w=this._set(k);else throw Error(`Cannot animate between ${w.constructor.name} and ${ie.name}, as the "to" prop suggests`)}const O=w.constructor;let N=wu(p),H=!1;if(!N){const ie=T||!pP(this)&&v;(y||ie)&&(H=yc(C1(A),k),N=!H),(!yc(l.immediate,P)&&!P||!yc(_.decay,b)||!yc(_.velocity,M))&&(N=!0)}if(H&&Of(this)&&(l.changed&&!T?N=!0:N||this._stop(u)),!x&&((N||wu(u))&&(l.values=w.getPayload(),l.toValues=wu(p)?null:O==M0?[1]:Ya(k)),l.immediate!=P&&(l.immediate=P,!P&&!T&&this._set(u)),N)){const{onRest:ie}=l;er(p2e,ee=>IU(this,n,ee));const te=Al(this,Ty(this,u));By(this._pendingCalls,te),this._pendingCalls.add(r),l.changed&&an.batchedUpdates(()=>{l.changed=!T,ie==null||ie(te,this),T?Gd(a.onRest,te):l.onStart==null||l.onStart(te,this)})}T&&this._set(A),x?r(bj(n.to,n,this._state,this)):N?this._start():Of(this)&&!y?this._pendingCalls.add(r):r(Sj(A))}_focus(e){const n=this.animation;e!==n.to&&(yU(this)&&this._detach(),n.to=e,yU(this)&&this._attach())}_attach(){let e=0;const{to:n}=this.animation;wu(n)&&(D_(n,this),pI(n)&&(e=n.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;wu(e)&&vE(e,this)}_set(e,n=!0){const r=Ua(e);if(!st.und(r)){const i=yu(this);if(!i||!yc(r,i.getValue())){const s=cI(r);!i||i.constructor!=s?ZD(this,s.create(r)):i.setValue(r),i&&an.batchedUpdates(()=>{this._onChange(r,n)})}}return yu(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Cy(this,"onStart",Al(this,Ty(this,e.to)),this))}_onChange(e,n){n||(this._onStart(),Gd(this.animation.onChange,e,this)),Gd(this.defaultProps.onChange,e,this),super._onChange(e,n)}_start(){const e=this.animation;yu(this).reset(Ua(e.to)),e.immediate||(e.fromValues=e.values.map(n=>n.lastPosition)),Of(this)||(AU(this,!0),Ey(this)||this._resume())}_resume(){Ou.skipAnimation?this.finish():hC.start(this)}_stop(e,n){if(Of(this)){AU(this,!1);const r=this.animation;er(r.values,s=>{s.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),gE(this,{type:"idle",parent:this});const i=n?Kg(this.get()):Al(this.get(),Ty(this,e!=null?e:r.to));By(this._pendingCalls,i),r.changed&&(r.changed=!1,Cy(this,"onRest",i,this))}}}function Ty(t,e){const n=C1(e),r=C1(t.get());return yc(r,n)}function Ej(t,e=t.loop,n=t.to){let r=Gd(e);if(r){const i=r!==!0&&_j(r),s=(i||t).reverse,o=!i||i.reset;return P1(Ji({},t,{loop:e,default:!1,pause:void 0,to:!s||hI(n)?n:void 0,from:o?t.from:void 0,reset:o},i))}}function P1(t){const{to:e,from:n}=t=_j(t),r=new Set;return st.obj(e)&&RU(e,r),st.obj(n)&&RU(n,r),t.keys=r.size?Array.from(r):null,t}function d2e(t){const e=P1(t);return st.und(e.default)&&(e.default=tO(e)),e}function RU(t,e){Hc(t,(n,r)=>n!=null&&e.add(r))}const p2e=["onStart","onRest","onChange","onPause","onResume"];function IU(t,e,n){t.animation[n]=e[n]!==xj(e,n)?yj(e[n],t.key):void 0}function Cy(t,e,...n){var r,i,s,o;(r=(i=t.animation)[e])==null||r.call(i,...n),(s=(o=t.defaultProps)[e])==null||s.call(o,...n)}const m2e=["onStart","onChange","onRest"];let g2e=1;class v2e{constructor(e,n){this.id=g2e++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start(Ji({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((n,r)=>e[r]=n.get()),e}set(e){for(const n in e){const r=e[n];st.und(r)||this.springs[n].set(r)}}update(e){return e&&this.queue.push(P1(e)),this}start(e){let{queue:n}=this;return e?n=Ya(e).map(P1):this.queue=[],this._flush?this._flush(this,n):(Rj(this,n),vI(this,n))}stop(e,n){if(e!==!!e&&(n=e),n){const r=this.springs;er(Ya(n),i=>r[i].stop(!!e))}else A1(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(st.und(e))this.start({pause:!0});else{const n=this.springs;er(Ya(e),r=>n[r].pause())}return this}resume(e){if(st.und(e))this.start({pause:!1});else{const n=this.springs;er(Ya(e),r=>n[r].resume())}return this}each(e){Hc(this.springs,e)}_onFrame(){const{onStart:e,onChange:n,onRest:r}=this._events,i=this._active.size>0,s=this._changed.size>0;(i&&!this._started||s&&!this._started)&&(this._started=!0,vx(e,([l,u])=>{u.value=this.get(),l(u,this,this._item)}));const o=!i&&this._started,a=s||o&&r.size?this.get():null;s&&n.size&&vx(n,([l,u])=>{u.value=a,l(u,this,this._item)}),o&&(this._started=!1,vx(r,([l,u])=>{u.value=a,l(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;an.onFrame(this._onFrame)}}function vI(t,e){return Promise.all(e.map(n=>Tj(t,n))).then(n=>nO(t,n))}async function Tj(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,u=st.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const c=st.arr(i)||st.fun(i)?i:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):er(m2e,x=>{const _=e[x];if(st.fun(_)){const b=t._events[x];e[x]=({finished:M,cancelled:w})=>{const T=b.get(_);T?(M||(T.finished=!1),w&&(T.cancelled=!0)):b.set(_,{value:null,finished:M||!1,cancelled:w||!1})},u&&(u[x]=e[x])}});const p=t._state;e.pause===!p.paused?(p.paused=e.pause,By(e.pause?p.pauseQueue:p.resumeQueue)):p.paused&&(e.pause=!0);const m=(r||Object.keys(t.springs)).map(x=>t.springs[x].start(e)),v=e.cancel===!0||xj(e,"cancel")===!0;(c||v&&p.asyncId)&&m.push(wj(++t._lastAsyncId,{props:e,state:p,actions:{pause:aI,resume:aI,start(x,_){v?(A1(p,t._lastAsyncId),_(Kg(t))):(x.onRest=a,_(bj(c,x,p,t)))}}})),p.paused&&await new Promise(x=>{p.resumeQueue.add(x)});const y=nO(t,await Promise.all(m));if(o&&y.finished&&!(n&&y.noop)){const x=Ej(e,o,i);if(x)return Rj(t,[x]),Tj(t,x,!0)}return l&&an.batchedUpdates(()=>l(y,t,t.item)),y}function kU(t,e){const n=Ji({},t.springs);return e&&er(Ya(e),r=>{st.und(r.keys)&&(r=P1(r)),st.obj(r.to)||(r=Ji({},r,{to:void 0})),Pj(n,r,i=>Aj(i))}),Cj(t,n),n}function Cj(t,e){Hc(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,D_(n,t))})}function Aj(t,e){const n=new h2e;return n.key=t,e&&D_(n,e),n}function Pj(t,e,n){e.keys&&er(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function Rj(t,e){er(e,n=>{Pj(t.springs,n,r=>Aj(r,t))})}function y2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const x2e=["children"],vC=t=>{let{children:e}=t,n=y2e(t,x2e);const r=U.exports.useContext(xE),i=n.pause||!!r.pause,s=n.immediate||!!r.immediate;n=GCe(()=>({pause:i,immediate:s}),[i,s]);const{Provider:o}=xE;return J(o,{value:n,children:e})},xE=_2e(vC,{});vC.Provider=xE.Provider;vC.Consumer=xE.Consumer;function _2e(t,e){return Object.assign(t,U.exports.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}const w2e=()=>{const t=[],e=function(i){WCe();const s=[];return er(t,(o,a)=>{if(st.und(i))s.push(o.start());else{const l=n(i,o,a);l&&s.push(o.start(l))}}),s};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return er(t,r=>r.pause(...arguments)),this},e.resume=function(){return er(t,r=>r.resume(...arguments)),this},e.set=function(r){er(t,i=>i.set(r))},e.start=function(r){const i=[];return er(t,(s,o)=>{if(st.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return er(t,r=>r.stop(...arguments)),this},e.update=function(r){return er(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(i,s,o){return st.fun(i)?i(o,s):i};return e._getProps=n,e};function S2e(t,e,n){const r=st.fun(e)&&e;r&&!n&&(n=[]);const i=U.exports.useMemo(()=>r||arguments.length==3?w2e():void 0,[]),s=U.exports.useRef(0),o=mj(),a=U.exports.useMemo(()=>({ctrls:[],queue:[],flush(b,M){const w=kU(b,M);return s.current>0&&!a.queue.length&&!Object.keys(w).some(A=>!b.springs[A])?vI(b,M):new Promise(A=>{Cj(b,w),a.queue.push(()=>{A(vI(b,M))}),o()})}}),[]),l=U.exports.useRef([...a.ctrls]),u=[],c=_U(t)||0;U.exports.useMemo(()=>{er(l.current.slice(t,c),b=>{s2e(b,i),b.stop(!0)}),l.current.length=t,p(c,t)},[t]),U.exports.useMemo(()=>{p(0,Math.min(c,t))},n);function p(b,M){for(let w=b;w<M;w++){const T=l.current[w]||(l.current[w]=new v2e(null,a.flush)),A=r?r(w,T):e[w];A&&(u[w]=d2e(A))}}const m=l.current.map((b,M)=>kU(b,u[M])),v=U.exports.useContext(vC),y=_U(v),x=v!==y&&i2e(v);KD(()=>{s.current++,a.ctrls=l.current;const{queue:b}=a;b.length&&(a.queue=[],er(b,M=>M())),er(l.current,(M,w)=>{i==null||i.add(M),x&&M.start({default:v});const T=u[w];T&&(o2e(M,T.ref),M.ref?M.queue.push(T):M.start(T))})}),gj(()=>()=>{er(a.ctrls,b=>b.stop(!0))});const _=m.map(b=>Ji({},b));return i?[_,i]:_}function b2e(t,e){const n=st.fun(t),[[r],i]=S2e(1,n?t:[t],n?e||[]:e);return n||arguments.length==2?[r,i]:r}let LU;(function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"})(LU||(LU={}));class M2e extends rO{constructor(e,n){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=E1(...n);const r=this._get(),i=cI(r);ZD(this,i.create(r))}advance(e){const n=this._get(),r=this.get();yc(n,r)||(yu(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&DU(this._active)&&mP(this)}_get(){const e=st.arr(this.source)?this.source.map(Ua):Ya(Ua(this.source));return this.calc(...e)}_start(){this.idle&&!DU(this._active)&&(this.idle=!1,er(gC(this),e=>{e.done=!1}),Ou.skipAnimation?(an.batchedUpdates(()=>this.advance()),mP(this)):hC.start(this))}_attach(){let e=1;er(Ya(this.source),n=>{wu(n)&&D_(n,this),pI(n)&&(n.idle||this._active.add(n),e=Math.max(e,n.priority+1))}),this.priority=e,this._start()}_detach(){er(Ya(this.source),e=>{wu(e)&&vE(e,this)}),this._active.clear(),mP(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Ya(this.source).reduce((n,r)=>Math.max(n,(pI(r)?r.priority:0)+1),0))}}function E2e(t){return t.idle!==!1}function DU(t){return!t.size||Array.from(t).every(E2e)}function mP(t){t.idle||(t.idle=!0,er(gC(t),e=>{e.done=!0}),gE(t,{type:"idle",parent:t}))}Ou.assign({createStringInterpolator:dj,to:(t,e)=>new M2e(t,e)});const T2e=["primitive"].concat(Object.keys(b1).filter(t=>/^[A-Z]/.test(t)).map(t=>t[0].toLowerCase()+t.slice(1)));Ou.assign({createStringInterpolator:dj,colors:xCe,frameLoop:"demand"});BTe(()=>{an.advance()});const C2e=JCe(T2e,{applyAnimatedValues:zy}),cM=C2e.animated,A2e=t=>t&&t.isCubeTexture;class P2e extends Li{constructor(e,n){var r,i;const s=A2e(e),a=((r=s?(i=e.image[0])===null||i===void 0?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),c=3*Math.max(u,16*7),p=4*u,m=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/p}`,`#define CUBEUV_MAX_MIP ${l}.0`],v=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,y=m.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,x={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},_=new j0(1,16),b=new xa({uniforms:x,fragmentShader:y,vertexShader:v,side:d_});super(_,b)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}const OU=(t,e)=>(t%e+e)%e;class R2e extends zu{constructor(e,n){super(),fn(this,"object",void 0),fn(this,"domElement",void 0),fn(this,"enabled",!0),fn(this,"target",new X),fn(this,"minDistance",0),fn(this,"maxDistance",1/0),fn(this,"minZoom",0),fn(this,"maxZoom",1/0),fn(this,"minPolarAngle",0),fn(this,"maxPolarAngle",Math.PI),fn(this,"minAzimuthAngle",-1/0),fn(this,"maxAzimuthAngle",1/0),fn(this,"enableDamping",!1),fn(this,"dampingFactor",.05),fn(this,"enableZoom",!0),fn(this,"zoomSpeed",1),fn(this,"enableRotate",!0),fn(this,"rotateSpeed",1),fn(this,"enablePan",!0),fn(this,"panSpeed",1),fn(this,"screenSpacePanning",!0),fn(this,"keyPanSpeed",7),fn(this,"autoRotate",!1),fn(this,"autoRotateSpeed",2),fn(this,"reverseOrbit",!1),fn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),fn(this,"mouseButtons",{LEFT:Nd.ROTATE,MIDDLE:Nd.DOLLY,RIGHT:Nd.PAN}),fn(this,"touches",{ONE:Fd.ROTATE,TWO:Fd.DOLLY_PAN}),fn(this,"target0",void 0),fn(this,"position0",void 0),fn(this,"zoom0",void 0),fn(this,"_domElementKeyEvents",null),fn(this,"getPolarAngle",void 0),fn(this,"getAzimuthalAngle",void 0),fn(this,"setPolarAngle",void 0),fn(this,"setAzimuthalAngle",void 0),fn(this,"getDistance",void 0),fn(this,"listenToKeyEvents",void 0),fn(this,"saveState",void 0),fn(this,"reset",void 0),fn(this,"update",void 0),fn(this,"connect",void 0),fn(this,"dispose",void 0),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Pr?this.object.zoom:1,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=re=>{let Te=OU(re,2*Math.PI),je=c.phi;je<0&&(je+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let et=Math.abs(Te-je);2*Math.PI-et<et&&(Te<je?Te+=2*Math.PI:je+=2*Math.PI),p.phi=Te-je,r.update()},this.setAzimuthalAngle=re=>{let Te=OU(re,2*Math.PI),je=c.theta;je<0&&(je+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let et=Math.abs(Te-je);2*Math.PI-et<et&&(Te<je?Te+=2*Math.PI:je+=2*Math.PI),p.theta=Te-je,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=re=>{re.addEventListener("keydown",be),this._domElementKeyEvents=re},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof Pr?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof Pr&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const re=new X,Te=new Hs().setFromUnitVectors(e.up,new X(0,1,0)),je=Te.clone().invert(),et=new X,wt=new Hs,Kt=2*Math.PI;return function(){const de=r.object.position;re.copy(de).sub(r.target),re.applyQuaternion(Te),c.setFromVector3(re),r.autoRotate&&l===a.NONE&&ie(N()),r.enableDamping?(c.theta+=p.theta*r.dampingFactor,c.phi+=p.phi*r.dampingFactor):(c.theta+=p.theta,c.phi+=p.phi);let Pe=r.minAzimuthAngle,Ve=r.maxAzimuthAngle;return isFinite(Pe)&&isFinite(Ve)&&(Pe<-Math.PI?Pe+=Kt:Pe>Math.PI&&(Pe-=Kt),Ve<-Math.PI?Ve+=Kt:Ve>Math.PI&&(Ve-=Kt),Pe<=Ve?c.theta=Math.max(Pe,Math.min(Ve,c.theta)):c.theta=c.theta>(Pe+Ve)/2?Math.max(Pe,c.theta):Math.min(Ve,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=m,c.radius=Math.max(r.minDistance,Math.min(r.maxDistance,c.radius)),r.enableDamping===!0?r.target.addScaledVector(v,r.dampingFactor):r.target.add(v),re.setFromSpherical(c),re.applyQuaternion(je),de.copy(r.target).add(re),r.object.lookAt(r.target),r.enableDamping===!0?(p.theta*=1-r.dampingFactor,p.phi*=1-r.dampingFactor,v.multiplyScalar(1-r.dampingFactor)):(p.set(0,0,0),v.set(0,0,0)),m=1,y||et.distanceToSquared(r.object.position)>u||8*(1-wt.dot(r.object.quaternion))>u?(r.dispatchEvent(i),et.copy(r.object.position),wt.copy(r.object.quaternion),y=!1,!0):!1}})(),this.connect=re=>{re===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=re,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",nt),r.domElement.addEventListener("pointerdown",St),r.domElement.addEventListener("pointercancel",zt),r.domElement.addEventListener("wheel",W)},this.dispose=()=>{var re,Te,je,et,wt,Kt;(re=r.domElement)===null||re===void 0||re.removeEventListener("contextmenu",nt),(Te=r.domElement)===null||Te===void 0||Te.removeEventListener("pointerdown",St),(je=r.domElement)===null||je===void 0||je.removeEventListener("pointercancel",zt),(et=r.domElement)===null||et===void 0||et.removeEventListener("wheel",W),(wt=r.domElement)===null||wt===void 0||wt.ownerDocument.removeEventListener("pointermove",bt),(Kt=r.domElement)===null||Kt===void 0||Kt.ownerDocument.removeEventListener("pointerup",Mt),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",be)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,c=new eI,p=new eI;let m=1;const v=new X;let y=!1;const x=new Ne,_=new Ne,b=new Ne,M=new Ne,w=new Ne,T=new Ne,A=new Ne,k=new Ne,L=new Ne,P=[],O={};function N(){return 2*Math.PI/60/60*r.autoRotateSpeed}function H(){return Math.pow(.95,r.zoomSpeed)}function ie(re){r.reverseOrbit?p.theta+=re:p.theta-=re}function te(re){r.reverseOrbit?p.phi+=re:p.phi-=re}const ee=(()=>{const re=new X;return function(je,et){re.setFromMatrixColumn(et,0),re.multiplyScalar(-je),v.add(re)}})(),ue=(()=>{const re=new X;return function(je,et){r.screenSpacePanning===!0?re.setFromMatrixColumn(et,1):(re.setFromMatrixColumn(et,0),re.crossVectors(r.object.up,re)),re.multiplyScalar(je),v.add(re)}})(),ae=(()=>{const re=new X;return function(je,et){const wt=r.domElement;if(wt&&r.object instanceof Pr&&r.object.isPerspectiveCamera){const Kt=r.object.position;re.copy(Kt).sub(r.target);let tr=re.length();tr*=Math.tan(r.object.fov/2*Math.PI/180),ee(2*je*tr/wt.clientHeight,r.object.matrix),ue(2*et*tr/wt.clientHeight,r.object.matrix)}else wt&&r.object instanceof ch&&r.object.isOrthographicCamera?(ee(je*(r.object.right-r.object.left)/r.object.zoom/wt.clientWidth,r.object.matrix),ue(et*(r.object.top-r.object.bottom)/r.object.zoom/wt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function fe(re){r.object instanceof Pr&&r.object.isPerspectiveCamera?m/=re:r.object instanceof ch&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*re)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z(re){r.object instanceof Pr&&r.object.isPerspectiveCamera?m*=re:r.object instanceof ch&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/re)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Y(re){x.set(re.clientX,re.clientY)}function Z(re){A.set(re.clientX,re.clientY)}function B(re){M.set(re.clientX,re.clientY)}function G(re){_.set(re.clientX,re.clientY),b.subVectors(_,x).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(ie(2*Math.PI*b.x/Te.clientHeight),te(2*Math.PI*b.y/Te.clientHeight)),x.copy(_),r.update()}function le(re){k.set(re.clientX,re.clientY),L.subVectors(k,A),L.y>0?fe(H()):L.y<0&&z(H()),A.copy(k),r.update()}function we(re){w.set(re.clientX,re.clientY),T.subVectors(w,M).multiplyScalar(r.panSpeed),ae(T.x,T.y),M.copy(w),r.update()}function Me(re){re.deltaY<0?z(H()):re.deltaY>0&&fe(H()),r.update()}function pe(re){let Te=!1;switch(re.code){case r.keys.UP:ae(0,r.keyPanSpeed),Te=!0;break;case r.keys.BOTTOM:ae(0,-r.keyPanSpeed),Te=!0;break;case r.keys.LEFT:ae(r.keyPanSpeed,0),Te=!0;break;case r.keys.RIGHT:ae(-r.keyPanSpeed,0),Te=!0;break}Te&&(re.preventDefault(),r.update())}function We(){if(P.length==1)x.set(P[0].pageX,P[0].pageY);else{const re=.5*(P[0].pageX+P[1].pageX),Te=.5*(P[0].pageY+P[1].pageY);x.set(re,Te)}}function Be(){if(P.length==1)M.set(P[0].pageX,P[0].pageY);else{const re=.5*(P[0].pageX+P[1].pageX),Te=.5*(P[0].pageY+P[1].pageY);M.set(re,Te)}}function Qe(){const re=P[0].pageX-P[1].pageX,Te=P[0].pageY-P[1].pageY,je=Math.sqrt(re*re+Te*Te);A.set(0,je)}function Fe(){r.enableZoom&&Qe(),r.enablePan&&Be()}function pt(){r.enableZoom&&Qe(),r.enableRotate&&We()}function Ie(re){if(P.length==1)_.set(re.pageX,re.pageY);else{const je=yt(re),et=.5*(re.pageX+je.x),wt=.5*(re.pageY+je.y);_.set(et,wt)}b.subVectors(_,x).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(ie(2*Math.PI*b.x/Te.clientHeight),te(2*Math.PI*b.y/Te.clientHeight)),x.copy(_)}function Ae(re){if(P.length==1)w.set(re.pageX,re.pageY);else{const Te=yt(re),je=.5*(re.pageX+Te.x),et=.5*(re.pageY+Te.y);w.set(je,et)}T.subVectors(w,M).multiplyScalar(r.panSpeed),ae(T.x,T.y),M.copy(w)}function qe(re){const Te=yt(re),je=re.pageX-Te.x,et=re.pageY-Te.y,wt=Math.sqrt(je*je+et*et);k.set(0,wt),L.set(0,Math.pow(k.y/A.y,r.zoomSpeed)),fe(L.y),A.copy(k)}function ct(re){r.enableZoom&&qe(re),r.enablePan&&Ae(re)}function rt(re){r.enableZoom&&qe(re),r.enableRotate&&Ie(re)}function St(re){if(r.enabled!==!1){if(P.length===0){var Te,je;(Te=r.domElement)===null||Te===void 0||Te.ownerDocument.addEventListener("pointermove",bt),(je=r.domElement)===null||je===void 0||je.ownerDocument.addEventListener("pointerup",Mt)}_t(re),re.pointerType==="touch"?$e(re):Nt(re)}}function bt(re){r.enabled!==!1&&(re.pointerType==="touch"?Ke(re):Q(re))}function Mt(re){if(it(re),P.length===0){var Te,je,et;(Te=r.domElement)===null||Te===void 0||Te.releasePointerCapture(re.pointerId),(je=r.domElement)===null||je===void 0||je.ownerDocument.removeEventListener("pointermove",bt),(et=r.domElement)===null||et===void 0||et.ownerDocument.removeEventListener("pointerup",Mt)}r.dispatchEvent(o),l=a.NONE}function zt(re){it(re)}function Nt(re){let Te;switch(re.button){case 0:Te=r.mouseButtons.LEFT;break;case 1:Te=r.mouseButtons.MIDDLE;break;case 2:Te=r.mouseButtons.RIGHT;break;default:Te=-1}switch(Te){case Nd.DOLLY:if(r.enableZoom===!1)return;Z(re),l=a.DOLLY;break;case Nd.ROTATE:if(re.ctrlKey||re.metaKey||re.shiftKey){if(r.enablePan===!1)return;B(re),l=a.PAN}else{if(r.enableRotate===!1)return;Y(re),l=a.ROTATE}break;case Nd.PAN:if(re.ctrlKey||re.metaKey||re.shiftKey){if(r.enableRotate===!1)return;Y(re),l=a.ROTATE}else{if(r.enablePan===!1)return;B(re),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Q(re){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;G(re);break;case a.DOLLY:if(r.enableZoom===!1)return;le(re);break;case a.PAN:if(r.enablePan===!1)return;we(re);break}}function W(re){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(re.preventDefault(),r.dispatchEvent(s),Me(re),r.dispatchEvent(o))}function be(re){r.enabled===!1||r.enablePan===!1||pe(re)}function $e(re){switch(De(re),P.length){case 1:switch(r.touches.ONE){case Fd.ROTATE:if(r.enableRotate===!1)return;We(),l=a.TOUCH_ROTATE;break;case Fd.PAN:if(r.enablePan===!1)return;Be(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Fd.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(),l=a.TOUCH_DOLLY_PAN;break;case Fd.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;pt(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ke(re){switch(De(re),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ie(re),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Ae(re),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ct(re),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;rt(re),r.update();break;default:l=a.NONE}}function nt(re){r.enabled!==!1&&re.preventDefault()}function _t(re){P.push(re)}function it(re){delete O[re.pointerId];for(let Te=0;Te<P.length;Te++)if(P[Te].pointerId==re.pointerId){P.splice(Te,1);return}}function De(re){let Te=O[re.pointerId];Te===void 0&&(Te=new Ne,O[re.pointerId]=Te),Te.set(re.pageX,re.pageY)}function yt(re){const Te=re.pointerId===P[0].pointerId?P[1]:P[0];return O[Te.pointerId]}n!==void 0&&this.connect(n),this.update()}}const I2e={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},k2e={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class L2e extends w7{constructor(e){super(e),this.type=Xa}parse(e){const a=function(w,T){switch(w){case 1:console.error("THREE.RGBELoader Read Error: "+(T||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(T||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(T||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(T||""))}return-1},p=`
`,m=function(w,T,A){T=T||1024;let L=w.pos,P=-1,O=0,N="",H=String.fromCharCode.apply(null,new Uint16Array(w.subarray(L,L+128)));for(;0>(P=H.indexOf(p))&&O<T&&L<w.byteLength;)N+=H,O+=H.length,L+=128,H+=String.fromCharCode.apply(null,new Uint16Array(w.subarray(L,L+128)));return-1<P?(A!==!1&&(w.pos+=O+P+1),N+H.slice(0,P)):!1},v=function(w){const T=/^#\?(\S+)/,A=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,k=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,L=/^\s*FORMAT=(\S+)\s*$/,P=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,O={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let N,H;if(w.pos>=w.byteLength||!(N=m(w)))return a(1,"no header found");if(!(H=N.match(T)))return a(3,"bad initial token");for(O.valid|=1,O.programtype=H[1],O.string+=N+`
`;N=m(w),N!==!1;){if(O.string+=N+`
`,N.charAt(0)==="#"){O.comments+=N+`
`;continue}if((H=N.match(A))&&(O.gamma=parseFloat(H[1])),(H=N.match(k))&&(O.exposure=parseFloat(H[1])),(H=N.match(L))&&(O.valid|=2,O.format=H[1]),(H=N.match(P))&&(O.valid|=4,O.height=parseInt(H[1],10),O.width=parseInt(H[2],10)),O.valid&2&&O.valid&4)break}return O.valid&2?O.valid&4?O:a(3,"missing image size specifier"):a(3,"missing format specifier")},y=function(w,T,A){const k=T;if(k<8||k>32767||w[0]!==2||w[1]!==2||w[2]&128)return new Uint8Array(w);if(k!==(w[2]<<8|w[3]))return a(3,"wrong scanline width");const L=new Uint8Array(4*T*A);if(!L.length)return a(4,"unable to allocate buffer space");let P=0,O=0;const N=4*k,H=new Uint8Array(4),ie=new Uint8Array(N);let te=A;for(;te>0&&O<w.byteLength;){if(O+4>w.byteLength)return a(1);if(H[0]=w[O++],H[1]=w[O++],H[2]=w[O++],H[3]=w[O++],H[0]!=2||H[1]!=2||(H[2]<<8|H[3])!=k)return a(3,"bad rgbe scanline format");let ee=0,ue;for(;ee<N&&O<w.byteLength;){ue=w[O++];const fe=ue>128;if(fe&&(ue-=128),ue===0||ee+ue>N)return a(3,"bad scanline data");if(fe){const z=w[O++];for(let Y=0;Y<ue;Y++)ie[ee++]=z}else ie.set(w.subarray(O,O+ue),ee),ee+=ue,O+=ue}const ae=k;for(let fe=0;fe<ae;fe++){let z=0;L[P]=ie[fe+z],z+=k,L[P+1]=ie[fe+z],z+=k,L[P+2]=ie[fe+z],z+=k,L[P+3]=ie[fe+z],P+=4}te--}return L},x=function(w,T,A,k){const L=w[T+3],P=Math.pow(2,L-128)/255;A[k+0]=w[T+0]*P,A[k+1]=w[T+1]*P,A[k+2]=w[T+2]*P,A[k+3]=1},_=function(w,T,A,k){const L=w[T+3],P=Math.pow(2,L-128)/255;A[k+0]=Fy.toHalfFloat(Math.min(w[T+0]*P,65504)),A[k+1]=Fy.toHalfFloat(Math.min(w[T+1]*P,65504)),A[k+2]=Fy.toHalfFloat(Math.min(w[T+2]*P,65504)),A[k+3]=Fy.toHalfFloat(1)},b=new Uint8Array(e);b.pos=0;const M=v(b);if(M!==-1){const w=M.width,T=M.height,A=y(b.subarray(b.pos),w,T);if(A!==-1){let k,L,P;switch(this.type){case ca:P=A.length/4;const O=new Float32Array(P*4);for(let H=0;H<P;H++)x(A,H*4,O,H*4);k=O,L=ca;break;case Xa:P=A.length/4;const N=new Uint16Array(P*4);for(let H=0;H<P;H++)_(A,H*4,N,H*4);k=N,L=Xa;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:w,height:T,data:k,header:M.string,gamma:M.gamma,exposure:M.exposure,type:L}}}return null}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){switch(o.type){case ca:case Xa:o.encoding=zl,o.minFilter=Er,o.magFilter=Er,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,a)}return super.load(e,s,r,i)}}function D2e(t,e,n){const{gl:r,size:i,viewport:s}=ps(),o=typeof t=="number"?t:i.width*s.dpr,a=typeof e=="number"?e:i.height*s.dpr,l=(typeof t=="number"?n:t)||{},{samples:u=0,depth:c,...p}=l,m=U.exports.useMemo(()=>{let v;return v=new yo(o,a,{minFilter:Er,magFilter:Er,encoding:r.outputEncoding,type:Xa,...p}),c&&(v.depthTexture=new hD(o,a,ca)),v.samples=u,v},[]);return U.exports.useLayoutEffect(()=>{m.setSize(o,a),u&&(m.samples=u)},[u,m,o,a]),U.exports.useEffect(()=>()=>m.dispose(),[]),m}const O2e=t=>typeof t=="function",N2e=U.exports.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:r,children:i,...s},o)=>{const a=ps(({set:_})=>_),l=ps(({camera:_})=>_),u=ps(({size:_})=>_),c=U.exports.useRef(null),p=U.exports.useRef(null),m=D2e(e);U.exports.useLayoutEffect(()=>{s.manual||(c.current.aspect=u.width/u.height)},[u,s]),U.exports.useLayoutEffect(()=>{c.current.updateProjectionMatrix()});let v=0,y=null;const x=O2e(i);return Q0(_=>{x&&(n===1/0||v<n)&&(p.current.visible=!1,_.gl.setRenderTarget(m),y=_.scene.background,t&&(_.scene.background=t),_.gl.render(_.scene,c.current),_.scene.background=y,_.gl.setRenderTarget(null),p.current.visible=!0,v++)}),U.exports.useLayoutEffect(()=>{if(r){const _=l;return a(()=>({camera:c.current})),()=>a(()=>({camera:_}))}},[c,r,a]),jt(ga,{children:[J("perspectiveCamera",{ref:hCe([c,o]),...s,children:!x&&i}),J("group",{ref:p,children:x&&i(m.texture)})]})}),F2e=U.exports.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},u)=>{const c=ps(T=>T.invalidate),p=ps(T=>T.camera),m=ps(T=>T.gl),v=ps(T=>T.events),y=ps(T=>T.set),x=ps(T=>T.get),_=ps(T=>T.performance),b=e||p,M=r||v.connected||m.domElement,w=U.exports.useMemo(()=>new R2e(b),[b]);return Q0(()=>{w.enabled&&w.update()},-1),U.exports.useEffect(()=>(w.connect(M),()=>void w.dispose()),[M,n,w,c]),U.exports.useEffect(()=>{const T=A=>{c(),n&&_.regress(),s&&s(A)};return w.addEventListener("change",T),o&&w.addEventListener("start",o),a&&w.addEventListener("end",a),()=>{o&&w.removeEventListener("start",o),a&&w.removeEventListener("end",a),w.removeEventListener("change",T)}},[s,o,a,w,c]),U.exports.useEffect(()=>{if(t){const T=x().controls;return y({controls:w}),()=>y({controls:T})}},[t,w]),J("primitive",{ref:u,object:w,enableDamping:i,...l})});var z2e=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class B2e extends ED{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${z2e}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const U2e=U.exports.forwardRef(({speed:t=1,...e},n)=>{const[r]=U.exports.useState(()=>new B2e);return Q0(i=>r&&(r.time=i.clock.getElapsedTime()*t)),J("primitive",{object:r,ref:n,attach:"material",...e})}),gP={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},V2e="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/",H2e=t=>t.current&&t.current.isScene,W2e=t=>H2e(t)?t.current:t;function iO(t,e,n,r,i=0){const s=W2e(e||n),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return t!=="only"&&(s.environment=r),t&&(s.background=r),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{t!=="only"&&(s.environment=a),t&&(s.background=o),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function sO({scene:t,background:e=!1,blur:n,map:r}){const i=ps(s=>s.scene);return U.exports.useLayoutEffect(()=>{if(r)return iO(e,t,i,r,n)},[i,t,r,e,n]),null}function Ij({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}){if(n){if(!(n in gP))throw new Error("Preset must be one of: "+Object.keys(gP).join(", "));t=gP[n],e=V2e}const s=Array.isArray(t),a=UD(s?_7:L2e,s?[t]:t,u=>{u.setPath(e),i&&i(u)}),l=s?a[0]:a;return l.mapping=s?Uc:y0,l.encoding=(r!=null?r:s)?ir:zl,l}function kj({background:t=!1,scene:e,blur:n,...r}){const i=Ij(r),s=ps(o=>o.scene);return U.exports.useLayoutEffect(()=>iO(t,e,s,i,n),[i,t,e,s,n]),null}function $2e({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:u,path:c,preset:p=void 0,extensions:m}){const v=ps(w=>w.gl),y=ps(w=>w.scene),x=U.exports.useRef(null),[_]=U.exports.useState(()=>new rC),b=U.exports.useMemo(()=>{const w=new uD(r);return w.texture.type=Xa,w},[r]);U.exports.useLayoutEffect(()=>(i===1&&x.current.update(v,_),iO(o,l,y,b.texture,a)),[t,_,b.texture,l,y,o,i,v]);let M=1;return Q0(()=>{(i===1/0||M<i)&&(x.current.update(v,_),M++)}),J(ga,{children:jTe(jt(ga,{children:[t,J("cubeCamera",{ref:x,args:[e,n,b]}),u||p?J(kj,{background:!0,files:u,preset:p,path:c,extensions:m}):s?J(sO,{background:!0,map:s,extensions:m}):null]}),_)})}function G2e(t){var e,n,r,i;const s=Ij(t),o=t.map||s;U.exports.useMemo(()=>q7({GroundProjectedEnvImpl:P2e}),[]);const a=U.exports.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,c=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return jt(ga,{children:[J(sO,{...t,map:o}),J("groundProjectedEnvImpl",{args:a,scale:c,height:l,radius:u})]})}function j2e(t){return t.ground?J(G2e,{...t}):t.map?J(sO,{...t}):t.children?J($2e,{...t}):J(kj,{...t})}const q2e=U.exports.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:r=1,height:i=1,blur:s=1,far:o=10,resolution:a=512,smooth:l=!0,color:u="#000000",depthWrite:c=!1,renderOrder:p,...m},v)=>{const y=ps(N=>N.scene),x=ps(N=>N.gl),_=U.exports.useRef(null);r=r*(Array.isArray(t)?t[0]:t||1),i=i*(Array.isArray(t)?t[1]:t||1);const[b,M,w,T,A,k,L]=U.exports.useMemo(()=>{const N=new yo(a,a),H=new yo(a,a);H.texture.generateMipmaps=N.texture.generateMipmaps=!1;const ie=new Yp(r,i).rotateX(Math.PI/2),te=new Li(ie),ee=new eC;ee.depthTest=ee.depthWrite=!1,ee.onBeforeCompile=fe=>{fe.uniforms={...fe.uniforms,ucolor:{value:new mt(u)}},fe.fragmentShader=fe.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),fe.fragmentShader=fe.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const ue=new xa(I2e),ae=new xa(k2e);return ae.depthTest=ue.depthTest=!1,[N,ie,ee,te,ue,ae,H]},[a,r,i,t,u]),P=N=>{T.visible=!0,T.material=A,A.uniforms.tDiffuse.value=b.texture,A.uniforms.h.value=N*1/256,x.setRenderTarget(L),x.render(T,_.current),T.material=k,k.uniforms.tDiffuse.value=L.texture,k.uniforms.v.value=N*1/256,x.setRenderTarget(b),x.render(T,_.current),T.visible=!1};let O=0;return Q0(()=>{if(_.current&&(e===1/0||O<e)){const N=y.background;y.background=null;const H=y.overrideMaterial;y.overrideMaterial=w,x.setRenderTarget(b),x.render(y,_.current),y.overrideMaterial=H,P(s),l&&P(s*.4),x.setRenderTarget(null),y.background=N,O++}}),jt("group",{"rotation-x":Math.PI/2,...m,ref:v,children:[J("mesh",{renderOrder:p,geometry:M,scale:[1,-1,1],rotation:[-Math.PI/2,0,0],children:J("meshBasicMaterial",{map:b.texture,"map-encoding":x.outputEncoding,transparent:!0,opacity:n,depthWrite:c})}),J("orthographicCamera",{ref:_,args:[-r/2,r/2,i/2,-i/2,0,o]})]})});var _E={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",p=1,m=2,v=4,y=1,x=2,_=1,b=2,M=4,w=8,T=16,A=32,k=64,L=128,P=256,O=512,N=30,H="...",ie=800,te=16,ee=1,ue=2,ae=3,fe=1/0,z=9007199254740991,Y=17976931348623157e292,Z=0/0,B=4294967295,G=B-1,le=B>>>1,we=[["ary",L],["bind",_],["bindKey",b],["curry",w],["curryRight",T],["flip",O],["partial",A],["partialRight",k],["rearg",P]],Me="[object Arguments]",pe="[object Array]",We="[object AsyncFunction]",Be="[object Boolean]",Qe="[object Date]",Fe="[object DOMException]",pt="[object Error]",Ie="[object Function]",Ae="[object GeneratorFunction]",qe="[object Map]",ct="[object Number]",rt="[object Null]",St="[object Object]",bt="[object Promise]",Mt="[object Proxy]",zt="[object RegExp]",Nt="[object Set]",Q="[object String]",W="[object Symbol]",be="[object Undefined]",$e="[object WeakMap]",Ke="[object WeakSet]",nt="[object ArrayBuffer]",_t="[object DataView]",it="[object Float32Array]",De="[object Float64Array]",yt="[object Int8Array]",re="[object Int16Array]",Te="[object Int32Array]",je="[object Uint8Array]",et="[object Uint8ClampedArray]",wt="[object Uint16Array]",Kt="[object Uint32Array]",tr=/\b__p \+= '';/g,de=/\b(__p \+=) '' \+/g,Pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ve=/&(?:amp|lt|gt|quot|#39);/g,at=/[&<>"']/g,Tt=RegExp(Ve.source),ln=RegExp(at.source),wr=/<%-([\s\S]+?)%>/g,Wr=/<%([\s\S]+?)%>/g,Xs=/<%=([\s\S]+?)%>/g,Wn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ms=/^\w*$/,pr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hl=/[\\^$.*+?()[\]{}|]/g,Vh=RegExp(Hl.source),Wl=/^\s+/,Uu=/\s/,q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ye=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,xe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Oe=/[()=,{}\[\]\/\s]/,kt=/\\(\\)?/g,qt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ht=/\w*$/,un=/^[-+]0x[0-9a-f]+$/i,En=/^0b[01]+$/i,_n=/^\[object .+?Constructor\]$/,wn=/^0o[0-7]+$/i,mr=/^(?:0|[1-9]\d*)$/,Ei=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mi=/($^)/,Ho=/['\n\r\u2028\u2029\\]/g,On="\\ud800-\\udfff",Jt="\\u0300-\\u036f",rl="\\ufe20-\\ufe2f",nr="\\u20d0-\\u20ff",Ys=Jt+rl+nr,il="\\u2700-\\u27bf",os="a-z\\xdf-\\xf6\\xf8-\\xff",Es="\\xac\\xb1\\xd7\\xf7",en="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Tn="\\u2000-\\u206f",Ts=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ln="A-Z\\xc0-\\xd6\\xd8-\\xde",Lr="\\ufe0e\\ufe0f",bo=Es+en+Tn+Ts,Qs="['\u2019]",Bi="["+On+"]",Vu="["+bo+"]",Hu="["+Ys+"]",Hh="\\d+",sl="["+il+"]",Wu="["+os+"]",Cs="[^"+On+bo+Hh+il+os+Ln+"]",Wh="\\ud83c[\\udffb-\\udfff]",im="(?:"+Hu+"|"+Wh+")",sm="[^"+On+"]",$l="(?:\\ud83c[\\udde6-\\uddff]){2}",Gl="[\\ud800-\\udbff][\\udc00-\\udfff]",Ks="["+Ln+"]",$u="\\u200d",om="(?:"+Wu+"|"+Cs+")",fv="(?:"+Ks+"|"+Cs+")",jl="(?:"+Qs+"(?:d|ll|m|re|s|t|ve))?",Yc="(?:"+Qs+"(?:D|LL|M|RE|S|T|VE))?",ql=im+"?",am="["+Lr+"]?",Xl="(?:"+$u+"(?:"+[sm,$l,Gl].join("|")+")"+am+ql+")*",Cn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Yl=am+ql+Xl,lm="(?:"+[sl,$l,Gl].join("|")+")"+Yl,um="(?:"+[sm+Hu+"?",Hu,$l,Gl,Bi].join("|")+")",$h=RegExp(Qs,"g"),Dr=RegExp(Hu,"g"),Zs=RegExp(Wh+"(?="+Wh+")|"+um+Yl,"g"),Gu=RegExp([Ks+"?"+Wu+"+"+jl+"(?="+[Vu,Ks,"$"].join("|")+")",fv+"+"+Yc+"(?="+[Vu,Ks+om,"$"].join("|")+")",Ks+"?"+om+"+"+jl,Ks+"+"+Yc,Qc,Cn,Hh,lm].join("|"),"g"),Gh=RegExp("["+$u+On+Ys+Lr+"]"),cm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Js=-1,rr={};rr[it]=rr[De]=rr[yt]=rr[re]=rr[Te]=rr[je]=rr[et]=rr[wt]=rr[Kt]=!0,rr[Me]=rr[pe]=rr[nt]=rr[Be]=rr[_t]=rr[Qe]=rr[pt]=rr[Ie]=rr[qe]=rr[ct]=rr[St]=rr[zt]=rr[Nt]=rr[Q]=rr[$e]=!1;var Xn={};Xn[Me]=Xn[pe]=Xn[nt]=Xn[_t]=Xn[Be]=Xn[Qe]=Xn[it]=Xn[De]=Xn[yt]=Xn[re]=Xn[Te]=Xn[qe]=Xn[ct]=Xn[St]=Xn[zt]=Xn[Nt]=Xn[Q]=Xn[W]=Xn[je]=Xn[et]=Xn[wt]=Xn[Kt]=!0,Xn[pt]=Xn[Ie]=Xn[$e]=!1;var eo={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Wo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},j={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Se=parseFloat,ht=parseInt,Qt=typeof _c=="object"&&_c&&_c.Object===Object&&_c,$n=typeof self=="object"&&self&&self.Object===Object&&self,Zt=Qt||$n||Function("return this")(),yn=e&&!e.nodeType&&e,sn=yn&&!0&&t&&!t.nodeType&&t,gi=sn&&sn.exports===yn,$r=gi&&Qt.process,Sr=function(){try{var oe=sn&&sn.require&&sn.require("util").types;return oe||$r&&$r.binding&&$r.binding("util")}catch{}}(),Ql=Sr&&Sr.isArrayBuffer,Kl=Sr&&Sr.isDate,Zc=Sr&&Sr.isMap,fm=Sr&&Sr.isRegExp,hm=Sr&&Sr.isSet,ju=Sr&&Sr.isTypedArray;function gr(oe,ke,Ee){switch(Ee.length){case 0:return oe.call(ke);case 1:return oe.call(ke,Ee[0]);case 2:return oe.call(ke,Ee[0],Ee[1]);case 3:return oe.call(ke,Ee[0],Ee[1],Ee[2])}return oe.apply(ke,Ee)}function Ea(oe,ke,Ee,dt){for(var Xt=-1,on=oe==null?0:oe.length;++Xt<on;){var vr=oe[Xt];ke(dt,vr,Ee(vr),oe)}return dt}function ri(oe,ke){for(var Ee=-1,dt=oe==null?0:oe.length;++Ee<dt&&ke(oe[Ee],Ee,oe)!==!1;);return oe}function hv(oe,ke){for(var Ee=oe==null?0:oe.length;Ee--&&ke(oe[Ee],Ee,oe)!==!1;);return oe}function dv(oe,ke){for(var Ee=-1,dt=oe==null?0:oe.length;++Ee<dt;)if(!ke(oe[Ee],Ee,oe))return!1;return!0}function Ui(oe,ke){for(var Ee=-1,dt=oe==null?0:oe.length,Xt=0,on=[];++Ee<dt;){var vr=oe[Ee];ke(vr,Ee,oe)&&(on[Xt++]=vr)}return on}function $o(oe,ke){var Ee=oe==null?0:oe.length;return!!Ee&&jo(oe,ke,0)>-1}function Jc(oe,ke,Ee){for(var dt=-1,Xt=oe==null?0:oe.length;++dt<Xt;)if(Ee(ke,oe[dt]))return!0;return!1}function ur(oe,ke){for(var Ee=-1,dt=oe==null?0:oe.length,Xt=Array(dt);++Ee<dt;)Xt[Ee]=ke(oe[Ee],Ee,oe);return Xt}function Go(oe,ke){for(var Ee=-1,dt=ke.length,Xt=oe.length;++Ee<dt;)oe[Xt+Ee]=ke[Ee];return oe}function dm(oe,ke,Ee,dt){var Xt=-1,on=oe==null?0:oe.length;for(dt&&on&&(Ee=oe[++Xt]);++Xt<on;)Ee=ke(Ee,oe[Xt],Xt,oe);return Ee}function tw(oe,ke,Ee,dt){var Xt=oe==null?0:oe.length;for(dt&&Xt&&(Ee=oe[--Xt]);Xt--;)Ee=ke(Ee,oe[Xt],Xt,oe);return Ee}function jh(oe,ke){for(var Ee=-1,dt=oe==null?0:oe.length;++Ee<dt;)if(ke(oe[Ee],Ee,oe))return!0;return!1}var pm=As("length");function nw(oe){return oe.split("")}function rw(oe){return oe.match(xe)||[]}function pv(oe,ke,Ee){var dt;return Ee(oe,function(Xt,on,vr){if(ke(Xt,on,vr))return dt=on,!1}),dt}function ef(oe,ke,Ee,dt){for(var Xt=oe.length,on=Ee+(dt?1:-1);dt?on--:++on<Xt;)if(ke(oe[on],on,oe))return on;return-1}function jo(oe,ke,Ee){return ke===ke?of(oe,ke,Ee):ef(oe,qh,Ee)}function tf(oe,ke,Ee,dt){for(var Xt=Ee-1,on=oe.length;++Xt<on;)if(dt(oe[Xt],ke))return Xt;return-1}function qh(oe){return oe!==oe}function Xh(oe,ke){var Ee=oe==null?0:oe.length;return Ee?qo(oe,ke)/Ee:Z}function As(oe){return function(ke){return ke==null?n:ke[oe]}}function Ps(oe){return function(ke){return oe==null?n:oe[ke]}}function Zl(oe,ke,Ee,dt,Xt){return Xt(oe,function(on,vr,Wt){Ee=dt?(dt=!1,on):ke(Ee,on,vr,Wt)}),Ee}function ol(oe,ke){var Ee=oe.length;for(oe.sort(ke);Ee--;)oe[Ee]=oe[Ee].value;return oe}function qo(oe,ke){for(var Ee,dt=-1,Xt=oe.length;++dt<Xt;){var on=ke(oe[dt]);on!==n&&(Ee=Ee===n?on:Ee+on)}return Ee}function al(oe,ke){for(var Ee=-1,dt=Array(oe);++Ee<oe;)dt[Ee]=ke(Ee);return dt}function iw(oe,ke){return ur(ke,function(Ee){return[Ee,oe[Ee]]})}function mm(oe){return oe&&oe.slice(0,af(oe)+1).replace(Wl,"")}function as(oe){return function(ke){return oe(ke)}}function ls(oe,ke){return ur(ke,function(Ee){return oe[Ee]})}function Ti(oe,ke){return oe.has(ke)}function cr(oe,ke){for(var Ee=-1,dt=oe.length;++Ee<dt&&jo(ke,oe[Ee],0)>-1;);return Ee}function nf(oe,ke){for(var Ee=oe.length;Ee--&&jo(ke,oe[Ee],0)>-1;);return Ee}function Xo(oe,ke){for(var Ee=oe.length,dt=0;Ee--;)oe[Ee]===ke&&++dt;return dt}var sw=Ps(eo),ow=Ps(Wo);function mv(oe){return"\\"+ce[oe]}function gv(oe,ke){return oe==null?n:oe[ke]}function qu(oe){return Gh.test(oe)}function Yh(oe){return cm.test(oe)}function rf(oe){for(var ke,Ee=[];!(ke=oe.next()).done;)Ee.push(ke.value);return Ee}function Qh(oe){var ke=-1,Ee=Array(oe.size);return oe.forEach(function(dt,Xt){Ee[++ke]=[Xt,dt]}),Ee}function sf(oe,ke){return function(Ee){return oe(ke(Ee))}}function Yo(oe,ke){for(var Ee=-1,dt=oe.length,Xt=0,on=[];++Ee<dt;){var vr=oe[Ee];(vr===ke||vr===c)&&(oe[Ee]=c,on[Xt++]=Ee)}return on}function Kh(oe){var ke=-1,Ee=Array(oe.size);return oe.forEach(function(dt){Ee[++ke]=dt}),Ee}function aw(oe){var ke=-1,Ee=Array(oe.size);return oe.forEach(function(dt){Ee[++ke]=[dt,dt]}),Ee}function of(oe,ke,Ee){for(var dt=Ee-1,Xt=oe.length;++dt<Xt;)if(oe[dt]===ke)return dt;return-1}function lw(oe,ke,Ee){for(var dt=Ee+1;dt--;)if(oe[dt]===ke)return dt;return dt}function Ta(oe){return qu(oe)?Ca(oe):pm(oe)}function Cr(oe){return qu(oe)?vv(oe):nw(oe)}function af(oe){for(var ke=oe.length;ke--&&Uu.test(oe.charAt(ke)););return ke}var lf=Ps(j);function Ca(oe){for(var ke=Zs.lastIndex=0;Zs.test(oe);)++ke;return ke}function vv(oe){return oe.match(Zs)||[]}function uf(oe){return oe.match(Gu)||[]}var uw=function oe(ke){ke=ke==null?Zt:Jl.defaults(Zt.Object(),ke,Jl.pick(Zt,Kc));var Ee=ke.Array,dt=ke.Date,Xt=ke.Error,on=ke.Function,vr=ke.Math,Wt=ke.Object,vi=ke.RegExp,yi=ke.String,us=ke.TypeError,eu=Ee.prototype,Zh=on.prototype,cf=Wt.prototype,ii=ke["__core-js_shared__"],ff=Zh.toString,Fn=cf.hasOwnProperty,yv=0,Aa=function(){var f=/[^.]+$/.exec(ii&&ii.keys&&ii.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),to=cf.toString,Xu=ff.call(Wt),gm=Zt._,vm=vi("^"+ff.call(Fn).replace(Hl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jh=gi?ke.Buffer:n,ll=ke.Symbol,ed=ke.Uint8Array,xv=Jh?Jh.allocUnsafe:n,td=sf(Wt.getPrototypeOf,Wt),_v=Wt.create,ym=cf.propertyIsEnumerable,tu=eu.splice,wv=ll?ll.isConcatSpreadable:n,nu=ll?ll.iterator:n,Pa=ll?ll.toStringTag:n,hf=function(){try{var f=_d(Wt,"defineProperty");return f({},"",{}),f}catch{}}(),nd=ke.clearTimeout!==Zt.clearTimeout&&ke.clearTimeout,cw=dt&&dt.now!==Zt.Date.now&&dt.now,fw=ke.setTimeout!==Zt.setTimeout&&ke.setTimeout,rd=vr.ceil,id=vr.floor,sd=Wt.getOwnPropertySymbols,hw=Jh?Jh.isBuffer:n,Sv=ke.isFinite,qC=eu.join,dw=sf(Wt.keys,Wt),si=vr.max,Vi=vr.min,pw=dt.now,mw=ke.parseInt,bv=vr.random,gw=eu.reverse,df=_d(ke,"DataView"),od=_d(ke,"Map"),Mv=_d(ke,"Promise"),pf=_d(ke,"Set"),Yu=_d(ke,"WeakMap"),Qu=_d(Wt,"create"),xm=Yu&&new Yu,Ku={},vw=wd(df),yw=wd(od),xw=wd(Mv),_w=wd(pf),Ra=wd(Yu),ad=ll?ll.prototype:n,ul=ad?ad.valueOf:n,mf=ad?ad.toString:n;function V(f){if(Xr(f)&&!cn(f)&&!(f instanceof Bt)){if(f instanceof Hi)return f;if(Fn.call(f,"__wrapped__"))return yN(f)}return new Hi(f)}var cl=function(){function f(){}return function(g){if(!zr(g))return{};if(_v)return _v(g);f.prototype=g;var E=new f;return f.prototype=n,E}}();function ld(){}function Hi(f,g){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=n}V.templateSettings={escape:wr,evaluate:Wr,interpolate:Xs,variable:"",imports:{_:V}},V.prototype=ld.prototype,V.prototype.constructor=V,Hi.prototype=cl(ld.prototype),Hi.prototype.constructor=Hi;function Bt(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function XC(){var f=new Bt(this.__wrapped__);return f.__actions__=qi(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=qi(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=qi(this.__views__),f}function YC(){if(this.__filtered__){var f=new Bt(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function no(){var f=this.__wrapped__.value(),g=this.__dir__,E=cn(f),I=g<0,F=E?f.length:0,$=FY(0,F,this.__views__),ne=$.start,se=$.end,ve=se-ne,ze=I?se:ne-1,Ue=this.__iteratees__,Ge=Ue.length,ut=0,Rt=Vi(ve,this.__takeCount__);if(!E||!I&&F==ve&&Rt==ve)return lu(f,this.__actions__);var $t=[];e:for(;ve--&&ut<Rt;){ze+=g;for(var Sn=-1,Gt=f[ze];++Sn<Ge;){var Pn=Ue[Sn],Dn=Pn.iteratee,na=Pn.type,uo=Dn(Gt);if(na==ue)Gt=uo;else if(!uo){if(na==ee)continue e;break e}}$t[ut++]=Gt}return $t}Bt.prototype=cl(ld.prototype),Bt.prototype.constructor=Bt;function Or(f){var g=-1,E=f==null?0:f.length;for(this.clear();++g<E;){var I=f[g];this.set(I[0],I[1])}}function ww(){this.__data__=Qu?Qu(null):{},this.size=0}function Sw(f){var g=this.has(f)&&delete this.__data__[f];return this.size-=g?1:0,g}function bw(f){var g=this.__data__;if(Qu){var E=g[f];return E===l?n:E}return Fn.call(g,f)?g[f]:n}function Mw(f){var g=this.__data__;return Qu?g[f]!==n:Fn.call(g,f)}function Ew(f,g){var E=this.__data__;return this.size+=this.has(f)?0:1,E[f]=Qu&&g===n?l:g,this}Or.prototype.clear=ww,Or.prototype.delete=Sw,Or.prototype.get=bw,Or.prototype.has=Mw,Or.prototype.set=Ew;function Qo(f){var g=-1,E=f==null?0:f.length;for(this.clear();++g<E;){var I=f[g];this.set(I[0],I[1])}}function Tw(){this.__data__=[],this.size=0}function Ev(f){var g=this.__data__,E=iu(g,f);if(E<0)return!1;var I=g.length-1;return E==I?g.pop():tu.call(g,E,1),--this.size,!0}function Cw(f){var g=this.__data__,E=iu(g,f);return E<0?n:g[E][1]}function Aw(f){return iu(this.__data__,f)>-1}function _m(f,g){var E=this.__data__,I=iu(E,f);return I<0?(++this.size,E.push([f,g])):E[I][1]=g,this}Qo.prototype.clear=Tw,Qo.prototype.delete=Ev,Qo.prototype.get=Cw,Qo.prototype.has=Aw,Qo.prototype.set=_m;function Mo(f){var g=-1,E=f==null?0:f.length;for(this.clear();++g<E;){var I=f[g];this.set(I[0],I[1])}}function Pw(){this.size=0,this.__data__={hash:new Or,map:new(od||Qo),string:new Or}}function Tv(f){var g=jw(this,f).delete(f);return this.size-=g?1:0,g}function Rw(f){return jw(this,f).get(f)}function Iw(f){return jw(this,f).has(f)}function wm(f,g){var E=jw(this,f),I=E.size;return E.set(f,g),this.size+=E.size==I?0:1,this}Mo.prototype.clear=Pw,Mo.prototype.delete=Tv,Mo.prototype.get=Rw,Mo.prototype.has=Iw,Mo.prototype.set=wm;function ru(f){var g=-1,E=f==null?0:f.length;for(this.__data__=new Mo;++g<E;)this.add(f[g])}function Cv(f){return this.__data__.set(f,l),this}function kw(f){return this.__data__.has(f)}ru.prototype.add=ru.prototype.push=Cv,ru.prototype.has=kw;function oi(f){var g=this.__data__=new Qo(f);this.size=g.size}function QC(){this.__data__=new Qo,this.size=0}function KC(f){var g=this.__data__,E=g.delete(f);return this.size=g.size,E}function Sm(f){return this.__data__.get(f)}function Zu(f){return this.__data__.has(f)}function ZC(f,g){var E=this.__data__;if(E instanceof Qo){var I=E.__data__;if(!od||I.length<i-1)return I.push([f,g]),this.size=++E.size,this;E=this.__data__=new Mo(I)}return E.set(f,g),this.size=E.size,this}oi.prototype.clear=QC,oi.prototype.delete=KC,oi.prototype.get=Sm,oi.prototype.has=Zu,oi.prototype.set=ZC;function lt(f,g){var E=cn(f),I=!E&&Sd(f),F=!E&&!I&&Ef(f),$=!E&&!I&&!F&&Bm(f),ne=E||I||F||$,se=ne?al(f.length,yi):[],ve=se.length;for(var ze in f)(g||Fn.call(f,ze))&&!(ne&&(ze=="length"||F&&(ze=="offset"||ze=="parent")||$&&(ze=="buffer"||ze=="byteLength"||ze=="byteOffset")||ic(ze,ve)))&&se.push(ze);return se}function ud(f){var g=f.length;return g?f[ka(0,g-1)]:n}function Av(f,g){return qw(qi(f),su(g,0,f.length))}function Lw(f){return qw(qi(f))}function Pv(f,g,E){(E!==n&&!dl(f[g],E)||E===n&&!(g in f))&&Ia(f,g,E)}function Ko(f,g,E){var I=f[g];(!(Fn.call(f,g)&&dl(I,E))||E===n&&!(g in f))&&Ia(f,g,E)}function iu(f,g){for(var E=f.length;E--;)if(dl(f[E][0],g))return E;return-1}function Rv(f,g,E,I){return Zo(f,function(F,$,ne){g(I,F,E(F),ne)}),I}function Iv(f,g){return f&&Co(g,Yi(g),f)}function Dw(f,g){return f&&Co(g,Po(g),f)}function Ia(f,g,E){g=="__proto__"&&hf?hf(f,g,{configurable:!0,enumerable:!0,value:E,writable:!0}):f[g]=E}function bm(f,g){for(var E=-1,I=g.length,F=Ee(I),$=f==null;++E<I;)F[E]=$?n:g2(f,g[E]);return F}function su(f,g,E){return f===f&&(E!==n&&(f=f<=E?f:E),g!==n&&(f=f>=g?f:g)),f}function ro(f,g,E,I,F,$){var ne,se=g&p,ve=g&m,ze=g&v;if(E&&(ne=F?E(f,I,F,$):E(f)),ne!==n)return ne;if(!zr(f))return f;var Ue=cn(f);if(Ue){if(ne=BY(f),!se)return qi(f,ne)}else{var Ge=Rs(f),ut=Ge==Ie||Ge==Ae;if(Ef(f))return Gv(f,se);if(Ge==St||Ge==Me||ut&&!F){if(ne=ve||ut?{}:uN(f),!se)return ve?$w(f,Dw(ne,f)):n2(f,Iv(ne,f))}else{if(!Xn[Ge])return F?f:{};ne=UY(f,Ge,se)}}$||($=new oi);var Rt=$.get(f);if(Rt)return Rt;$.set(f,ne),zN(f)?f.forEach(function(Gt){ne.add(ro(Gt,g,E,Gt,f,$))}):NN(f)&&f.forEach(function(Gt,Pn){ne.set(Pn,ro(Gt,g,E,Pn,f,$))});var $t=ze?ve?Rn:qr:ve?Po:Yi,Sn=Ue?n:$t(f);return ri(Sn||f,function(Gt,Pn){Sn&&(Pn=Gt,Gt=f[Pn]),Ko(ne,Pn,ro(Gt,g,E,Pn,f,$))}),ne}function kv(f){var g=Yi(f);return function(E){return Mm(E,f,g)}}function Mm(f,g,E){var I=E.length;if(f==null)return!I;for(f=Wt(f);I--;){var F=E[I],$=g[F],ne=f[F];if(ne===n&&!(F in f)||!$(ne))return!1}return!0}function Lv(f,g,E){if(typeof f!="function")throw new us(o);return Yv(function(){f.apply(n,E)},g)}function Ju(f,g,E,I){var F=-1,$=$o,ne=!0,se=f.length,ve=[],ze=g.length;if(!se)return ve;E&&(g=ur(g,as(E))),I?($=Jc,ne=!1):g.length>=i&&($=Ti,ne=!1,g=new ru(g));e:for(;++F<se;){var Ue=f[F],Ge=E==null?Ue:E(Ue);if(Ue=I||Ue!==0?Ue:0,ne&&Ge===Ge){for(var ut=ze;ut--;)if(g[ut]===Ge)continue e;ve.push(Ue)}else $(g,Ge,I)||ve.push(Ue)}return ve}var Zo=qv(io),Ow=qv(vf,!0);function JC(f,g){var E=!0;return Zo(f,function(I,F,$){return E=!!g(I,F,$),E}),E}function cd(f,g,E){for(var I=-1,F=f.length;++I<F;){var $=f[I],ne=g($);if(ne!=null&&(se===n?ne===ne&&!ta(ne):E(ne,se)))var se=ne,ve=$}return ve}function Nw(f,g,E,I){var F=f.length;for(E=xn(E),E<0&&(E=-E>F?0:F+E),I=I===n||I>F?F:xn(I),I<0&&(I+=F),I=E>I?0:UN(I);E<I;)f[E++]=g;return f}function Dv(f,g){var E=[];return Zo(f,function(I,F,$){g(I,F,$)&&E.push(I)}),E}function xi(f,g,E,I,F){var $=-1,ne=f.length;for(E||(E=HY),F||(F=[]);++$<ne;){var se=f[$];g>0&&E(se)?g>1?xi(se,g-1,E,I,F):Go(F,se):I||(F[F.length]=se)}return F}var gf=Nm(),fd=Nm(!0);function io(f,g){return f&&gf(f,g,Yi)}function vf(f,g){return f&&fd(f,g,Yi)}function ec(f,g){return Ui(g,function(E){return sc(f[E])})}function Jo(f,g){g=cu(g,f);for(var E=0,I=g.length;f!=null&&E<I;)f=f[du(g[E++])];return E&&E==I?f:n}function Em(f,g,E){var I=g(f);return cn(f)?I:Go(I,E(f))}function Ci(f){return f==null?f===n?be:rt:Pa&&Pa in Wt(f)?NY(f):YY(f)}function hd(f,g){return f>g}function Fw(f,g){return f!=null&&Fn.call(f,g)}function Ov(f,g){return f!=null&&g in Wt(f)}function e2(f,g,E){return f>=Vi(g,E)&&f<si(g,E)}function yf(f,g,E){for(var I=E?Jc:$o,F=f[0].length,$=f.length,ne=$,se=Ee($),ve=1/0,ze=[];ne--;){var Ue=f[ne];ne&&g&&(Ue=ur(Ue,as(g))),ve=Vi(Ue.length,ve),se[ne]=!E&&(g||F>=120&&Ue.length>=120)?new ru(ne&&Ue):n}Ue=f[0];var Ge=-1,ut=se[0];e:for(;++Ge<F&&ze.length<ve;){var Rt=Ue[Ge],$t=g?g(Rt):Rt;if(Rt=E||Rt!==0?Rt:0,!(ut?Ti(ut,$t):I(ze,$t,E))){for(ne=$;--ne;){var Sn=se[ne];if(!(Sn?Ti(Sn,$t):I(f[ne],$t,E)))continue e}ut&&ut.push($t),ze.push(Rt)}}return ze}function Nv(f,g,E,I){return io(f,function(F,$,ne){g(I,E(F),$,ne)}),I}function fr(f,g,E){g=cu(g,f),f=dN(f,g);var I=f==null?f:f[du(Oa(g))];return I==null?n:gr(I,f,E)}function pn(f){return Xr(f)&&Ci(f)==Me}function Gr(f){return Xr(f)&&Ci(f)==nt}function jr(f){return Xr(f)&&Ci(f)==Qe}function Nr(f,g,E,I,F){return f===g?!0:f==null||g==null||!Xr(f)&&!Xr(g)?f!==f&&g!==g:so(f,g,E,I,Nr,F)}function so(f,g,E,I,F,$){var ne=cn(f),se=cn(g),ve=ne?pe:Rs(f),ze=se?pe:Rs(g);ve=ve==Me?St:ve,ze=ze==Me?St:ze;var Ue=ve==St,Ge=ze==St,ut=ve==ze;if(ut&&Ef(f)){if(!Ef(g))return!1;ne=!0,Ue=!1}if(ut&&!Ue)return $||($=new oi),ne||Bm(f)?At(f,g,E,I,F,$):mn(f,g,ve,E,I,F,$);if(!(E&y)){var Rt=Ue&&Fn.call(f,"__wrapped__"),$t=Ge&&Fn.call(g,"__wrapped__");if(Rt||$t){var Sn=Rt?f.value():f,Gt=$t?g.value():g;return $||($=new oi),F(Sn,Gt,E,I,$)}}return ut?($||($=new oi),nn(f,g,E,I,F,$)):!1}function xf(f){return Xr(f)&&Rs(f)==qe}function Fr(f,g,E,I){var F=E.length,$=F,ne=!I;if(f==null)return!$;for(f=Wt(f);F--;){var se=E[F];if(ne&&se[2]?se[1]!==f[se[0]]:!(se[0]in f))return!1}for(;++F<$;){se=E[F];var ve=se[0],ze=f[ve],Ue=se[1];if(ne&&se[2]){if(ze===n&&!(ve in f))return!1}else{var Ge=new oi;if(I)var ut=I(ze,Ue,ve,f,g,Ge);if(!(ut===n?Nr(Ue,ze,y|x,I,Ge):ut))return!1}}return!0}function _f(f){if(!zr(f)||$Y(f))return!1;var g=sc(f)?vm:_n;return g.test(wd(f))}function wf(f){return Xr(f)&&Ci(f)==zt}function Tm(f){return Xr(f)&&Rs(f)==Nt}function Fv(f){return Xr(f)&&Jw(f.length)&&!!rr[Ci(f)]}function Sf(f){return typeof f=="function"?f:f==null?Ro:typeof f=="object"?cn(f)?Cm(f[0],f[1]):pd(f):KN(f)}function Wi(f){if(!Xv(f))return dw(f);var g=[];for(var E in Wt(f))Fn.call(f,E)&&E!="constructor"&&g.push(E);return g}function zv(f){if(!zr(f))return XY(f);var g=Xv(f),E=[];for(var I in f)I=="constructor"&&(g||!Fn.call(f,I))||E.push(I);return E}function dd(f,g){return f<g}function tc(f,g){var E=-1,I=Ao(f)?Ee(f.length):[];return Zo(f,function(F,$,ne){I[++E]=g(F,$,ne)}),I}function pd(f){var g=i2(f);return g.length==1&&g[0][2]?fN(g[0][0],g[0][1]):function(E){return E===f||Fr(E,f,g)}}function Cm(f,g){return o2(f)&&cN(g)?fN(du(f),g):function(E){var I=g2(E,f);return I===n&&I===g?v2(E,f):Nr(g,I,y|x)}}function ea(f,g,E,I,F){f!==g&&gf(g,function($,ne){if(F||(F=new oi),zr($))Am(f,g,ne,E,ea,I,F);else{var se=I?I(l2(f,ne),$,ne+"",f,g,F):n;se===n&&(se=$),Pv(f,ne,se)}},Po)}function Am(f,g,E,I,F,$,ne){var se=l2(f,E),ve=l2(g,E),ze=ne.get(ve);if(ze){Pv(f,E,ze);return}var Ue=$?$(se,ve,E+"",f,g,ne):n,Ge=Ue===n;if(Ge){var ut=cn(ve),Rt=!ut&&Ef(ve),$t=!ut&&!Rt&&Bm(ve);Ue=ve,ut||Rt||$t?cn(se)?Ue=se:ai(se)?Ue=qi(se):Rt?(Ge=!1,Ue=Gv(ve,!0)):$t?(Ge=!1,Ue=Ww(ve,!0)):Ue=[]:Qv(ve)||Sd(ve)?(Ue=se,Sd(se)?Ue=VN(se):(!zr(se)||sc(se))&&(Ue=uN(ve))):Ge=!1}Ge&&(ne.set(ve,Ue),F(Ue,ve,I,$,ne),ne.delete(ve)),Pv(f,E,Ue)}function fl(f,g){var E=f.length;if(!!E)return g+=g<0?E:0,ic(g,E)?f[g]:n}function md(f,g,E){g.length?g=ur(g,function($){return cn($)?function(ne){return Jo(ne,$.length===1?$[0]:$)}:$}):g=[Ro];var I=-1;g=ur(g,as(Vt()));var F=tc(f,function($,ne,se){var ve=ur(g,function(ze){return ze($)});return{criteria:ve,index:++I,value:$}});return ol(F,function($,ne){return Om($,ne,E)})}function gd(f,g){return Pm(f,g,function(E,I){return v2(f,I)})}function Pm(f,g,E){for(var I=-1,F=g.length,$={};++I<F;){var ne=g[I],se=Jo(f,ne);E(se,ne)&&nc($,cu(ne,f),se)}return $}function Rm(f){return function(g){return Jo(g,f)}}function bf(f,g,E,I){var F=I?tf:jo,$=-1,ne=g.length,se=f;for(f===g&&(g=qi(g)),E&&(se=ur(f,as(E)));++$<ne;)for(var ve=0,ze=g[$],Ue=E?E(ze):ze;(ve=F(se,Ue,ve,I))>-1;)se!==f&&tu.call(se,ve,1),tu.call(f,ve,1);return f}function $i(f,g){for(var E=f?g.length:0,I=E-1;E--;){var F=g[E];if(E==I||F!==$){var $=F;ic(F)?tu.call(f,F,1):Hv(f,F)}}return f}function ka(f,g){return f+id(bv()*(g-f+1))}function Eo(f,g,E,I){for(var F=-1,$=si(rd((g-f)/(E||1)),0),ne=Ee($);$--;)ne[I?$:++F]=f,f+=E;return ne}function Mf(f,g){var E="";if(!f||g<1||g>z)return E;do g%2&&(E+=f),g=id(g/2),g&&(f+=f);while(g);return E}function Ft(f,g){return u2(hN(f,g,Ro),f+"")}function zw(f){return ud(Um(f))}function Bv(f,g){var E=Um(f);return qw(E,su(g,0,E.length))}function nc(f,g,E,I){if(!zr(f))return f;g=cu(g,f);for(var F=-1,$=g.length,ne=$-1,se=f;se!=null&&++F<$;){var ve=du(g[F]),ze=E;if(ve==="__proto__"||ve==="constructor"||ve==="prototype")return f;if(F!=ne){var Ue=se[ve];ze=I?I(Ue,ve,se):n,ze===n&&(ze=zr(Ue)?Ue:ic(g[F+1])?[]:{})}Ko(se,ve,ze),se=se[ve]}return f}var Bw=xm?function(f,g){return xm.set(f,g),f}:Ro,ou=hf?function(f,g){return hf(f,"toString",{configurable:!0,enumerable:!1,value:x2(g),writable:!0})}:Ro;function Uw(f){return qw(Um(f))}function oo(f,g,E){var I=-1,F=f.length;g<0&&(g=-g>F?0:F+g),E=E>F?F:E,E<0&&(E+=F),F=g>E?0:E-g>>>0,g>>>=0;for(var $=Ee(F);++I<F;)$[I]=f[I+g];return $}function Uv(f,g){var E;return Zo(f,function(I,F,$){return E=g(I,F,$),!E}),!!E}function La(f,g,E){var I=0,F=f==null?I:f.length;if(typeof g=="number"&&g===g&&F<=le){for(;I<F;){var $=I+F>>>1,ne=f[$];ne!==null&&!ta(ne)&&(E?ne<=g:ne<g)?I=$+1:F=$}return F}return Im(f,g,Ro,E)}function Im(f,g,E,I){var F=0,$=f==null?0:f.length;if($===0)return 0;g=E(g);for(var ne=g!==g,se=g===null,ve=ta(g),ze=g===n;F<$;){var Ue=id((F+$)/2),Ge=E(f[Ue]),ut=Ge!==n,Rt=Ge===null,$t=Ge===Ge,Sn=ta(Ge);if(ne)var Gt=I||$t;else ze?Gt=$t&&(I||ut):se?Gt=$t&&ut&&(I||!Rt):ve?Gt=$t&&ut&&!Rt&&(I||!Sn):Rt||Sn?Gt=!1:Gt=I?Ge<=g:Ge<g;Gt?F=Ue+1:$=Ue}return Vi($,G)}function Vv(f,g){for(var E=-1,I=f.length,F=0,$=[];++E<I;){var ne=f[E],se=g?g(ne):ne;if(!E||!dl(se,ve)){var ve=se;$[F++]=ne===0?0:ne}}return $}function km(f){return typeof f=="number"?f:ta(f)?Z:+f}function Gi(f){if(typeof f=="string")return f;if(cn(f))return ur(f,Gi)+"";if(ta(f))return mf?mf.call(f):"";var g=f+"";return g=="0"&&1/f==-fe?"-0":g}function au(f,g,E){var I=-1,F=$o,$=f.length,ne=!0,se=[],ve=se;if(E)ne=!1,F=Jc;else if($>=i){var ze=g?null:Xi(f);if(ze)return Kh(ze);ne=!1,F=Ti,ve=new ru}else ve=g?[]:se;e:for(;++I<$;){var Ue=f[I],Ge=g?g(Ue):Ue;if(Ue=E||Ue!==0?Ue:0,ne&&Ge===Ge){for(var ut=ve.length;ut--;)if(ve[ut]===Ge)continue e;g&&ve.push(Ge),se.push(Ue)}else F(ve,Ge,E)||(ve!==se&&ve.push(Ge),se.push(Ue))}return se}function Hv(f,g){return g=cu(g,f),f=dN(f,g),f==null||delete f[du(Oa(g))]}function Wv(f,g,E,I){return nc(f,g,E(Jo(f,g)),I)}function vd(f,g,E,I){for(var F=f.length,$=I?F:-1;(I?$--:++$<F)&&g(f[$],$,f););return E?oo(f,I?0:$,I?$+1:F):oo(f,I?$+1:0,I?F:$)}function lu(f,g){var E=f;return E instanceof Bt&&(E=E.value()),dm(g,function(I,F){return F.func.apply(F.thisArg,Go([I],F.args))},E)}function $v(f,g,E){var I=f.length;if(I<2)return I?au(f[0]):[];for(var F=-1,$=Ee(I);++F<I;)for(var ne=f[F],se=-1;++se<I;)se!=F&&($[F]=Ju($[F]||ne,f[se],g,E));return au(xi($,1),g,E)}function uu(f,g,E){for(var I=-1,F=f.length,$=g.length,ne={};++I<F;){var se=I<$?g[I]:n;E(ne,f[I],se)}return ne}function Lm(f){return ai(f)?f:[]}function ji(f){return typeof f=="function"?f:Ro}function cu(f,g){return cn(f)?f:o2(f,g)?[f]:vN(Qn(f))}var Vw=Ft;function fu(f,g,E){var I=f.length;return E=E===n?I:E,!g&&E>=I?f:oo(f,g,E)}var Hw=nd||function(f){return Zt.clearTimeout(f)};function Gv(f,g){if(g)return f.slice();var E=f.length,I=xv?xv(E):new f.constructor(E);return f.copy(I),I}function Dm(f){var g=new f.constructor(f.byteLength);return new ed(g).set(new ed(f)),g}function t2(f,g){var E=g?Dm(f.buffer):f.buffer;return new f.constructor(E,f.byteOffset,f.byteLength)}function To(f){var g=new f.constructor(f.source,Ht.exec(f));return g.lastIndex=f.lastIndex,g}function jv(f){return ul?Wt(ul.call(f)):{}}function Ww(f,g){var E=g?Dm(f.buffer):f.buffer;return new f.constructor(E,f.byteOffset,f.length)}function hl(f,g){if(f!==g){var E=f!==n,I=f===null,F=f===f,$=ta(f),ne=g!==n,se=g===null,ve=g===g,ze=ta(g);if(!se&&!ze&&!$&&f>g||$&&ne&&ve&&!se&&!ze||I&&ne&&ve||!E&&ve||!F)return 1;if(!I&&!$&&!ze&&f<g||ze&&E&&F&&!I&&!$||se&&E&&F||!ne&&F||!ve)return-1}return 0}function Om(f,g,E){for(var I=-1,F=f.criteria,$=g.criteria,ne=F.length,se=E.length;++I<ne;){var ve=hl(F[I],$[I]);if(ve){if(I>=se)return ve;var ze=E[I];return ve*(ze=="desc"?-1:1)}}return f.index-g.index}function hu(f,g,E,I){for(var F=-1,$=f.length,ne=E.length,se=-1,ve=g.length,ze=si($-ne,0),Ue=Ee(ve+ze),Ge=!I;++se<ve;)Ue[se]=g[se];for(;++F<ne;)(Ge||F<$)&&(Ue[E[F]]=f[F]);for(;ze--;)Ue[se++]=f[F++];return Ue}function yd(f,g,E,I){for(var F=-1,$=f.length,ne=-1,se=E.length,ve=-1,ze=g.length,Ue=si($-se,0),Ge=Ee(Ue+ze),ut=!I;++F<Ue;)Ge[F]=f[F];for(var Rt=F;++ve<ze;)Ge[Rt+ve]=g[ve];for(;++ne<se;)(ut||F<$)&&(Ge[Rt+E[ne]]=f[F++]);return Ge}function qi(f,g){var E=-1,I=f.length;for(g||(g=Ee(I));++E<I;)g[E]=f[E];return g}function Co(f,g,E,I){var F=!E;E||(E={});for(var $=-1,ne=g.length;++$<ne;){var se=g[$],ve=I?I(E[se],f[se],se,E,f):n;ve===n&&(ve=f[se]),F?Ia(E,se,ve):Ko(E,se,ve)}return E}function n2(f,g){return Co(f,s2(f),g)}function $w(f,g){return Co(f,aN(f),g)}function xd(f,g){return function(E,I){var F=cn(E)?Ea:Rv,$=g?g():{};return F(E,f,Vt(I,2),$)}}function rc(f){return Ft(function(g,E){var I=-1,F=E.length,$=F>1?E[F-1]:n,ne=F>2?E[2]:n;for($=f.length>3&&typeof $=="function"?(F--,$):n,ne&&lo(E[0],E[1],ne)&&($=F<3?n:$,F=1),g=Wt(g);++I<F;){var se=E[I];se&&f(g,se,I,$)}return g})}function qv(f,g){return function(E,I){if(E==null)return E;if(!Ao(E))return f(E,I);for(var F=E.length,$=g?F:-1,ne=Wt(E);(g?$--:++$<F)&&I(ne[$],$,ne)!==!1;);return E}}function Nm(f){return function(g,E,I){for(var F=-1,$=Wt(g),ne=I(g),se=ne.length;se--;){var ve=ne[f?se:++F];if(E($[ve],ve,$)===!1)break}return g}}function r2(f,g,E){var I=g&_,F=d(f);function $(){var ne=this&&this!==Zt&&this instanceof $?F:f;return ne.apply(I?E:this,arguments)}return $}function Gw(f){return function(g){g=Qn(g);var E=qu(g)?Cr(g):n,I=E?E[0]:g.charAt(0),F=E?fu(E,1).join(""):g.slice(1);return I[f]()+F}}function h(f){return function(g){return dm(YN(XN(g).replace($h,"")),f,"")}}function d(f){return function(){var g=arguments;switch(g.length){case 0:return new f;case 1:return new f(g[0]);case 2:return new f(g[0],g[1]);case 3:return new f(g[0],g[1],g[2]);case 4:return new f(g[0],g[1],g[2],g[3]);case 5:return new f(g[0],g[1],g[2],g[3],g[4]);case 6:return new f(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new f(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var E=cl(f.prototype),I=f.apply(E,g);return zr(I)?I:E}}function S(f,g,E){var I=d(f);function F(){for(var $=arguments.length,ne=Ee($),se=$,ve=zm(F);se--;)ne[se]=arguments[se];var ze=$<3&&ne[0]!==ve&&ne[$-1]!==ve?[]:Yo(ne,ve);if($-=ze.length,$<E)return Yn(f,g,D,F.placeholder,n,ne,ze,n,n,E-$);var Ue=this&&this!==Zt&&this instanceof F?I:f;return gr(Ue,this,ne)}return F}function C(f){return function(g,E,I){var F=Wt(g);if(!Ao(g)){var $=Vt(E,3);g=Yi(g),E=function(se){return $(F[se],se,F)}}var ne=f(g,E,I);return ne>-1?F[$?g[ne]:ne]:n}}function R(f){return gn(function(g){var E=g.length,I=E,F=Hi.prototype.thru;for(f&&g.reverse();I--;){var $=g[I];if(typeof $!="function")throw new us(o);if(F&&!ne&&Fm($)=="wrapper")var ne=new Hi([],!0)}for(I=ne?I:E;++I<E;){$=g[I];var se=Fm($),ve=se=="wrapper"?Da($):n;ve&&a2(ve[0])&&ve[1]==(L|w|A|P)&&!ve[4].length&&ve[9]==1?ne=ne[Fm(ve[0])].apply(ne,ve[3]):ne=$.length==1&&a2($)?ne[se]():ne.thru($)}return function(){var ze=arguments,Ue=ze[0];if(ne&&ze.length==1&&cn(Ue))return ne.plant(Ue).value();for(var Ge=0,ut=E?g[Ge].apply(this,ze):Ue;++Ge<E;)ut=g[Ge].call(this,ut);return ut}})}function D(f,g,E,I,F,$,ne,se,ve,ze){var Ue=g&L,Ge=g&_,ut=g&b,Rt=g&(w|T),$t=g&O,Sn=ut?n:d(f);function Gt(){for(var Pn=arguments.length,Dn=Ee(Pn),na=Pn;na--;)Dn[na]=arguments[na];if(Rt)var uo=zm(Gt),ra=Xo(Dn,uo);if(I&&(Dn=hu(Dn,I,F,Rt)),$&&(Dn=yd(Dn,$,ne,Rt)),Pn-=ra,Rt&&Pn<ze){var li=Yo(Dn,uo);return Yn(f,g,D,Gt.placeholder,E,Dn,li,se,ve,ze-Pn)}var pl=Ge?E:this,ac=ut?pl[f]:f;return Pn=Dn.length,se?Dn=QY(Dn,se):$t&&Pn>1&&Dn.reverse(),Ue&&ve<Pn&&(Dn.length=ve),this&&this!==Zt&&this instanceof Gt&&(ac=Sn||d(ac)),ac.apply(pl,Dn)}return Gt}function K(f,g){return function(E,I){return Nv(E,f,g(I),{})}}function he(f,g){return function(E,I){var F;if(E===n&&I===n)return g;if(E!==n&&(F=E),I!==n){if(F===n)return I;typeof E=="string"||typeof I=="string"?(E=Gi(E),I=Gi(I)):(E=km(E),I=km(I)),F=f(E,I)}return F}}function Re(f){return gn(function(g){return g=ur(g,as(Vt())),Ft(function(E){var I=this;return f(g,function(F){return gr(F,I,E)})})})}function Ze(f,g){g=g===n?" ":Gi(g);var E=g.length;if(E<2)return E?Mf(g,f):g;var I=Mf(g,rd(f/Ta(g)));return qu(g)?fu(Cr(I),0,f).join(""):I.slice(0,f)}function gt(f,g,E,I){var F=g&_,$=d(f);function ne(){for(var se=-1,ve=arguments.length,ze=-1,Ue=I.length,Ge=Ee(Ue+ve),ut=this&&this!==Zt&&this instanceof ne?$:f;++ze<Ue;)Ge[ze]=I[ze];for(;ve--;)Ge[ze++]=arguments[++se];return gr(ut,F?E:this,Ge)}return ne}function tn(f){return function(g,E,I){return I&&typeof I!="number"&&lo(g,E,I)&&(E=I=n),g=oc(g),E===n?(E=g,g=0):E=oc(E),I=I===n?g<E?1:-1:oc(I),Eo(g,E,I,f)}}function Lt(f){return function(g,E){return typeof g=="string"&&typeof E=="string"||(g=Na(g),E=Na(E)),f(g,E)}}function Yn(f,g,E,I,F,$,ne,se,ve,ze){var Ue=g&w,Ge=Ue?ne:n,ut=Ue?n:ne,Rt=Ue?$:n,$t=Ue?n:$;g|=Ue?A:k,g&=~(Ue?k:A),g&M||(g&=~(_|b));var Sn=[f,g,F,Rt,Ge,$t,ut,se,ve,ze],Gt=E.apply(n,Sn);return a2(f)&&pN(Gt,Sn),Gt.placeholder=I,mN(Gt,f,g)}function Ct(f){var g=vr[f];return function(E,I){if(E=Na(E),I=I==null?0:Vi(xn(I),292),I&&Sv(E)){var F=(Qn(E)+"e").split("e"),$=g(F[0]+"e"+(+F[1]+I));return F=(Qn($)+"e").split("e"),+(F[0]+"e"+(+F[1]-I))}return g(E)}}var Xi=pf&&1/Kh(new pf([,-0]))[1]==fe?function(f){return new pf(f)}:S2;function ao(f){return function(g){var E=Rs(g);return E==qe?Qh(g):E==Nt?aw(g):iw(g,f(g))}}function _e(f,g,E,I,F,$,ne,se){var ve=g&b;if(!ve&&typeof f!="function")throw new us(o);var ze=I?I.length:0;if(ze||(g&=~(A|k),I=F=n),ne=ne===n?ne:si(xn(ne),0),se=se===n?se:xn(se),ze-=F?F.length:0,g&k){var Ue=I,Ge=F;I=F=n}var ut=ve?n:Da(f),Rt=[f,g,E,I,F,Ue,Ge,$,ne,se];if(ut&&qY(Rt,ut),f=Rt[0],g=Rt[1],E=Rt[2],I=Rt[3],F=Rt[4],se=Rt[9]=Rt[9]===n?ve?0:f.length:si(Rt[9]-ze,0),!se&&g&(w|T)&&(g&=~(w|T)),!g||g==_)var $t=r2(f,g,E);else g==w||g==T?$t=S(f,g,se):(g==A||g==(_|A))&&!F.length?$t=gt(f,g,E,I):$t=D.apply(n,Rt);var Sn=ut?Bw:pN;return mN(Sn($t,Rt),f,g)}function ge(f,g,E,I){return f===n||dl(f,cf[E])&&!Fn.call(I,E)?g:f}function Ce(f,g,E,I,F,$){return zr(f)&&zr(g)&&($.set(g,f),ea(f,g,n,Ce,$),$.delete(g)),f}function ft(f){return Qv(f)?n:f}function At(f,g,E,I,F,$){var ne=E&y,se=f.length,ve=g.length;if(se!=ve&&!(ne&&ve>se))return!1;var ze=$.get(f),Ue=$.get(g);if(ze&&Ue)return ze==g&&Ue==f;var Ge=-1,ut=!0,Rt=E&x?new ru:n;for($.set(f,g),$.set(g,f);++Ge<se;){var $t=f[Ge],Sn=g[Ge];if(I)var Gt=ne?I(Sn,$t,Ge,g,f,$):I($t,Sn,Ge,f,g,$);if(Gt!==n){if(Gt)continue;ut=!1;break}if(Rt){if(!jh(g,function(Pn,Dn){if(!Ti(Rt,Dn)&&($t===Pn||F($t,Pn,E,I,$)))return Rt.push(Dn)})){ut=!1;break}}else if(!($t===Sn||F($t,Sn,E,I,$))){ut=!1;break}}return $.delete(f),$.delete(g),ut}function mn(f,g,E,I,F,$,ne){switch(E){case _t:if(f.byteLength!=g.byteLength||f.byteOffset!=g.byteOffset)return!1;f=f.buffer,g=g.buffer;case nt:return!(f.byteLength!=g.byteLength||!$(new ed(f),new ed(g)));case Be:case Qe:case ct:return dl(+f,+g);case pt:return f.name==g.name&&f.message==g.message;case zt:case Q:return f==g+"";case qe:var se=Qh;case Nt:var ve=I&y;if(se||(se=Kh),f.size!=g.size&&!ve)return!1;var ze=ne.get(f);if(ze)return ze==g;I|=x,ne.set(f,g);var Ue=At(se(f),se(g),I,F,$,ne);return ne.delete(f),Ue;case W:if(ul)return ul.call(f)==ul.call(g)}return!1}function nn(f,g,E,I,F,$){var ne=E&y,se=qr(f),ve=se.length,ze=qr(g),Ue=ze.length;if(ve!=Ue&&!ne)return!1;for(var Ge=ve;Ge--;){var ut=se[Ge];if(!(ne?ut in g:Fn.call(g,ut)))return!1}var Rt=$.get(f),$t=$.get(g);if(Rt&&$t)return Rt==g&&$t==f;var Sn=!0;$.set(f,g),$.set(g,f);for(var Gt=ne;++Ge<ve;){ut=se[Ge];var Pn=f[ut],Dn=g[ut];if(I)var na=ne?I(Dn,Pn,ut,g,f,$):I(Pn,Dn,ut,f,g,$);if(!(na===n?Pn===Dn||F(Pn,Dn,E,I,$):na)){Sn=!1;break}Gt||(Gt=ut=="constructor")}if(Sn&&!Gt){var uo=f.constructor,ra=g.constructor;uo!=ra&&"constructor"in f&&"constructor"in g&&!(typeof uo=="function"&&uo instanceof uo&&typeof ra=="function"&&ra instanceof ra)&&(Sn=!1)}return $.delete(f),$.delete(g),Sn}function gn(f){return u2(hN(f,n,wN),f+"")}function qr(f){return Em(f,Yi,s2)}function Rn(f){return Em(f,Po,aN)}var Da=xm?function(f){return xm.get(f)}:S2;function Fm(f){for(var g=f.name+"",E=Ku[g],I=Fn.call(Ku,g)?E.length:0;I--;){var F=E[I],$=F.func;if($==null||$==f)return F.name}return g}function zm(f){var g=Fn.call(V,"placeholder")?V:f;return g.placeholder}function Vt(){var f=V.iteratee||_2;return f=f===_2?Sf:f,arguments.length?f(arguments[0],arguments[1]):f}function jw(f,g){var E=f.__data__;return WY(g)?E[typeof g=="string"?"string":"hash"]:E.map}function i2(f){for(var g=Yi(f),E=g.length;E--;){var I=g[E],F=f[I];g[E]=[I,F,cN(F)]}return g}function _d(f,g){var E=gv(f,g);return _f(E)?E:n}function NY(f){var g=Fn.call(f,Pa),E=f[Pa];try{f[Pa]=n;var I=!0}catch{}var F=to.call(f);return I&&(g?f[Pa]=E:delete f[Pa]),F}var s2=sd?function(f){return f==null?[]:(f=Wt(f),Ui(sd(f),function(g){return ym.call(f,g)}))}:b2,aN=sd?function(f){for(var g=[];f;)Go(g,s2(f)),f=td(f);return g}:b2,Rs=Ci;(df&&Rs(new df(new ArrayBuffer(1)))!=_t||od&&Rs(new od)!=qe||Mv&&Rs(Mv.resolve())!=bt||pf&&Rs(new pf)!=Nt||Yu&&Rs(new Yu)!=$e)&&(Rs=function(f){var g=Ci(f),E=g==St?f.constructor:n,I=E?wd(E):"";if(I)switch(I){case vw:return _t;case yw:return qe;case xw:return bt;case _w:return Nt;case Ra:return $e}return g});function FY(f,g,E){for(var I=-1,F=E.length;++I<F;){var $=E[I],ne=$.size;switch($.type){case"drop":f+=ne;break;case"dropRight":g-=ne;break;case"take":g=Vi(g,f+ne);break;case"takeRight":f=si(f,g-ne);break}}return{start:f,end:g}}function zY(f){var g=f.match(ye);return g?g[1].split(Le):[]}function lN(f,g,E){g=cu(g,f);for(var I=-1,F=g.length,$=!1;++I<F;){var ne=du(g[I]);if(!($=f!=null&&E(f,ne)))break;f=f[ne]}return $||++I!=F?$:(F=f==null?0:f.length,!!F&&Jw(F)&&ic(ne,F)&&(cn(f)||Sd(f)))}function BY(f){var g=f.length,E=new f.constructor(g);return g&&typeof f[0]=="string"&&Fn.call(f,"index")&&(E.index=f.index,E.input=f.input),E}function uN(f){return typeof f.constructor=="function"&&!Xv(f)?cl(td(f)):{}}function UY(f,g,E){var I=f.constructor;switch(g){case nt:return Dm(f);case Be:case Qe:return new I(+f);case _t:return t2(f,E);case it:case De:case yt:case re:case Te:case je:case et:case wt:case Kt:return Ww(f,E);case qe:return new I;case ct:case Q:return new I(f);case zt:return To(f);case Nt:return new I;case W:return jv(f)}}function VY(f,g){var E=g.length;if(!E)return f;var I=E-1;return g[I]=(E>1?"& ":"")+g[I],g=g.join(E>2?", ":" "),f.replace(q,`{
/* [wrapped with `+g+`] */
`)}function HY(f){return cn(f)||Sd(f)||!!(wv&&f&&f[wv])}function ic(f,g){var E=typeof f;return g=g==null?z:g,!!g&&(E=="number"||E!="symbol"&&mr.test(f))&&f>-1&&f%1==0&&f<g}function lo(f,g,E){if(!zr(E))return!1;var I=typeof g;return(I=="number"?Ao(E)&&ic(g,E.length):I=="string"&&g in E)?dl(E[g],f):!1}function o2(f,g){if(cn(f))return!1;var E=typeof f;return E=="number"||E=="symbol"||E=="boolean"||f==null||ta(f)?!0:Ms.test(f)||!Wn.test(f)||g!=null&&f in Wt(g)}function WY(f){var g=typeof f;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?f!=="__proto__":f===null}function a2(f){var g=Fm(f),E=V[g];if(typeof E!="function"||!(g in Bt.prototype))return!1;if(f===E)return!0;var I=Da(E);return!!I&&f===I[0]}function $Y(f){return!!Aa&&Aa in f}var GY=ii?sc:M2;function Xv(f){var g=f&&f.constructor,E=typeof g=="function"&&g.prototype||cf;return f===E}function cN(f){return f===f&&!zr(f)}function fN(f,g){return function(E){return E==null?!1:E[f]===g&&(g!==n||f in Wt(E))}}function jY(f){var g=Kw(f,function(I){return E.size===u&&E.clear(),I}),E=g.cache;return g}function qY(f,g){var E=f[1],I=g[1],F=E|I,$=F<(_|b|L),ne=I==L&&E==w||I==L&&E==P&&f[7].length<=g[8]||I==(L|P)&&g[7].length<=g[8]&&E==w;if(!($||ne))return f;I&_&&(f[2]=g[2],F|=E&_?0:M);var se=g[3];if(se){var ve=f[3];f[3]=ve?hu(ve,se,g[4]):se,f[4]=ve?Yo(f[3],c):g[4]}return se=g[5],se&&(ve=f[5],f[5]=ve?yd(ve,se,g[6]):se,f[6]=ve?Yo(f[5],c):g[6]),se=g[7],se&&(f[7]=se),I&L&&(f[8]=f[8]==null?g[8]:Vi(f[8],g[8])),f[9]==null&&(f[9]=g[9]),f[0]=g[0],f[1]=F,f}function XY(f){var g=[];if(f!=null)for(var E in Wt(f))g.push(E);return g}function YY(f){return to.call(f)}function hN(f,g,E){return g=si(g===n?f.length-1:g,0),function(){for(var I=arguments,F=-1,$=si(I.length-g,0),ne=Ee($);++F<$;)ne[F]=I[g+F];F=-1;for(var se=Ee(g+1);++F<g;)se[F]=I[F];return se[g]=E(ne),gr(f,this,se)}}function dN(f,g){return g.length<2?f:Jo(f,oo(g,0,-1))}function QY(f,g){for(var E=f.length,I=Vi(g.length,E),F=qi(f);I--;){var $=g[I];f[I]=ic($,E)?F[$]:n}return f}function l2(f,g){if(!(g==="constructor"&&typeof f[g]=="function")&&g!="__proto__")return f[g]}var pN=gN(Bw),Yv=fw||function(f,g){return Zt.setTimeout(f,g)},u2=gN(ou);function mN(f,g,E){var I=g+"";return u2(f,VY(I,KY(zY(I),E)))}function gN(f){var g=0,E=0;return function(){var I=pw(),F=te-(I-E);if(E=I,F>0){if(++g>=ie)return arguments[0]}else g=0;return f.apply(n,arguments)}}function qw(f,g){var E=-1,I=f.length,F=I-1;for(g=g===n?I:g;++E<g;){var $=ka(E,F),ne=f[$];f[$]=f[E],f[E]=ne}return f.length=g,f}var vN=jY(function(f){var g=[];return f.charCodeAt(0)===46&&g.push(""),f.replace(pr,function(E,I,F,$){g.push(F?$.replace(kt,"$1"):I||E)}),g});function du(f){if(typeof f=="string"||ta(f))return f;var g=f+"";return g=="0"&&1/f==-fe?"-0":g}function wd(f){if(f!=null){try{return ff.call(f)}catch{}try{return f+""}catch{}}return""}function KY(f,g){return ri(we,function(E){var I="_."+E[0];g&E[1]&&!$o(f,I)&&f.push(I)}),f.sort()}function yN(f){if(f instanceof Bt)return f.clone();var g=new Hi(f.__wrapped__,f.__chain__);return g.__actions__=qi(f.__actions__),g.__index__=f.__index__,g.__values__=f.__values__,g}function ZY(f,g,E){(E?lo(f,g,E):g===n)?g=1:g=si(xn(g),0);var I=f==null?0:f.length;if(!I||g<1)return[];for(var F=0,$=0,ne=Ee(rd(I/g));F<I;)ne[$++]=oo(f,F,F+=g);return ne}function JY(f){for(var g=-1,E=f==null?0:f.length,I=0,F=[];++g<E;){var $=f[g];$&&(F[I++]=$)}return F}function eQ(){var f=arguments.length;if(!f)return[];for(var g=Ee(f-1),E=arguments[0],I=f;I--;)g[I-1]=arguments[I];return Go(cn(E)?qi(E):[E],xi(g,1))}var tQ=Ft(function(f,g){return ai(f)?Ju(f,xi(g,1,ai,!0)):[]}),nQ=Ft(function(f,g){var E=Oa(g);return ai(E)&&(E=n),ai(f)?Ju(f,xi(g,1,ai,!0),Vt(E,2)):[]}),rQ=Ft(function(f,g){var E=Oa(g);return ai(E)&&(E=n),ai(f)?Ju(f,xi(g,1,ai,!0),n,E):[]});function iQ(f,g,E){var I=f==null?0:f.length;return I?(g=E||g===n?1:xn(g),oo(f,g<0?0:g,I)):[]}function sQ(f,g,E){var I=f==null?0:f.length;return I?(g=E||g===n?1:xn(g),g=I-g,oo(f,0,g<0?0:g)):[]}function oQ(f,g){return f&&f.length?vd(f,Vt(g,3),!0,!0):[]}function aQ(f,g){return f&&f.length?vd(f,Vt(g,3),!0):[]}function lQ(f,g,E,I){var F=f==null?0:f.length;return F?(E&&typeof E!="number"&&lo(f,g,E)&&(E=0,I=F),Nw(f,g,E,I)):[]}function xN(f,g,E){var I=f==null?0:f.length;if(!I)return-1;var F=E==null?0:xn(E);return F<0&&(F=si(I+F,0)),ef(f,Vt(g,3),F)}function _N(f,g,E){var I=f==null?0:f.length;if(!I)return-1;var F=I-1;return E!==n&&(F=xn(E),F=E<0?si(I+F,0):Vi(F,I-1)),ef(f,Vt(g,3),F,!0)}function wN(f){var g=f==null?0:f.length;return g?xi(f,1):[]}function uQ(f){var g=f==null?0:f.length;return g?xi(f,fe):[]}function cQ(f,g){var E=f==null?0:f.length;return E?(g=g===n?1:xn(g),xi(f,g)):[]}function fQ(f){for(var g=-1,E=f==null?0:f.length,I={};++g<E;){var F=f[g];I[F[0]]=F[1]}return I}function SN(f){return f&&f.length?f[0]:n}function hQ(f,g,E){var I=f==null?0:f.length;if(!I)return-1;var F=E==null?0:xn(E);return F<0&&(F=si(I+F,0)),jo(f,g,F)}function dQ(f){var g=f==null?0:f.length;return g?oo(f,0,-1):[]}var pQ=Ft(function(f){var g=ur(f,Lm);return g.length&&g[0]===f[0]?yf(g):[]}),mQ=Ft(function(f){var g=Oa(f),E=ur(f,Lm);return g===Oa(E)?g=n:E.pop(),E.length&&E[0]===f[0]?yf(E,Vt(g,2)):[]}),gQ=Ft(function(f){var g=Oa(f),E=ur(f,Lm);return g=typeof g=="function"?g:n,g&&E.pop(),E.length&&E[0]===f[0]?yf(E,n,g):[]});function vQ(f,g){return f==null?"":qC.call(f,g)}function Oa(f){var g=f==null?0:f.length;return g?f[g-1]:n}function yQ(f,g,E){var I=f==null?0:f.length;if(!I)return-1;var F=I;return E!==n&&(F=xn(E),F=F<0?si(I+F,0):Vi(F,I-1)),g===g?lw(f,g,F):ef(f,qh,F,!0)}function xQ(f,g){return f&&f.length?fl(f,xn(g)):n}var _Q=Ft(bN);function bN(f,g){return f&&f.length&&g&&g.length?bf(f,g):f}function wQ(f,g,E){return f&&f.length&&g&&g.length?bf(f,g,Vt(E,2)):f}function SQ(f,g,E){return f&&f.length&&g&&g.length?bf(f,g,n,E):f}var bQ=gn(function(f,g){var E=f==null?0:f.length,I=bm(f,g);return $i(f,ur(g,function(F){return ic(F,E)?+F:F}).sort(hl)),I});function MQ(f,g){var E=[];if(!(f&&f.length))return E;var I=-1,F=[],$=f.length;for(g=Vt(g,3);++I<$;){var ne=f[I];g(ne,I,f)&&(E.push(ne),F.push(I))}return $i(f,F),E}function c2(f){return f==null?f:gw.call(f)}function EQ(f,g,E){var I=f==null?0:f.length;return I?(E&&typeof E!="number"&&lo(f,g,E)?(g=0,E=I):(g=g==null?0:xn(g),E=E===n?I:xn(E)),oo(f,g,E)):[]}function TQ(f,g){return La(f,g)}function CQ(f,g,E){return Im(f,g,Vt(E,2))}function AQ(f,g){var E=f==null?0:f.length;if(E){var I=La(f,g);if(I<E&&dl(f[I],g))return I}return-1}function PQ(f,g){return La(f,g,!0)}function RQ(f,g,E){return Im(f,g,Vt(E,2),!0)}function IQ(f,g){var E=f==null?0:f.length;if(E){var I=La(f,g,!0)-1;if(dl(f[I],g))return I}return-1}function kQ(f){return f&&f.length?Vv(f):[]}function LQ(f,g){return f&&f.length?Vv(f,Vt(g,2)):[]}function DQ(f){var g=f==null?0:f.length;return g?oo(f,1,g):[]}function OQ(f,g,E){return f&&f.length?(g=E||g===n?1:xn(g),oo(f,0,g<0?0:g)):[]}function NQ(f,g,E){var I=f==null?0:f.length;return I?(g=E||g===n?1:xn(g),g=I-g,oo(f,g<0?0:g,I)):[]}function FQ(f,g){return f&&f.length?vd(f,Vt(g,3),!1,!0):[]}function zQ(f,g){return f&&f.length?vd(f,Vt(g,3)):[]}var BQ=Ft(function(f){return au(xi(f,1,ai,!0))}),UQ=Ft(function(f){var g=Oa(f);return ai(g)&&(g=n),au(xi(f,1,ai,!0),Vt(g,2))}),VQ=Ft(function(f){var g=Oa(f);return g=typeof g=="function"?g:n,au(xi(f,1,ai,!0),n,g)});function HQ(f){return f&&f.length?au(f):[]}function WQ(f,g){return f&&f.length?au(f,Vt(g,2)):[]}function $Q(f,g){return g=typeof g=="function"?g:n,f&&f.length?au(f,n,g):[]}function f2(f){if(!(f&&f.length))return[];var g=0;return f=Ui(f,function(E){if(ai(E))return g=si(E.length,g),!0}),al(g,function(E){return ur(f,As(E))})}function MN(f,g){if(!(f&&f.length))return[];var E=f2(f);return g==null?E:ur(E,function(I){return gr(g,n,I)})}var GQ=Ft(function(f,g){return ai(f)?Ju(f,g):[]}),jQ=Ft(function(f){return $v(Ui(f,ai))}),qQ=Ft(function(f){var g=Oa(f);return ai(g)&&(g=n),$v(Ui(f,ai),Vt(g,2))}),XQ=Ft(function(f){var g=Oa(f);return g=typeof g=="function"?g:n,$v(Ui(f,ai),n,g)}),YQ=Ft(f2);function QQ(f,g){return uu(f||[],g||[],Ko)}function KQ(f,g){return uu(f||[],g||[],nc)}var ZQ=Ft(function(f){var g=f.length,E=g>1?f[g-1]:n;return E=typeof E=="function"?(f.pop(),E):n,MN(f,E)});function EN(f){var g=V(f);return g.__chain__=!0,g}function JQ(f,g){return g(f),f}function Xw(f,g){return g(f)}var eK=gn(function(f){var g=f.length,E=g?f[0]:0,I=this.__wrapped__,F=function($){return bm($,f)};return g>1||this.__actions__.length||!(I instanceof Bt)||!ic(E)?this.thru(F):(I=I.slice(E,+E+(g?1:0)),I.__actions__.push({func:Xw,args:[F],thisArg:n}),new Hi(I,this.__chain__).thru(function($){return g&&!$.length&&$.push(n),$}))});function tK(){return EN(this)}function nK(){return new Hi(this.value(),this.__chain__)}function rK(){this.__values__===n&&(this.__values__=BN(this.value()));var f=this.__index__>=this.__values__.length,g=f?n:this.__values__[this.__index__++];return{done:f,value:g}}function iK(){return this}function sK(f){for(var g,E=this;E instanceof ld;){var I=yN(E);I.__index__=0,I.__values__=n,g?F.__wrapped__=I:g=I;var F=I;E=E.__wrapped__}return F.__wrapped__=f,g}function oK(){var f=this.__wrapped__;if(f instanceof Bt){var g=f;return this.__actions__.length&&(g=new Bt(this)),g=g.reverse(),g.__actions__.push({func:Xw,args:[c2],thisArg:n}),new Hi(g,this.__chain__)}return this.thru(c2)}function aK(){return lu(this.__wrapped__,this.__actions__)}var lK=xd(function(f,g,E){Fn.call(f,E)?++f[E]:Ia(f,E,1)});function uK(f,g,E){var I=cn(f)?dv:JC;return E&&lo(f,g,E)&&(g=n),I(f,Vt(g,3))}function cK(f,g){var E=cn(f)?Ui:Dv;return E(f,Vt(g,3))}var fK=C(xN),hK=C(_N);function dK(f,g){return xi(Yw(f,g),1)}function pK(f,g){return xi(Yw(f,g),fe)}function mK(f,g,E){return E=E===n?1:xn(E),xi(Yw(f,g),E)}function TN(f,g){var E=cn(f)?ri:Zo;return E(f,Vt(g,3))}function CN(f,g){var E=cn(f)?hv:Ow;return E(f,Vt(g,3))}var gK=xd(function(f,g,E){Fn.call(f,E)?f[E].push(g):Ia(f,E,[g])});function vK(f,g,E,I){f=Ao(f)?f:Um(f),E=E&&!I?xn(E):0;var F=f.length;return E<0&&(E=si(F+E,0)),eS(f)?E<=F&&f.indexOf(g,E)>-1:!!F&&jo(f,g,E)>-1}var yK=Ft(function(f,g,E){var I=-1,F=typeof g=="function",$=Ao(f)?Ee(f.length):[];return Zo(f,function(ne){$[++I]=F?gr(g,ne,E):fr(ne,g,E)}),$}),xK=xd(function(f,g,E){Ia(f,E,g)});function Yw(f,g){var E=cn(f)?ur:tc;return E(f,Vt(g,3))}function _K(f,g,E,I){return f==null?[]:(cn(g)||(g=g==null?[]:[g]),E=I?n:E,cn(E)||(E=E==null?[]:[E]),md(f,g,E))}var wK=xd(function(f,g,E){f[E?0:1].push(g)},function(){return[[],[]]});function SK(f,g,E){var I=cn(f)?dm:Zl,F=arguments.length<3;return I(f,Vt(g,4),E,F,Zo)}function bK(f,g,E){var I=cn(f)?tw:Zl,F=arguments.length<3;return I(f,Vt(g,4),E,F,Ow)}function MK(f,g){var E=cn(f)?Ui:Dv;return E(f,Zw(Vt(g,3)))}function EK(f){var g=cn(f)?ud:zw;return g(f)}function TK(f,g,E){(E?lo(f,g,E):g===n)?g=1:g=xn(g);var I=cn(f)?Av:Bv;return I(f,g)}function CK(f){var g=cn(f)?Lw:Uw;return g(f)}function AK(f){if(f==null)return 0;if(Ao(f))return eS(f)?Ta(f):f.length;var g=Rs(f);return g==qe||g==Nt?f.size:Wi(f).length}function PK(f,g,E){var I=cn(f)?jh:Uv;return E&&lo(f,g,E)&&(g=n),I(f,Vt(g,3))}var RK=Ft(function(f,g){if(f==null)return[];var E=g.length;return E>1&&lo(f,g[0],g[1])?g=[]:E>2&&lo(g[0],g[1],g[2])&&(g=[g[0]]),md(f,xi(g,1),[])}),Qw=cw||function(){return Zt.Date.now()};function IK(f,g){if(typeof g!="function")throw new us(o);return f=xn(f),function(){if(--f<1)return g.apply(this,arguments)}}function AN(f,g,E){return g=E?n:g,g=f&&g==null?f.length:g,_e(f,L,n,n,n,n,g)}function PN(f,g){var E;if(typeof g!="function")throw new us(o);return f=xn(f),function(){return--f>0&&(E=g.apply(this,arguments)),f<=1&&(g=n),E}}var h2=Ft(function(f,g,E){var I=_;if(E.length){var F=Yo(E,zm(h2));I|=A}return _e(f,I,g,E,F)}),RN=Ft(function(f,g,E){var I=_|b;if(E.length){var F=Yo(E,zm(RN));I|=A}return _e(g,I,f,E,F)});function IN(f,g,E){g=E?n:g;var I=_e(f,w,n,n,n,n,n,g);return I.placeholder=IN.placeholder,I}function kN(f,g,E){g=E?n:g;var I=_e(f,T,n,n,n,n,n,g);return I.placeholder=kN.placeholder,I}function LN(f,g,E){var I,F,$,ne,se,ve,ze=0,Ue=!1,Ge=!1,ut=!0;if(typeof f!="function")throw new us(o);g=Na(g)||0,zr(E)&&(Ue=!!E.leading,Ge="maxWait"in E,$=Ge?si(Na(E.maxWait)||0,g):$,ut="trailing"in E?!!E.trailing:ut);function Rt(li){var pl=I,ac=F;return I=F=n,ze=li,ne=f.apply(ac,pl),ne}function $t(li){return ze=li,se=Yv(Pn,g),Ue?Rt(li):ne}function Sn(li){var pl=li-ve,ac=li-ze,ZN=g-pl;return Ge?Vi(ZN,$-ac):ZN}function Gt(li){var pl=li-ve,ac=li-ze;return ve===n||pl>=g||pl<0||Ge&&ac>=$}function Pn(){var li=Qw();if(Gt(li))return Dn(li);se=Yv(Pn,Sn(li))}function Dn(li){return se=n,ut&&I?Rt(li):(I=F=n,ne)}function na(){se!==n&&Hw(se),ze=0,I=ve=F=se=n}function uo(){return se===n?ne:Dn(Qw())}function ra(){var li=Qw(),pl=Gt(li);if(I=arguments,F=this,ve=li,pl){if(se===n)return $t(ve);if(Ge)return Hw(se),se=Yv(Pn,g),Rt(ve)}return se===n&&(se=Yv(Pn,g)),ne}return ra.cancel=na,ra.flush=uo,ra}var kK=Ft(function(f,g){return Lv(f,1,g)}),LK=Ft(function(f,g,E){return Lv(f,Na(g)||0,E)});function DK(f){return _e(f,O)}function Kw(f,g){if(typeof f!="function"||g!=null&&typeof g!="function")throw new us(o);var E=function(){var I=arguments,F=g?g.apply(this,I):I[0],$=E.cache;if($.has(F))return $.get(F);var ne=f.apply(this,I);return E.cache=$.set(F,ne)||$,ne};return E.cache=new(Kw.Cache||Mo),E}Kw.Cache=Mo;function Zw(f){if(typeof f!="function")throw new us(o);return function(){var g=arguments;switch(g.length){case 0:return!f.call(this);case 1:return!f.call(this,g[0]);case 2:return!f.call(this,g[0],g[1]);case 3:return!f.call(this,g[0],g[1],g[2])}return!f.apply(this,g)}}function OK(f){return PN(2,f)}var NK=Vw(function(f,g){g=g.length==1&&cn(g[0])?ur(g[0],as(Vt())):ur(xi(g,1),as(Vt()));var E=g.length;return Ft(function(I){for(var F=-1,$=Vi(I.length,E);++F<$;)I[F]=g[F].call(this,I[F]);return gr(f,this,I)})}),d2=Ft(function(f,g){var E=Yo(g,zm(d2));return _e(f,A,n,g,E)}),DN=Ft(function(f,g){var E=Yo(g,zm(DN));return _e(f,k,n,g,E)}),FK=gn(function(f,g){return _e(f,P,n,n,n,g)});function zK(f,g){if(typeof f!="function")throw new us(o);return g=g===n?g:xn(g),Ft(f,g)}function BK(f,g){if(typeof f!="function")throw new us(o);return g=g==null?0:si(xn(g),0),Ft(function(E){var I=E[g],F=fu(E,0,g);return I&&Go(F,I),gr(f,this,F)})}function UK(f,g,E){var I=!0,F=!0;if(typeof f!="function")throw new us(o);return zr(E)&&(I="leading"in E?!!E.leading:I,F="trailing"in E?!!E.trailing:F),LN(f,g,{leading:I,maxWait:g,trailing:F})}function VK(f){return AN(f,1)}function HK(f,g){return d2(ji(g),f)}function WK(){if(!arguments.length)return[];var f=arguments[0];return cn(f)?f:[f]}function $K(f){return ro(f,v)}function GK(f,g){return g=typeof g=="function"?g:n,ro(f,v,g)}function jK(f){return ro(f,p|v)}function qK(f,g){return g=typeof g=="function"?g:n,ro(f,p|v,g)}function XK(f,g){return g==null||Mm(f,g,Yi(g))}function dl(f,g){return f===g||f!==f&&g!==g}var YK=Lt(hd),QK=Lt(function(f,g){return f>=g}),Sd=pn(function(){return arguments}())?pn:function(f){return Xr(f)&&Fn.call(f,"callee")&&!ym.call(f,"callee")},cn=Ee.isArray,KK=Ql?as(Ql):Gr;function Ao(f){return f!=null&&Jw(f.length)&&!sc(f)}function ai(f){return Xr(f)&&Ao(f)}function ZK(f){return f===!0||f===!1||Xr(f)&&Ci(f)==Be}var Ef=hw||M2,JK=Kl?as(Kl):jr;function eZ(f){return Xr(f)&&f.nodeType===1&&!Qv(f)}function tZ(f){if(f==null)return!0;if(Ao(f)&&(cn(f)||typeof f=="string"||typeof f.splice=="function"||Ef(f)||Bm(f)||Sd(f)))return!f.length;var g=Rs(f);if(g==qe||g==Nt)return!f.size;if(Xv(f))return!Wi(f).length;for(var E in f)if(Fn.call(f,E))return!1;return!0}function nZ(f,g){return Nr(f,g)}function rZ(f,g,E){E=typeof E=="function"?E:n;var I=E?E(f,g):n;return I===n?Nr(f,g,n,E):!!I}function p2(f){if(!Xr(f))return!1;var g=Ci(f);return g==pt||g==Fe||typeof f.message=="string"&&typeof f.name=="string"&&!Qv(f)}function iZ(f){return typeof f=="number"&&Sv(f)}function sc(f){if(!zr(f))return!1;var g=Ci(f);return g==Ie||g==Ae||g==We||g==Mt}function ON(f){return typeof f=="number"&&f==xn(f)}function Jw(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=z}function zr(f){var g=typeof f;return f!=null&&(g=="object"||g=="function")}function Xr(f){return f!=null&&typeof f=="object"}var NN=Zc?as(Zc):xf;function sZ(f,g){return f===g||Fr(f,g,i2(g))}function oZ(f,g,E){return E=typeof E=="function"?E:n,Fr(f,g,i2(g),E)}function aZ(f){return FN(f)&&f!=+f}function lZ(f){if(GY(f))throw new Xt(s);return _f(f)}function uZ(f){return f===null}function cZ(f){return f==null}function FN(f){return typeof f=="number"||Xr(f)&&Ci(f)==ct}function Qv(f){if(!Xr(f)||Ci(f)!=St)return!1;var g=td(f);if(g===null)return!0;var E=Fn.call(g,"constructor")&&g.constructor;return typeof E=="function"&&E instanceof E&&ff.call(E)==Xu}var m2=fm?as(fm):wf;function fZ(f){return ON(f)&&f>=-z&&f<=z}var zN=hm?as(hm):Tm;function eS(f){return typeof f=="string"||!cn(f)&&Xr(f)&&Ci(f)==Q}function ta(f){return typeof f=="symbol"||Xr(f)&&Ci(f)==W}var Bm=ju?as(ju):Fv;function hZ(f){return f===n}function dZ(f){return Xr(f)&&Rs(f)==$e}function pZ(f){return Xr(f)&&Ci(f)==Ke}var mZ=Lt(dd),gZ=Lt(function(f,g){return f<=g});function BN(f){if(!f)return[];if(Ao(f))return eS(f)?Cr(f):qi(f);if(nu&&f[nu])return rf(f[nu]());var g=Rs(f),E=g==qe?Qh:g==Nt?Kh:Um;return E(f)}function oc(f){if(!f)return f===0?f:0;if(f=Na(f),f===fe||f===-fe){var g=f<0?-1:1;return g*Y}return f===f?f:0}function xn(f){var g=oc(f),E=g%1;return g===g?E?g-E:g:0}function UN(f){return f?su(xn(f),0,B):0}function Na(f){if(typeof f=="number")return f;if(ta(f))return Z;if(zr(f)){var g=typeof f.valueOf=="function"?f.valueOf():f;f=zr(g)?g+"":g}if(typeof f!="string")return f===0?f:+f;f=mm(f);var E=En.test(f);return E||wn.test(f)?ht(f.slice(2),E?2:8):un.test(f)?Z:+f}function VN(f){return Co(f,Po(f))}function vZ(f){return f?su(xn(f),-z,z):f===0?f:0}function Qn(f){return f==null?"":Gi(f)}var yZ=rc(function(f,g){if(Xv(g)||Ao(g)){Co(g,Yi(g),f);return}for(var E in g)Fn.call(g,E)&&Ko(f,E,g[E])}),HN=rc(function(f,g){Co(g,Po(g),f)}),tS=rc(function(f,g,E,I){Co(g,Po(g),f,I)}),xZ=rc(function(f,g,E,I){Co(g,Yi(g),f,I)}),_Z=gn(bm);function wZ(f,g){var E=cl(f);return g==null?E:Iv(E,g)}var SZ=Ft(function(f,g){f=Wt(f);var E=-1,I=g.length,F=I>2?g[2]:n;for(F&&lo(g[0],g[1],F)&&(I=1);++E<I;)for(var $=g[E],ne=Po($),se=-1,ve=ne.length;++se<ve;){var ze=ne[se],Ue=f[ze];(Ue===n||dl(Ue,cf[ze])&&!Fn.call(f,ze))&&(f[ze]=$[ze])}return f}),bZ=Ft(function(f){return f.push(n,Ce),gr(WN,n,f)});function MZ(f,g){return pv(f,Vt(g,3),io)}function EZ(f,g){return pv(f,Vt(g,3),vf)}function TZ(f,g){return f==null?f:gf(f,Vt(g,3),Po)}function CZ(f,g){return f==null?f:fd(f,Vt(g,3),Po)}function AZ(f,g){return f&&io(f,Vt(g,3))}function PZ(f,g){return f&&vf(f,Vt(g,3))}function RZ(f){return f==null?[]:ec(f,Yi(f))}function IZ(f){return f==null?[]:ec(f,Po(f))}function g2(f,g,E){var I=f==null?n:Jo(f,g);return I===n?E:I}function kZ(f,g){return f!=null&&lN(f,g,Fw)}function v2(f,g){return f!=null&&lN(f,g,Ov)}var LZ=K(function(f,g,E){g!=null&&typeof g.toString!="function"&&(g=to.call(g)),f[g]=E},x2(Ro)),DZ=K(function(f,g,E){g!=null&&typeof g.toString!="function"&&(g=to.call(g)),Fn.call(f,g)?f[g].push(E):f[g]=[E]},Vt),OZ=Ft(fr);function Yi(f){return Ao(f)?lt(f):Wi(f)}function Po(f){return Ao(f)?lt(f,!0):zv(f)}function NZ(f,g){var E={};return g=Vt(g,3),io(f,function(I,F,$){Ia(E,g(I,F,$),I)}),E}function FZ(f,g){var E={};return g=Vt(g,3),io(f,function(I,F,$){Ia(E,F,g(I,F,$))}),E}var zZ=rc(function(f,g,E){ea(f,g,E)}),WN=rc(function(f,g,E,I){ea(f,g,E,I)}),BZ=gn(function(f,g){var E={};if(f==null)return E;var I=!1;g=ur(g,function($){return $=cu($,f),I||(I=$.length>1),$}),Co(f,Rn(f),E),I&&(E=ro(E,p|m|v,ft));for(var F=g.length;F--;)Hv(E,g[F]);return E});function UZ(f,g){return $N(f,Zw(Vt(g)))}var VZ=gn(function(f,g){return f==null?{}:gd(f,g)});function $N(f,g){if(f==null)return{};var E=ur(Rn(f),function(I){return[I]});return g=Vt(g),Pm(f,E,function(I,F){return g(I,F[0])})}function HZ(f,g,E){g=cu(g,f);var I=-1,F=g.length;for(F||(F=1,f=n);++I<F;){var $=f==null?n:f[du(g[I])];$===n&&(I=F,$=E),f=sc($)?$.call(f):$}return f}function WZ(f,g,E){return f==null?f:nc(f,g,E)}function $Z(f,g,E,I){return I=typeof I=="function"?I:n,f==null?f:nc(f,g,E,I)}var GN=ao(Yi),jN=ao(Po);function GZ(f,g,E){var I=cn(f),F=I||Ef(f)||Bm(f);if(g=Vt(g,4),E==null){var $=f&&f.constructor;F?E=I?new $:[]:zr(f)?E=sc($)?cl(td(f)):{}:E={}}return(F?ri:io)(f,function(ne,se,ve){return g(E,ne,se,ve)}),E}function jZ(f,g){return f==null?!0:Hv(f,g)}function qZ(f,g,E){return f==null?f:Wv(f,g,ji(E))}function XZ(f,g,E,I){return I=typeof I=="function"?I:n,f==null?f:Wv(f,g,ji(E),I)}function Um(f){return f==null?[]:ls(f,Yi(f))}function YZ(f){return f==null?[]:ls(f,Po(f))}function QZ(f,g,E){return E===n&&(E=g,g=n),E!==n&&(E=Na(E),E=E===E?E:0),g!==n&&(g=Na(g),g=g===g?g:0),su(Na(f),g,E)}function KZ(f,g,E){return g=oc(g),E===n?(E=g,g=0):E=oc(E),f=Na(f),e2(f,g,E)}function ZZ(f,g,E){if(E&&typeof E!="boolean"&&lo(f,g,E)&&(g=E=n),E===n&&(typeof g=="boolean"?(E=g,g=n):typeof f=="boolean"&&(E=f,f=n)),f===n&&g===n?(f=0,g=1):(f=oc(f),g===n?(g=f,f=0):g=oc(g)),f>g){var I=f;f=g,g=I}if(E||f%1||g%1){var F=bv();return Vi(f+F*(g-f+Se("1e-"+((F+"").length-1))),g)}return ka(f,g)}var JZ=h(function(f,g,E){return g=g.toLowerCase(),f+(E?qN(g):g)});function qN(f){return y2(Qn(f).toLowerCase())}function XN(f){return f=Qn(f),f&&f.replace(Ei,sw).replace(Dr,"")}function eJ(f,g,E){f=Qn(f),g=Gi(g);var I=f.length;E=E===n?I:su(xn(E),0,I);var F=E;return E-=g.length,E>=0&&f.slice(E,F)==g}function tJ(f){return f=Qn(f),f&&ln.test(f)?f.replace(at,ow):f}function nJ(f){return f=Qn(f),f&&Vh.test(f)?f.replace(Hl,"\\$&"):f}var rJ=h(function(f,g,E){return f+(E?"-":"")+g.toLowerCase()}),iJ=h(function(f,g,E){return f+(E?" ":"")+g.toLowerCase()}),sJ=Gw("toLowerCase");function oJ(f,g,E){f=Qn(f),g=xn(g);var I=g?Ta(f):0;if(!g||I>=g)return f;var F=(g-I)/2;return Ze(id(F),E)+f+Ze(rd(F),E)}function aJ(f,g,E){f=Qn(f),g=xn(g);var I=g?Ta(f):0;return g&&I<g?f+Ze(g-I,E):f}function lJ(f,g,E){f=Qn(f),g=xn(g);var I=g?Ta(f):0;return g&&I<g?Ze(g-I,E)+f:f}function uJ(f,g,E){return E||g==null?g=0:g&&(g=+g),mw(Qn(f).replace(Wl,""),g||0)}function cJ(f,g,E){return(E?lo(f,g,E):g===n)?g=1:g=xn(g),Mf(Qn(f),g)}function fJ(){var f=arguments,g=Qn(f[0]);return f.length<3?g:g.replace(f[1],f[2])}var hJ=h(function(f,g,E){return f+(E?"_":"")+g.toLowerCase()});function dJ(f,g,E){return E&&typeof E!="number"&&lo(f,g,E)&&(g=E=n),E=E===n?B:E>>>0,E?(f=Qn(f),f&&(typeof g=="string"||g!=null&&!m2(g))&&(g=Gi(g),!g&&qu(f))?fu(Cr(f),0,E):f.split(g,E)):[]}var pJ=h(function(f,g,E){return f+(E?" ":"")+y2(g)});function mJ(f,g,E){return f=Qn(f),E=E==null?0:su(xn(E),0,f.length),g=Gi(g),f.slice(E,E+g.length)==g}function gJ(f,g,E){var I=V.templateSettings;E&&lo(f,g,E)&&(g=n),f=Qn(f),g=tS({},g,I,ge);var F=tS({},g.imports,I.imports,ge),$=Yi(F),ne=ls(F,$),se,ve,ze=0,Ue=g.interpolate||mi,Ge="__p += '",ut=vi((g.escape||mi).source+"|"+Ue.source+"|"+(Ue===Xs?qt:mi).source+"|"+(g.evaluate||mi).source+"|$","g"),Rt="//# sourceURL="+(Fn.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Js+"]")+`
`;f.replace(ut,function(Gt,Pn,Dn,na,uo,ra){return Dn||(Dn=na),Ge+=f.slice(ze,ra).replace(Ho,mv),Pn&&(se=!0,Ge+=`' +
__e(`+Pn+`) +
'`),uo&&(ve=!0,Ge+=`';
`+uo+`;
__p += '`),Dn&&(Ge+=`' +
((__t = (`+Dn+`)) == null ? '' : __t) +
'`),ze=ra+Gt.length,Gt}),Ge+=`';
`;var $t=Fn.call(g,"variable")&&g.variable;if(!$t)Ge=`with (obj) {
`+Ge+`
}
`;else if(Oe.test($t))throw new Xt(a);Ge=(ve?Ge.replace(tr,""):Ge).replace(de,"$1").replace(Pe,"$1;"),Ge="function("+($t||"obj")+`) {
`+($t?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(se?", __e = _.escape":"")+(ve?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ge+`return __p
}`;var Sn=QN(function(){return on($,Rt+"return "+Ge).apply(n,ne)});if(Sn.source=Ge,p2(Sn))throw Sn;return Sn}function vJ(f){return Qn(f).toLowerCase()}function yJ(f){return Qn(f).toUpperCase()}function xJ(f,g,E){if(f=Qn(f),f&&(E||g===n))return mm(f);if(!f||!(g=Gi(g)))return f;var I=Cr(f),F=Cr(g),$=cr(I,F),ne=nf(I,F)+1;return fu(I,$,ne).join("")}function _J(f,g,E){if(f=Qn(f),f&&(E||g===n))return f.slice(0,af(f)+1);if(!f||!(g=Gi(g)))return f;var I=Cr(f),F=nf(I,Cr(g))+1;return fu(I,0,F).join("")}function wJ(f,g,E){if(f=Qn(f),f&&(E||g===n))return f.replace(Wl,"");if(!f||!(g=Gi(g)))return f;var I=Cr(f),F=cr(I,Cr(g));return fu(I,F).join("")}function SJ(f,g){var E=N,I=H;if(zr(g)){var F="separator"in g?g.separator:F;E="length"in g?xn(g.length):E,I="omission"in g?Gi(g.omission):I}f=Qn(f);var $=f.length;if(qu(f)){var ne=Cr(f);$=ne.length}if(E>=$)return f;var se=E-Ta(I);if(se<1)return I;var ve=ne?fu(ne,0,se).join(""):f.slice(0,se);if(F===n)return ve+I;if(ne&&(se+=ve.length-se),m2(F)){if(f.slice(se).search(F)){var ze,Ue=ve;for(F.global||(F=vi(F.source,Qn(Ht.exec(F))+"g")),F.lastIndex=0;ze=F.exec(Ue);)var Ge=ze.index;ve=ve.slice(0,Ge===n?se:Ge)}}else if(f.indexOf(Gi(F),se)!=se){var ut=ve.lastIndexOf(F);ut>-1&&(ve=ve.slice(0,ut))}return ve+I}function bJ(f){return f=Qn(f),f&&Tt.test(f)?f.replace(Ve,lf):f}var MJ=h(function(f,g,E){return f+(E?" ":"")+g.toUpperCase()}),y2=Gw("toUpperCase");function YN(f,g,E){return f=Qn(f),g=E?n:g,g===n?Yh(f)?uf(f):rw(f):f.match(g)||[]}var QN=Ft(function(f,g){try{return gr(f,n,g)}catch(E){return p2(E)?E:new Xt(E)}}),EJ=gn(function(f,g){return ri(g,function(E){E=du(E),Ia(f,E,h2(f[E],f))}),f});function TJ(f){var g=f==null?0:f.length,E=Vt();return f=g?ur(f,function(I){if(typeof I[1]!="function")throw new us(o);return[E(I[0]),I[1]]}):[],Ft(function(I){for(var F=-1;++F<g;){var $=f[F];if(gr($[0],this,I))return gr($[1],this,I)}})}function CJ(f){return kv(ro(f,p))}function x2(f){return function(){return f}}function AJ(f,g){return f==null||f!==f?g:f}var PJ=R(),RJ=R(!0);function Ro(f){return f}function _2(f){return Sf(typeof f=="function"?f:ro(f,p))}function IJ(f){return pd(ro(f,p))}function kJ(f,g){return Cm(f,ro(g,p))}var LJ=Ft(function(f,g){return function(E){return fr(E,f,g)}}),DJ=Ft(function(f,g){return function(E){return fr(f,E,g)}});function w2(f,g,E){var I=Yi(g),F=ec(g,I);E==null&&!(zr(g)&&(F.length||!I.length))&&(E=g,g=f,f=this,F=ec(g,Yi(g)));var $=!(zr(E)&&"chain"in E)||!!E.chain,ne=sc(f);return ri(F,function(se){var ve=g[se];f[se]=ve,ne&&(f.prototype[se]=function(){var ze=this.__chain__;if($||ze){var Ue=f(this.__wrapped__),Ge=Ue.__actions__=qi(this.__actions__);return Ge.push({func:ve,args:arguments,thisArg:f}),Ue.__chain__=ze,Ue}return ve.apply(f,Go([this.value()],arguments))})}),f}function OJ(){return Zt._===this&&(Zt._=gm),this}function S2(){}function NJ(f){return f=xn(f),Ft(function(g){return fl(g,f)})}var FJ=Re(ur),zJ=Re(dv),BJ=Re(jh);function KN(f){return o2(f)?As(du(f)):Rm(f)}function UJ(f){return function(g){return f==null?n:Jo(f,g)}}var VJ=tn(),HJ=tn(!0);function b2(){return[]}function M2(){return!1}function WJ(){return{}}function $J(){return""}function GJ(){return!0}function jJ(f,g){if(f=xn(f),f<1||f>z)return[];var E=B,I=Vi(f,B);g=Vt(g),f-=B;for(var F=al(I,g);++E<f;)g(E);return F}function qJ(f){return cn(f)?ur(f,du):ta(f)?[f]:qi(vN(Qn(f)))}function XJ(f){var g=++yv;return Qn(f)+g}var YJ=he(function(f,g){return f+g},0),QJ=Ct("ceil"),KJ=he(function(f,g){return f/g},1),ZJ=Ct("floor");function JJ(f){return f&&f.length?cd(f,Ro,hd):n}function eee(f,g){return f&&f.length?cd(f,Vt(g,2),hd):n}function tee(f){return Xh(f,Ro)}function nee(f,g){return Xh(f,Vt(g,2))}function ree(f){return f&&f.length?cd(f,Ro,dd):n}function iee(f,g){return f&&f.length?cd(f,Vt(g,2),dd):n}var see=he(function(f,g){return f*g},1),oee=Ct("round"),aee=he(function(f,g){return f-g},0);function lee(f){return f&&f.length?qo(f,Ro):0}function uee(f,g){return f&&f.length?qo(f,Vt(g,2)):0}return V.after=IK,V.ary=AN,V.assign=yZ,V.assignIn=HN,V.assignInWith=tS,V.assignWith=xZ,V.at=_Z,V.before=PN,V.bind=h2,V.bindAll=EJ,V.bindKey=RN,V.castArray=WK,V.chain=EN,V.chunk=ZY,V.compact=JY,V.concat=eQ,V.cond=TJ,V.conforms=CJ,V.constant=x2,V.countBy=lK,V.create=wZ,V.curry=IN,V.curryRight=kN,V.debounce=LN,V.defaults=SZ,V.defaultsDeep=bZ,V.defer=kK,V.delay=LK,V.difference=tQ,V.differenceBy=nQ,V.differenceWith=rQ,V.drop=iQ,V.dropRight=sQ,V.dropRightWhile=oQ,V.dropWhile=aQ,V.fill=lQ,V.filter=cK,V.flatMap=dK,V.flatMapDeep=pK,V.flatMapDepth=mK,V.flatten=wN,V.flattenDeep=uQ,V.flattenDepth=cQ,V.flip=DK,V.flow=PJ,V.flowRight=RJ,V.fromPairs=fQ,V.functions=RZ,V.functionsIn=IZ,V.groupBy=gK,V.initial=dQ,V.intersection=pQ,V.intersectionBy=mQ,V.intersectionWith=gQ,V.invert=LZ,V.invertBy=DZ,V.invokeMap=yK,V.iteratee=_2,V.keyBy=xK,V.keys=Yi,V.keysIn=Po,V.map=Yw,V.mapKeys=NZ,V.mapValues=FZ,V.matches=IJ,V.matchesProperty=kJ,V.memoize=Kw,V.merge=zZ,V.mergeWith=WN,V.method=LJ,V.methodOf=DJ,V.mixin=w2,V.negate=Zw,V.nthArg=NJ,V.omit=BZ,V.omitBy=UZ,V.once=OK,V.orderBy=_K,V.over=FJ,V.overArgs=NK,V.overEvery=zJ,V.overSome=BJ,V.partial=d2,V.partialRight=DN,V.partition=wK,V.pick=VZ,V.pickBy=$N,V.property=KN,V.propertyOf=UJ,V.pull=_Q,V.pullAll=bN,V.pullAllBy=wQ,V.pullAllWith=SQ,V.pullAt=bQ,V.range=VJ,V.rangeRight=HJ,V.rearg=FK,V.reject=MK,V.remove=MQ,V.rest=zK,V.reverse=c2,V.sampleSize=TK,V.set=WZ,V.setWith=$Z,V.shuffle=CK,V.slice=EQ,V.sortBy=RK,V.sortedUniq=kQ,V.sortedUniqBy=LQ,V.split=dJ,V.spread=BK,V.tail=DQ,V.take=OQ,V.takeRight=NQ,V.takeRightWhile=FQ,V.takeWhile=zQ,V.tap=JQ,V.throttle=UK,V.thru=Xw,V.toArray=BN,V.toPairs=GN,V.toPairsIn=jN,V.toPath=qJ,V.toPlainObject=VN,V.transform=GZ,V.unary=VK,V.union=BQ,V.unionBy=UQ,V.unionWith=VQ,V.uniq=HQ,V.uniqBy=WQ,V.uniqWith=$Q,V.unset=jZ,V.unzip=f2,V.unzipWith=MN,V.update=qZ,V.updateWith=XZ,V.values=Um,V.valuesIn=YZ,V.without=GQ,V.words=YN,V.wrap=HK,V.xor=jQ,V.xorBy=qQ,V.xorWith=XQ,V.zip=YQ,V.zipObject=QQ,V.zipObjectDeep=KQ,V.zipWith=ZQ,V.entries=GN,V.entriesIn=jN,V.extend=HN,V.extendWith=tS,w2(V,V),V.add=YJ,V.attempt=QN,V.camelCase=JZ,V.capitalize=qN,V.ceil=QJ,V.clamp=QZ,V.clone=$K,V.cloneDeep=jK,V.cloneDeepWith=qK,V.cloneWith=GK,V.conformsTo=XK,V.deburr=XN,V.defaultTo=AJ,V.divide=KJ,V.endsWith=eJ,V.eq=dl,V.escape=tJ,V.escapeRegExp=nJ,V.every=uK,V.find=fK,V.findIndex=xN,V.findKey=MZ,V.findLast=hK,V.findLastIndex=_N,V.findLastKey=EZ,V.floor=ZJ,V.forEach=TN,V.forEachRight=CN,V.forIn=TZ,V.forInRight=CZ,V.forOwn=AZ,V.forOwnRight=PZ,V.get=g2,V.gt=YK,V.gte=QK,V.has=kZ,V.hasIn=v2,V.head=SN,V.identity=Ro,V.includes=vK,V.indexOf=hQ,V.inRange=KZ,V.invoke=OZ,V.isArguments=Sd,V.isArray=cn,V.isArrayBuffer=KK,V.isArrayLike=Ao,V.isArrayLikeObject=ai,V.isBoolean=ZK,V.isBuffer=Ef,V.isDate=JK,V.isElement=eZ,V.isEmpty=tZ,V.isEqual=nZ,V.isEqualWith=rZ,V.isError=p2,V.isFinite=iZ,V.isFunction=sc,V.isInteger=ON,V.isLength=Jw,V.isMap=NN,V.isMatch=sZ,V.isMatchWith=oZ,V.isNaN=aZ,V.isNative=lZ,V.isNil=cZ,V.isNull=uZ,V.isNumber=FN,V.isObject=zr,V.isObjectLike=Xr,V.isPlainObject=Qv,V.isRegExp=m2,V.isSafeInteger=fZ,V.isSet=zN,V.isString=eS,V.isSymbol=ta,V.isTypedArray=Bm,V.isUndefined=hZ,V.isWeakMap=dZ,V.isWeakSet=pZ,V.join=vQ,V.kebabCase=rJ,V.last=Oa,V.lastIndexOf=yQ,V.lowerCase=iJ,V.lowerFirst=sJ,V.lt=mZ,V.lte=gZ,V.max=JJ,V.maxBy=eee,V.mean=tee,V.meanBy=nee,V.min=ree,V.minBy=iee,V.stubArray=b2,V.stubFalse=M2,V.stubObject=WJ,V.stubString=$J,V.stubTrue=GJ,V.multiply=see,V.nth=xQ,V.noConflict=OJ,V.noop=S2,V.now=Qw,V.pad=oJ,V.padEnd=aJ,V.padStart=lJ,V.parseInt=uJ,V.random=ZZ,V.reduce=SK,V.reduceRight=bK,V.repeat=cJ,V.replace=fJ,V.result=HZ,V.round=oee,V.runInContext=oe,V.sample=EK,V.size=AK,V.snakeCase=hJ,V.some=PK,V.sortedIndex=TQ,V.sortedIndexBy=CQ,V.sortedIndexOf=AQ,V.sortedLastIndex=PQ,V.sortedLastIndexBy=RQ,V.sortedLastIndexOf=IQ,V.startCase=pJ,V.startsWith=mJ,V.subtract=aee,V.sum=lee,V.sumBy=uee,V.template=gJ,V.times=jJ,V.toFinite=oc,V.toInteger=xn,V.toLength=UN,V.toLower=vJ,V.toNumber=Na,V.toSafeInteger=vZ,V.toString=Qn,V.toUpper=yJ,V.trim=xJ,V.trimEnd=_J,V.trimStart=wJ,V.truncate=SJ,V.unescape=bJ,V.uniqueId=XJ,V.upperCase=MJ,V.upperFirst=y2,V.each=TN,V.eachRight=CN,V.first=SN,w2(V,function(){var f={};return io(V,function(g,E){Fn.call(V.prototype,E)||(f[E]=g)}),f}(),{chain:!1}),V.VERSION=r,ri(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){V[f].placeholder=V}),ri(["drop","take"],function(f,g){Bt.prototype[f]=function(E){E=E===n?1:si(xn(E),0);var I=this.__filtered__&&!g?new Bt(this):this.clone();return I.__filtered__?I.__takeCount__=Vi(E,I.__takeCount__):I.__views__.push({size:Vi(E,B),type:f+(I.__dir__<0?"Right":"")}),I},Bt.prototype[f+"Right"]=function(E){return this.reverse()[f](E).reverse()}}),ri(["filter","map","takeWhile"],function(f,g){var E=g+1,I=E==ee||E==ae;Bt.prototype[f]=function(F){var $=this.clone();return $.__iteratees__.push({iteratee:Vt(F,3),type:E}),$.__filtered__=$.__filtered__||I,$}}),ri(["head","last"],function(f,g){var E="take"+(g?"Right":"");Bt.prototype[f]=function(){return this[E](1).value()[0]}}),ri(["initial","tail"],function(f,g){var E="drop"+(g?"":"Right");Bt.prototype[f]=function(){return this.__filtered__?new Bt(this):this[E](1)}}),Bt.prototype.compact=function(){return this.filter(Ro)},Bt.prototype.find=function(f){return this.filter(f).head()},Bt.prototype.findLast=function(f){return this.reverse().find(f)},Bt.prototype.invokeMap=Ft(function(f,g){return typeof f=="function"?new Bt(this):this.map(function(E){return fr(E,f,g)})}),Bt.prototype.reject=function(f){return this.filter(Zw(Vt(f)))},Bt.prototype.slice=function(f,g){f=xn(f);var E=this;return E.__filtered__&&(f>0||g<0)?new Bt(E):(f<0?E=E.takeRight(-f):f&&(E=E.drop(f)),g!==n&&(g=xn(g),E=g<0?E.dropRight(-g):E.take(g-f)),E)},Bt.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Bt.prototype.toArray=function(){return this.take(B)},io(Bt.prototype,function(f,g){var E=/^(?:filter|find|map|reject)|While$/.test(g),I=/^(?:head|last)$/.test(g),F=V[I?"take"+(g=="last"?"Right":""):g],$=I||/^find/.test(g);!F||(V.prototype[g]=function(){var ne=this.__wrapped__,se=I?[1]:arguments,ve=ne instanceof Bt,ze=se[0],Ue=ve||cn(ne),Ge=function(Pn){var Dn=F.apply(V,Go([Pn],se));return I&&ut?Dn[0]:Dn};Ue&&E&&typeof ze=="function"&&ze.length!=1&&(ve=Ue=!1);var ut=this.__chain__,Rt=!!this.__actions__.length,$t=$&&!ut,Sn=ve&&!Rt;if(!$&&Ue){ne=Sn?ne:new Bt(this);var Gt=f.apply(ne,se);return Gt.__actions__.push({func:Xw,args:[Ge],thisArg:n}),new Hi(Gt,ut)}return $t&&Sn?f.apply(this,se):(Gt=this.thru(Ge),$t?I?Gt.value()[0]:Gt.value():Gt)})}),ri(["pop","push","shift","sort","splice","unshift"],function(f){var g=eu[f],E=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",I=/^(?:pop|shift)$/.test(f);V.prototype[f]=function(){var F=arguments;if(I&&!this.__chain__){var $=this.value();return g.apply(cn($)?$:[],F)}return this[E](function(ne){return g.apply(cn(ne)?ne:[],F)})}}),io(Bt.prototype,function(f,g){var E=V[g];if(E){var I=E.name+"";Fn.call(Ku,I)||(Ku[I]=[]),Ku[I].push({name:g,func:E})}}),Ku[D(n,b).name]=[{name:"wrapper",func:n}],Bt.prototype.clone=XC,Bt.prototype.reverse=YC,Bt.prototype.value=no,V.prototype.at=eK,V.prototype.chain=tK,V.prototype.commit=nK,V.prototype.next=rK,V.prototype.plant=sK,V.prototype.reverse=oK,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=aK,V.prototype.first=V.prototype.head,nu&&(V.prototype[nu]=iK),V},Jl=uw();sn?((sn.exports=Jl)._=Jl,yn._=Jl):Zt._=Jl}).call(_c)})(_E,_E.exports);const X2e={baseStyle:{lineHeight:"1.2",borderRadius:"md",px:3,py:2,fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},sizes:{},variants:{outline:{border:"1px solid",borderColor:"border",size:"md",p:4,lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{bg:"border",_disabled:{bg:"initial"}}}},defaultProps:{size:"",variant:"",colorScheme:""}},Y2e={baseStyle:{table:{borderCollapse:"separate",borderSpacing:0},thead:{bg:"background"},th:{py:"3",px:"3",borderBottom:"1px solid",borderColor:"border",textTransform:"unset",fontWeight:"medium",fontFamily:"unset"},td:{py:"2",px:"3"}},sizes:{},variants:{},defaultProps:{size:"",variant:"",colorScheme:""}},Lj={components:{Table:Y2e,Button:X2e},fonts:{heading:"Roboto Mono",body:"Roboto Mono"},semanticTokens:{colors:{primary:"#DC0077",secondary:"#00CACA",error:"#D90310"}}};LG(_E.exports.merge(Lj,{semanticTokens:{colors:{background:"#fafafa",text:"#202124",box:"#fff",border:"#131415"}}}));const Q2e=LG(_E.exports.merge(Lj,{semanticTokens:{colors:{background:"#121212",box:"#131415",text:"#f6f6f6",border:"#414141"}},fonts:{heading:"Roboto Mono",body:"Roboto Mono"}}));var Dj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NU=Ye.createContext&&Ye.createContext(Dj),hh=globalThis&&globalThis.__assign||function(){return hh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hh.apply(this,arguments)},K2e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Oj(t){return t&&t.map(function(e,n){return Ye.createElement(e.tag,hh({key:n},e.attr),Oj(e.child))})}function Z0(t){return function(e){return J(Z2e,{...hh({attr:hh({},t.attr)},e),children:Oj(t.child)})}}function Z2e(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=K2e(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),jt("svg",{...hh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:hh(hh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),children:[s&&J("title",{children:s}),t.children]})};return NU!==void 0?J(NU.Consumer,{children:function(n){return e(n)}}):e(Dj)}function J2e(t){return Z0({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}}]})(t)}function eAe(t){return Z0({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"}}]})(t)}function Nj(t){return Z0({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]})(t)}function tAe(t){return Z0({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 0 0-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"}}]})(t)}/**
 * @remix-run/router v1.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(this,arguments)}var Jf;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jf||(Jf={}));const FU="popstate";function nAe(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return yI("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xI(i)}return iAe(e,n,null,t)}function rAe(){return Math.random().toString(36).substr(2,8)}function zU(t){return{usr:t.state,key:t.key}}function yI(t,e,n,r){return n===void 0&&(n=null),wE({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?J0(e):e,{state:n,key:e&&e.key||r||rAe()})}function xI(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function J0(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iAe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Jf.Pop,l=null;function u(){a=Jf.Pop,l&&l({action:a,location:m.location})}function c(v,y){a=Jf.Push;let x=yI(m.location,v,y);n&&n(x,v);let _=zU(x),b=m.createHref(x);try{o.pushState(_,"",b)}catch{i.location.assign(b)}s&&l&&l({action:a,location:x})}function p(v,y){a=Jf.Replace;let x=yI(m.location,v,y);n&&n(x,v);let _=zU(x),b=m.createHref(x);o.replaceState(_,"",b),s&&l&&l({action:a,location:x})}let m={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(FU,u),l=v,()=>{i.removeEventListener(FU,u),l=null}},createHref(v){return e(i,v)},push:c,replace:p,go(v){return o.go(v)}};return m}var BU;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(BU||(BU={}));function sAe(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?J0(e):e,i=zj(r.pathname||"/",n);if(i==null)return null;let s=Fj(t);oAe(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=mAe(s[a],i);return o}function Fj(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(ns(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=dh([r,o.relativePath]),l=n.concat(o);i.children&&i.children.length>0&&(ns(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),Fj(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:dAe(a,i.index),routesMeta:l})}),e}function oAe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pAe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aAe=/^:\w+$/,lAe=3,uAe=2,cAe=1,fAe=10,hAe=-2,UU=t=>t==="*";function dAe(t,e){let n=t.split("/"),r=n.length;return n.some(UU)&&(r+=hAe),e&&(r+=uAe),n.filter(i=>!UU(i)).reduce((i,s)=>i+(aAe.test(s)?lAe:s===""?cAe:fAe),r)}function pAe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mAe(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=gAe({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let p=a.route;s.push({params:r,pathname:dh([i,c.pathname]),pathnameBase:wAe(dh([i,c.pathnameBase])),route:p}),c.pathnameBase!=="/"&&(i=dh([i,c.pathnameBase]))}return s}function gAe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vAe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,p)=>{if(c==="*"){let m=a[p]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}return u[c]=yAe(a[p]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function vAe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yAe(t,e){try{return decodeURIComponent(t)}catch(n){return Bj(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function zj(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ns(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xAe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?J0(t):t;return{pathname:n?n.startsWith("/")?n:_Ae(n,e):e,search:SAe(r),hash:bAe(i)}}function _Ae(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vP(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uj(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=J0(t):(i=wE({},t),ns(!i.pathname||!i.pathname.includes("?"),vP("?","pathname","search",i)),ns(!i.pathname||!i.pathname.includes("#"),vP("#","pathname","hash",i)),ns(!i.search||!i.search.includes("#"),vP("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let l=xAe(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const dh=t=>t.join("/").replace(/\/\/+/g,"/"),wAe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SAe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bAe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class MAe{constructor(e,n,r){this.status=e,this.statusText=n||"",this.data=r}}function EAe(t){return t instanceof MAe}/**
 * React Router v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _I(){return _I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_I.apply(this,arguments)}function TAe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const CAe=typeof Object.is=="function"?Object.is:TAe,{useState:AAe,useEffect:PAe,useLayoutEffect:RAe,useDebugValue:IAe}=Ex;function kAe(t,e,n){const r=e(),[{inst:i},s]=AAe({inst:{value:r,getSnapshot:e}});return RAe(()=>{i.value=r,i.getSnapshot=e,yP(i)&&s({inst:i})},[t,r,e]),PAe(()=>(yP(i)&&s({inst:i}),t(()=>{yP(i)&&s({inst:i})})),[t]),IAe(r),r}function yP(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!CAe(n,r)}catch{return!0}}function LAe(t,e,n){return e()}const DAe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OAe=!DAe,NAe=OAe?LAe:kAe;"useSyncExternalStore"in Ex&&(t=>t.useSyncExternalStore)(Ex);const FAe=U.exports.createContext(null),zAe=U.exports.createContext(null),Vj=U.exports.createContext(null),oO=U.exports.createContext(null),yC=U.exports.createContext(null),ev=U.exports.createContext({outlet:null,matches:[]}),Hj=U.exports.createContext(null);function BAe(t,e){let{relative:n}=e===void 0?{}:e;O_()||ns(!1);let{basename:r,navigator:i}=U.exports.useContext(oO),{hash:s,pathname:o,search:a}=Gj(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:dh([r,o])),i.createHref({pathname:l,search:a,hash:s})}function O_(){return U.exports.useContext(yC)!=null}function em(){return O_()||ns(!1),U.exports.useContext(yC).location}function Wj(t){return t.filter((e,n)=>n===0||!e.route.index&&e.pathnameBase!==t[n-1].pathnameBase)}function N_(){O_()||ns(!1);let{basename:t,navigator:e}=U.exports.useContext(oO),{matches:n}=U.exports.useContext(ev),{pathname:r}=em(),i=JSON.stringify(Wj(n).map(a=>a.pathnameBase)),s=U.exports.useRef(!1);return U.exports.useEffect(()=>{s.current=!0}),U.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=Uj(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:dh([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function $j(){let{matches:t}=U.exports.useContext(ev),e=t[t.length-1];return e?e.params:{}}function Gj(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=U.exports.useContext(ev),{pathname:i}=em(),s=JSON.stringify(Wj(r).map(o=>o.pathnameBase));return U.exports.useMemo(()=>Uj(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function UAe(t,e){O_()||ns(!1);let n=U.exports.useContext(Vj),{matches:r}=U.exports.useContext(ev),i=r[r.length-1],s=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let a=em(),l;if(e){var u;let y=typeof e=="string"?J0(e):e;o==="/"||((u=y.pathname)==null?void 0:u.startsWith(o))||ns(!1),l=y}else l=a;let c=l.pathname||"/",p=o==="/"?c:c.slice(o.length)||"/",m=sAe(t,{pathname:p}),v=$Ae(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:dh([o,y.pathname]),pathnameBase:y.pathnameBase==="/"?o:dh([o,y.pathnameBase])})),r,n||void 0);return e?J(yC.Provider,{value:{location:_I({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Jf.Pop},children:v}):v}function VAe(){let t=jAe(),e=EAe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return jt(ga,{children:[J("h2",{children:"Unhandled Thrown Error!"}),J("h3",{style:{fontStyle:"italic"},children:e}),n?J("pre",{style:i,children:n}):null,J("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),jt("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",J("code",{style:s,children:"errorElement"})," props on\xA0",J("code",{style:s,children:"<Route>"})]})]})}class HAe extends U.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?J(Hj.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function WAe(t){let{routeContext:e,match:n,children:r}=t,i=U.exports.useContext(FAe);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),J(ev.Provider,{value:e,children:r})}function $Ae(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||ns(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=n?o.route.errorElement||J(VAe,{}):null,c=()=>J(WAe,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))},children:l?u:o.route.element!==void 0?o.route.element:s});return n&&(o.route.errorElement||a===0)?J(HAe,{location:n.location,component:u,error:l,children:c()}):c()},null)}var VU;(function(t){t.UseRevalidator="useRevalidator"})(VU||(VU={}));var wI;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(wI||(wI={}));function GAe(t){let e=U.exports.useContext(Vj);return e||ns(!1),e}function jAe(){var t;let e=U.exports.useContext(Hj),n=GAe(wI.UseRouteError),r=U.exports.useContext(ev),i=r.matches[r.matches.length-1];return e||(r||ns(!1),i.route.id||ns(!1),(t=n.errors)==null?void 0:t[i.route.id])}function Ff(t){ns(!1)}function qAe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Jf.Pop,navigator:s,static:o=!1}=t;O_()&&ns(!1);let a=e.replace(/^\/*/,"/"),l=U.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=J0(r));let{pathname:u="/",search:c="",hash:p="",state:m=null,key:v="default"}=r,y=U.exports.useMemo(()=>{let x=zj(u,a);return x==null?null:{pathname:x,search:c,hash:p,state:m,key:v}},[a,u,c,p,m,v]);return y==null?null:J(oO.Provider,{value:l,children:J(yC.Provider,{children:n,value:{location:y,navigationType:i}})})}function XAe(t){let{children:e,location:n}=t,r=U.exports.useContext(zAe),i=r&&!e?r.router.routes:SI(e);return UAe(i,n)}var HU;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(HU||(HU={}));new Promise(()=>{});function SI(t,e){e===void 0&&(e=[]);let n=[];return U.exports.Children.forEach(t,(r,i)=>{if(!U.exports.isValidElement(r))return;if(r.type===U.exports.Fragment){n.push.apply(n,SI(r.props.children,e));return}r.type!==Ff&&ns(!1),!r.props.index||!r.props.children||ns(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=SI(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function YAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QAe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KAe(t,e){return t.button===0&&(!e||e==="_self")&&!QAe(t)}const ZAe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function JAe(t){let{basename:e,children:n,window:r}=t,i=U.exports.useRef();i.current==null&&(i.current=nAe({window:r,v5Compat:!0}));let s=i.current,[o,a]=U.exports.useState({action:s.action,location:s.location});return U.exports.useLayoutEffect(()=>s.listen(a),[s]),J(qAe,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const jj=U.exports.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,p=YAe(e,ZAe),m=BAe(u,{relative:i}),v=ePe(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function y(x){r&&r(x),x.defaultPrevented||v(x)}return J("a",{...p,href:m,onClick:s?r:y,ref:n,target:l})});var WU;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(WU||(WU={}));var $U;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($U||($U={}));function ePe(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=N_(),l=em(),u=Gj(t,{relative:o});return U.exports.useCallback(c=>{if(KAe(c,n)){c.preventDefault();let p=r!==void 0?r:xI(l)===xI(u);a(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}const tPe=()=>{const{pathname:t}=em(),[e,n]=Ap(),r=()=>t.includes("/leaderboard")?"Leaderboard":t.includes("/singleplayer")?"Singleplayer":t.includes("/multiplayer")?"Multiplayer":"typer:pro";return J(Lu,{children:jt(Gp,{p:"4",spacing:"4",justify:"center",children:[J(q$,{as:"div",children:jt(ts.div,{style:{display:"flex",justifyContent:"center",originX:"50%",originY:"50%"},initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:.3,type:"spring"},children:[J(vs,{color:"primary",children:"["}),J(Lu,{mode:"wait",children:J(ts.div,{style:{overflow:"hidden"},initial:{width:0},animate:{width:"100%"},exit:{width:0},onAnimationComplete:n.on,transition:{duration:.5,delay:e?0:1},children:J(vs,{whiteSpace:"nowrap",px:"4",children:r()})},r())}),J(vs,{color:"secondary",children:"]"})]})}),J(ts.div,{initial:{opacity:0,translateY:10},animate:{opacity:1,translateY:0},transition:{delay:1.8},children:J(vs,{fontWeight:"500",children:"by devmax"})})]})})},nPe=({isDarkTheme:t,onThemeChange:e,onTransitionEnd:n})=>{const r=N_(),i=()=>{e()};return J(ts.div,{style:{position:"absolute",originY:"50%",width:"100%",left:0,zIndex:1},initial:{height:"100vh"},animate:{height:"unset"},transition:{delay:2.6,duration:.3,type:"tween"},onAnimationComplete:n,children:jt($T,{h:"100%",templateColumns:"1fr auto 1fr",children:[J(ya,{p:"4",children:J(Cp,{borderRadius:"none",bg:"none",_hover:{},size:"lg","aria-label":"darkmode",onClick:()=>r("/"),icon:J(tAe,{}),color:"text"})}),J(tPe,{}),J(j$,{justify:"flex-end",align:"flex-start",p:"4",children:J(Cp,{borderRadius:"none",bg:"none",_hover:{},"aria-label":"darkmode",onClick:i,icon:t?J(eAe,{}):J(J2e,{}),color:"text"})})]})})},rPe=U.exports.createContext({isStarted:!1}),iPe=()=>U.exports.useContext(rPe),sPe=U.exports.createContext({isConnected:!1,players:[],isReady:!1,onChangeProgress:()=>null}),aO=()=>U.exports.useContext(sPe),oPe=()=>(aO(),iPe(),J(o_,{align:"stretch",justify:"space-between",p:"4"}));function qj(t){return Z0({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(t)}const aPe=({hoverColor:t,children:e,isHovering:n})=>J(ya,{sx:n?{minH:"100%",boxShadow:"0px 2px 2px rgba(0, 0, 0, 0.25)",bg:t,color:"white"}:{},transition:"0.2s",borderRadius:"md",w:"100%",p:"4",minH:"0%",position:"relative",overflow:"hidden",children:J(ya,{flexGrow:1,zIndex:1,children:e})}),xP=({hoverColor:t="primary",delay:e=0,to:n,description:r,isUnavailable:i,isHovering:s,setIsHovering:o,children:a})=>J(ts.div,{initial:{opacity:0,translateX:100,width:"100%"},animate:{opacity:1,translateX:0},exit:{opacity:0,translateX:100},transition:{delay:e,duration:.3},children:J(jj,{to:n,onMouseEnter:o,children:jt(aPe,{hoverColor:t,isHovering:s,children:[jt(o_,{justify:"space-between",mb:s?"6":"0",transition:"margin 0.2s",children:[jt(vs,{fontSize:"20px",fontWeight:"500",children:[a,i&&J(vs,{borderRadius:"full",as:"span",color:"gray.400",fontSize:"12px",bg:"gray.700",p:"1",px:"2",ml:"3",children:"Coming soon"})]}),J(ya,{opacity:s?1:0,transform:s?"":"translateX(50px)",transition:"0.3s",children:J(qj,{size:"24px",color:"white"})})]}),J(C$,{in:s,children:J(vs,{fontSize:"16px",maxW:"350px",children:r})})]})})}),lPe=()=>{const[t,e]=U.exports.useState(0);return jt(ya,{mx:"auto",h:"100%",maxW:"2xl",w:"100%",children:[J(WT,{}),jt(Gp,{flexGrow:1,align:"stretch",justify:"flex-start",children:[J(xP,{setIsHovering:()=>e(0),isHovering:t===0,to:"/player",description:"Practice your skills to become a typer pro!",children:"Singleplayer"}),J(xP,{setIsHovering:()=>e(1),isHovering:t===1,to:"/",delay:.2,hoverColor:"secondary",description:"Play against friends and see who is the typer pro",isUnavailable:!0,children:"Multiplayer"}),J(xP,{setIsHovering:()=>e(2),isHovering:t===2,to:"/",delay:.4,hoverColor:"gray.500",description:"Check out the leaderboards of every text that's been played",isUnavailable:!0,children:"Leaderboard"})]})]})},GU=t=>{let e;const n=new Set,r=(l,u)=>{const c=typeof l=="function"?l(e):l;if(!Object.is(c,e)){const p=e;e=(u!=null?u:typeof c!="object")?c:Object.assign({},e,c),n.forEach(m=>m(e,p))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>n.clear()};return e=t(r,i,a),a},uPe=t=>t?GU(t):GU;var Xj={exports:{}},Yj={},Qj={exports:{}},Kj={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0=U.exports;function cPe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fPe=typeof Object.is=="function"?Object.is:cPe,hPe=E0.useState,dPe=E0.useEffect,pPe=E0.useLayoutEffect,mPe=E0.useDebugValue;function gPe(t,e){var n=e(),r=hPe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return pPe(function(){i.value=n,i.getSnapshot=e,_P(i)&&s({inst:i})},[t,n,e]),dPe(function(){return _P(i)&&s({inst:i}),t(function(){_P(i)&&s({inst:i})})},[t]),mPe(n),n}function _P(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fPe(t,n)}catch{return!0}}function vPe(t,e){return e()}var yPe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vPe:gPe;Kj.useSyncExternalStore=E0.useSyncExternalStore!==void 0?E0.useSyncExternalStore:yPe;(function(t){t.exports=Kj})(Qj);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC=U.exports,xPe=Qj.exports;function _Pe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wPe=typeof Object.is=="function"?Object.is:_Pe,SPe=xPe.useSyncExternalStore,bPe=xC.useRef,MPe=xC.useEffect,EPe=xC.useMemo,TPe=xC.useDebugValue;Yj.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=bPe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=EPe(function(){function l(v){if(!u){if(u=!0,c=v,v=r(v),i!==void 0&&o.hasValue){var y=o.value;if(i(y,v))return p=y}return p=v}if(y=p,wPe(c,v))return y;var x=r(v);return i!==void 0&&i(y,x)?y:(c=v,p=x)}var u=!1,c,p,m=n===void 0?null:n;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,n,r,i]);var a=SPe(t,s[0],s[1]);return MPe(function(){o.hasValue=!0,o.value=a},[a]),TPe(a),a};(function(t){t.exports=Yj})(Xj);const CPe=G1(Xj.exports),{useSyncExternalStoreWithSelector:APe}=CPe;function PPe(t,e=t.getState,n){const r=APe(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return U.exports.useDebugValue(r),r}const jU=t=>{const e=typeof t=="function"?uPe(t):t,n=(r,i)=>PPe(e,r,i);return Object.assign(n,e),n},RPe=t=>t?jU(t):jU;let Mb;const IPe=new Uint8Array(16);function kPe(){if(!Mb&&(Mb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Mb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mb(IPe)}const fs=[];for(let t=0;t<256;++t)fs.push((t+256).toString(16).slice(1));function LPe(t,e=0){return(fs[t[e+0]]+fs[t[e+1]]+fs[t[e+2]]+fs[t[e+3]]+"-"+fs[t[e+4]]+fs[t[e+5]]+"-"+fs[t[e+6]]+fs[t[e+7]]+"-"+fs[t[e+8]]+fs[t[e+9]]+"-"+fs[t[e+10]]+fs[t[e+11]]+fs[t[e+12]]+fs[t[e+13]]+fs[t[e+14]]+fs[t[e+15]]).toLowerCase()}const DPe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qU={randomUUID:DPe};function OPe(t,e,n){if(qU.randomUUID&&!e&&!t)return qU.randomUUID();t=t||{};const r=t.random||(t.rng||kPe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return LPe(r)}const SE=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return SE(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return SE(r)(n)}}}},NPe=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:_=>_,version:0,merge:(_,b)=>({...b,..._}),...e},o=!1;const a=new Set,l=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},r,i);const c=SE(s.serialize),p=()=>{const _=s.partialize({...r()});let b;const M=c({state:_,version:s.version}).then(w=>u.setItem(s.name,w)).catch(w=>{b=w});if(b)throw b;return M},m=i.setState;i.setState=(_,b)=>{m(_,b),p()};const v=t((..._)=>{n(..._),p()},r,i);let y;const x=()=>{var _;if(!u)return;o=!1,a.forEach(M=>M(r()));const b=((_=s.onRehydrateStorage)==null?void 0:_.call(s,r()))||void 0;return SE(u.getItem.bind(u))(s.name).then(M=>{if(M)return s.deserialize(M)}).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==s.version){if(s.migrate)return s.migrate(M.state,M.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return M.state}).then(M=>{var w;return y=s.merge(M,(w=r())!=null?w:v),n(y,!0),p()}).then(()=>{b==null||b(y,void 0),o=!0,l.forEach(M=>M(y))}).catch(M=>{b==null||b(void 0,M)})};return i.persist={setOptions:_=>{s={...s,..._},_.getStorage&&(u=_.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},x(),y||v},FPe=NPe,R1=RPe(FPe(t=>{const e=OPe();return{nickname:"devmax",setNickname:n=>t(()=>({nickname:n})),id:e}},{name:"player-state",getStorage:()=>sessionStorage})),zPe=()=>{const t="devmax",e=R1(i=>i.nickname),n=R1(i=>i.setNickname),r=()=>{e||n(t)};return jt(Gp,{textAlign:"center",spacing:"12",children:[J(ts.div,{initial:{translateX:100,opacity:0},animate:{translateX:0,opacity:1},exit:{translateX:100,opacity:0},transition:{type:"tween"},children:jt(vs,{fontSize:"32px",as:"span",children:["My awesome nickname ",J("br",{})," is",J(h0,{autoFocus:!0,display:"inline",fontSize:"32px",onChange:i=>n(i.currentTarget.value),onBlur:r,color:"secondary",value:e,w:`${e.length*20}px`,p:"0",fontWeight:"bold",ml:"4",maxLength:16,border:"none",_active:{outline:"none",border:"none",boxShadow:"none"},_focus:{outline:"none",border:"none",boxShadow:"none"}})]})}),J(ts.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{delay:.3},children:J(VT,{as:jj,to:"/singleplayer",_hover:{bg:"unset"},bg:"primary",color:"white",borderRadius:"none",rightIcon:J(qj,{size:"24px",color:"white"}),children:"Start"})})]})};var Zj={},bI=globalThis&&globalThis.__assign||function(){return(bI=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},BPe=function(){function t(e,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.3.2",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var o=s-i.startTime;i.remaining=i.duration-o,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(o,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(o,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(o/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),o<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.callback&&i.callback()},this.formatNumber=function(s){var o,a,l,u,c=s<0?"-":"";o=Math.abs(s).toFixed(i.options.decimalPlaces);var p=(o+="").split(".");if(a=p[0],l=p.length>1?i.options.decimal+p[1]:"",i.options.useGrouping){u="";for(var m=0,v=a.length;m<v;++m)m!==0&&m%3==0&&(u=i.options.separator+u),u=a[v-m-1]+u;a=u}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(y){return i.options.numerals[+y]}),l=l.replace(/[0-9]/g,function(y){return i.options.numerals[+y]})),c+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(s,o,a,l){return a*(1-Math.pow(2,-10*s/l))*1024/1023+o},this.options=bI(bI({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof e=="string"?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return t.prototype.handleScroll=function(e){if(e&&window&&!e.once){var n=window.innerHeight+window.scrollY,r=e.el.getBoundingClientRect(),i=r.top+r.height+window.pageYOffset;i<n&&i>window.scrollY&&e.paused?(e.paused=!1,setTimeout(function(){return e.start()},e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):window.scrollY>i&&!e.paused&&e.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var n=e-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var r=this.countDown?1:-1;this.endVal=e+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(e){this.error||(this.callback=e,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(e){var n=this.formattingFn(e);this.el.tagName==="INPUT"?this.el.value=n:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=n:this.el.innerHTML=n},t.prototype.ensureNumber=function(e){return typeof e=="number"&&!isNaN(e)},t.prototype.validateValue=function(e){var n=Number(e);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();const UPe=Object.freeze(Object.defineProperty({__proto__:null,CountUp:BPe},Symbol.toStringTag,{value:"Module"})),VPe=fee(UPe);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=U.exports,n=VPe;function r(w){return w&&typeof w=="object"&&"default"in w?w:{default:w}}var i=r(e);function s(w,T){var A=Object.keys(w);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(w);T&&(k=k.filter(function(L){return Object.getOwnPropertyDescriptor(w,L).enumerable})),A.push.apply(A,k)}return A}function o(w){for(var T=1;T<arguments.length;T++){var A=arguments[T]!=null?arguments[T]:{};T%2?s(Object(A),!0).forEach(function(k){a(w,k,A[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(A)):s(Object(A)).forEach(function(k){Object.defineProperty(w,k,Object.getOwnPropertyDescriptor(A,k))})}return w}function a(w,T,A){return T in w?Object.defineProperty(w,T,{value:A,enumerable:!0,configurable:!0,writable:!0}):w[T]=A,w}function l(){return l=Object.assign?Object.assign.bind():function(w){for(var T=1;T<arguments.length;T++){var A=arguments[T];for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&(w[k]=A[k])}return w},l.apply(this,arguments)}function u(w,T){if(w==null)return{};var A={},k=Object.keys(w),L,P;for(P=0;P<k.length;P++)L=k[P],!(T.indexOf(L)>=0)&&(A[L]=w[L]);return A}function c(w,T){if(w==null)return{};var A=u(w,T),k,L;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(w);for(L=0;L<P.length;L++)k=P[L],!(T.indexOf(k)>=0)&&(!Object.prototype.propertyIsEnumerable.call(w,k)||(A[k]=w[k]))}return A}var p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?e.useLayoutEffect:e.useEffect;function m(w){var T=e.useRef(w);return p(function(){T.current=w}),e.useCallback(function(){for(var A=arguments.length,k=new Array(A),L=0;L<A;L++)k[L]=arguments[L];return T.current.apply(void 0,k)},[])}var v=function(T,A){var k=A.decimal,L=A.decimals,P=A.duration,O=A.easingFn,N=A.end,H=A.formattingFn,ie=A.numerals,te=A.prefix,ee=A.separator,ue=A.start,ae=A.suffix,fe=A.useEasing,z=A.enableScrollSpy,Y=A.scrollSpyDelay,Z=A.scrollSpyOnce;return new n.CountUp(T,N,{startVal:ue,duration:P,decimal:k,decimalPlaces:L,easingFn:O,formattingFn:H,numerals:ie,separator:ee,prefix:te,suffix:ae,useEasing:fe,useGrouping:!!ee,enableScrollSpy:z,scrollSpyDelay:Y,scrollSpyOnce:Z})},y=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],x={decimal:".",delay:null,prefix:"",suffix:"",duration:2,start:0,startOnMount:!0,enableReinitialize:!0},_=function(T){var A=e.useMemo(function(){return o(o({},x),T)},[T]),k=A.ref,L=A.startOnMount,P=A.enableReinitialize,O=A.delay,N=A.onEnd,H=A.onStart,ie=A.onPauseResume,te=A.onReset,ee=A.onUpdate,ue=c(A,y),ae=e.useRef(),fe=e.useRef(),z=e.useRef(!1),Y=m(function(){return v(typeof k=="string"?k:k.current,ue)}),Z=m(function(We){var Be=ae.current;if(Be&&!We)return Be;var Qe=Y();return ae.current=Qe,Qe}),B=m(function(){var We=function(){return Z(!0).start(function(){N==null||N({pauseResume:G,reset:le,start:Me,update:we})})};O&&O>0?fe.current=setTimeout(We,O*1e3):We(),H==null||H({pauseResume:G,reset:le,update:we})}),G=m(function(){Z().pauseResume(),ie==null||ie({reset:le,start:Me,update:we})}),le=m(function(){fe.current&&clearTimeout(fe.current),Z().reset(),te==null||te({pauseResume:G,start:Me,update:we})}),we=m(function(We){Z().update(We),ee==null||ee({pauseResume:G,reset:le,start:Me})}),Me=m(function(){le(),B()}),pe=m(function(We){L&&(We&&le(),B())});return e.useEffect(function(){z.current?P&&pe(!0):(z.current=!0,pe())},[P,z,pe,O,T.start,T.suffix,T.prefix,T.duration,T.separator,T.decimals,T.decimal,T.formattingFn]),e.useEffect(function(){return function(){le()}},[le]),{start:Me,pauseResume:G,reset:le,update:we,getCountUp:Z}},b=["className","redraw","containerProps","children","style"],M=function(T){var A=T.className,k=T.redraw,L=T.containerProps,P=T.children,O=T.style,N=c(T,b),H=i.default.useRef(null),ie=i.default.useRef(!1),te=_(o(o({},N),{},{ref:H,startOnMount:typeof P!="function"||T.delay===0,enableReinitialize:!1})),ee=te.start,ue=te.reset,ae=te.update,fe=te.pauseResume,z=te.getCountUp,Y=m(function(){ee()}),Z=m(function(le){T.preserveValue||ue(),ae(le)}),B=m(function(){if(typeof T.children=="function"&&!(H.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}z()});e.useEffect(function(){B()},[B]),e.useEffect(function(){ie.current&&Z(T.end)},[T.end,Z]);var G=k&&T;return e.useEffect(function(){k&&ie.current&&Y()},[Y,k,G]),e.useEffect(function(){!k&&ie.current&&Y()},[Y,k,T.start,T.suffix,T.prefix,T.duration,T.separator,T.decimals,T.decimal,T.className,T.formattingFn]),e.useEffect(function(){ie.current=!0},[]),typeof P=="function"?P({countUpRef:H,start:ee,reset:ue,update:ae,pauseResume:fe,getCountUp:z}):i.default.createElement("span",l({className:A,ref:H,style:O},L),T.start?z().formattingFn(T.start):"")};t.default=M,t.useCountUp=_})(Zj);const HPe=G1(Zj);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WPe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},eq={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(m=64)),r.push(n[c],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Jj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WPe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw Error();const m=s<<2|a>>4;if(r.push(m),u!==64){const v=a<<4&240|u>>2;if(r.push(v),p!==64){const y=u<<6&192|p;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$Pe=function(t){const e=Jj(t);return eq.encodeByteArray(e,!0)},bE=function(t){return $Pe(t).replace(/\./g,"")},GPe=function(t){try{return eq.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jPe(){return typeof indexedDB=="object"}function qPe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function XPe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YPe=()=>XPe().__FIREBASE_DEFAULTS__,QPe=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KPe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&GPe(t[1]);return e&&JSON.parse(e)},tq=()=>{try{return YPe()||QPe()||KPe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZPe=t=>{var e,n;return(n=(e=tq())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JPe=t=>{const e=ZPe(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eRe=()=>{var t;return(t=tq())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tRe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nRe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[bE(JSON.stringify(n)),bE(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rRe="FirebaseError";class tv extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rRe,Object.setPrototypeOf(this,tv.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nq.prototype.create)}}class nq{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?iRe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new tv(i,a,r)}}function iRe(t,e){return t.replace(sRe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sRe=/\{\$([^}]+)}/g;function MI(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(XU(s)&&XU(o)){if(!MI(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XU(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){return t&&t._delegate?t._delegate:t}class I1{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oRe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tRe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lRe(e))try{this.getOrInitializeService({instanceIdentifier:Bd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bd){return this.instances.has(e)}getOptions(e=Bd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aRe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bd){return this.component?this.component.multipleInstances?e:Bd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aRe(t){return t===Bd?void 0:t}function lRe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uRe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oRe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Zn||(Zn={}));const cRe={debug:Zn.DEBUG,verbose:Zn.VERBOSE,info:Zn.INFO,warn:Zn.WARN,error:Zn.ERROR,silent:Zn.SILENT},fRe=Zn.INFO,hRe={[Zn.DEBUG]:"log",[Zn.VERBOSE]:"log",[Zn.INFO]:"info",[Zn.WARN]:"warn",[Zn.ERROR]:"error"},dRe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hRe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rq{constructor(e){this.name=e,this._logLevel=fRe,this._logHandler=dRe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cRe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Zn.DEBUG,...e),this._logHandler(this,Zn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Zn.VERBOSE,...e),this._logHandler(this,Zn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Zn.INFO,...e),this._logHandler(this,Zn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Zn.WARN,...e),this._logHandler(this,Zn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Zn.ERROR,...e),this._logHandler(this,Zn.ERROR,...e)}}const pRe=(t,e)=>e.some(n=>t instanceof n);let YU,QU;function mRe(){return YU||(YU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gRe(){return QU||(QU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iq=new WeakMap,EI=new WeakMap,sq=new WeakMap,wP=new WeakMap,lO=new WeakMap;function vRe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ph(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iq.set(n,t)}).catch(()=>{}),lO.set(e,t),e}function yRe(t){if(EI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});EI.set(t,e)}let TI={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return EI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sq.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ph(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xRe(t){TI=t(TI)}function _Re(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(SP(this),e,...n);return sq.set(r,e.sort?e.sort():[e]),ph(r)}:gRe().includes(t)?function(...e){return t.apply(SP(this),e),ph(iq.get(this))}:function(...e){return ph(t.apply(SP(this),e))}}function wRe(t){return typeof t=="function"?_Re(t):(t instanceof IDBTransaction&&yRe(t),pRe(t,mRe())?new Proxy(t,TI):t)}function ph(t){if(t instanceof IDBRequest)return vRe(t);if(wP.has(t))return wP.get(t);const e=wRe(t);return e!==t&&(wP.set(t,e),lO.set(e,t)),e}const SP=t=>lO.get(t);function SRe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ph(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ph(o.result),l.oldVersion,l.newVersion,ph(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const bRe=["get","getKey","getAll","getAllKeys","count"],MRe=["put","add","delete","clear"],bP=new Map;function KU(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bP.get(e))return bP.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=MRe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bRe.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return bP.set(e,s),s}xRe(t=>({...t,get:(e,n,r)=>KU(e,n)||t.get(e,n,r),has:(e,n)=>!!KU(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ERe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TRe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TRe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const CI="@firebase/app",ZU="0.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new rq("@firebase/app"),CRe="@firebase/app-compat",ARe="@firebase/analytics-compat",PRe="@firebase/analytics",RRe="@firebase/app-check-compat",IRe="@firebase/app-check",kRe="@firebase/auth",LRe="@firebase/auth-compat",DRe="@firebase/database",ORe="@firebase/database-compat",NRe="@firebase/functions",FRe="@firebase/functions-compat",zRe="@firebase/installations",BRe="@firebase/installations-compat",URe="@firebase/messaging",VRe="@firebase/messaging-compat",HRe="@firebase/performance",WRe="@firebase/performance-compat",$Re="@firebase/remote-config",GRe="@firebase/remote-config-compat",jRe="@firebase/storage",qRe="@firebase/storage-compat",XRe="@firebase/firestore",YRe="@firebase/firestore-compat",QRe="firebase",KRe="9.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="[DEFAULT]",ZRe={[CI]:"fire-core",[CRe]:"fire-core-compat",[PRe]:"fire-analytics",[ARe]:"fire-analytics-compat",[IRe]:"fire-app-check",[RRe]:"fire-app-check-compat",[kRe]:"fire-auth",[LRe]:"fire-auth-compat",[DRe]:"fire-rtdb",[ORe]:"fire-rtdb-compat",[NRe]:"fire-fn",[FRe]:"fire-fn-compat",[zRe]:"fire-iid",[BRe]:"fire-iid-compat",[URe]:"fire-fcm",[VRe]:"fire-fcm-compat",[HRe]:"fire-perf",[WRe]:"fire-perf-compat",[$Re]:"fire-rc",[GRe]:"fire-rc-compat",[jRe]:"fire-gcs",[qRe]:"fire-gcs-compat",[XRe]:"fire-fst",[YRe]:"fire-fst-compat","fire-js":"fire-js",[QRe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map,PI=new Map;function JRe(t,e){try{t.container.addComponent(e)}catch(n){Np.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function EE(t){const e=t.name;if(PI.has(e))return Np.debug(`There were multiple attempts to register component ${e}.`),!1;PI.set(e,t);for(const n of ME.values())JRe(n,t);return!0}function e3e(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3e={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},mh=new nq("app","Firebase",t3e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3e{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new I1("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3e=KRe;function oq(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:AI,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mh.create("bad-app-name",{appName:String(i)});if(n||(n=eRe()),!n)throw mh.create("no-options");const s=ME.get(i);if(s){if(MI(n,s.options)&&MI(r,s.config))return s;throw mh.create("duplicate-app",{appName:i})}const o=new uRe(i);for(const l of PI.values())o.addComponent(l);const a=new n3e(n,r,o);return ME.set(i,a),a}function i3e(t=AI){const e=ME.get(t);if(!e&&t===AI)return oq();if(!e)throw mh.create("no-app",{appName:t});return e}function Zg(t,e,n){var r;let i=(r=ZRe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Np.warn(a.join(" "));return}EE(new I1(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3e="firebase-heartbeat-database",o3e=1,k1="firebase-heartbeat-store";let MP=null;function aq(){return MP||(MP=SRe(s3e,o3e,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(k1)}}}).catch(t=>{throw mh.create("idb-open",{originalErrorMessage:t.message})})),MP}async function a3e(t){var e;try{return(await aq()).transaction(k1).objectStore(k1).get(lq(t))}catch(n){if(n instanceof tv)Np.warn(n.message);else{const r=mh.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Np.warn(r.message)}}}async function JU(t,e){var n;try{const i=(await aq()).transaction(k1,"readwrite");return await i.objectStore(k1).put(e,lq(t)),i.done}catch(r){if(r instanceof tv)Np.warn(r.message);else{const i=mh.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Np.warn(i.message)}}}function lq(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3e=1024,u3e=30*24*60*60*1e3;class c3e{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h3e(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eV();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=u3e}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=eV(),{heartbeatsToSend:n,unsentEntries:r}=f3e(this._heartbeatsCache.heartbeats),i=bE(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function eV(){return new Date().toISOString().substring(0,10)}function f3e(t,e=l3e){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tV(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tV(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class h3e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jPe()?qPe().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await a3e(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return JU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return JU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tV(t){return bE(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3e(t){EE(new I1("platform-logger",e=>new ERe(e),"PRIVATE")),EE(new I1("heartbeat",e=>new c3e(e),"PRIVATE")),Zg(CI,ZU,t),Zg(CI,ZU,"esm2017"),Zg("fire-js","")}d3e("");var p3e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},It,uO=uO||{},rn=p3e||self;function TE(){}function _C(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function F_(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function m3e(t){return Object.prototype.hasOwnProperty.call(t,EP)&&t[EP]||(t[EP]=++g3e)}var EP="closure_uid_"+(1e9*Math.random()>>>0),g3e=0;function v3e(t,e,n){return t.call.apply(t.bind,arguments)}function y3e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ws(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ws=v3e:Ws=y3e,Ws.apply(null,arguments)}function Eb(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function bs(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Fh(){this.s=this.s,this.o=this.o}var x3e=0;Fh.prototype.s=!1;Fh.prototype.na=function(){!this.s&&(this.s=!0,this.M(),x3e!=0)&&m3e(this)};Fh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uq=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function cO(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function nV(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(_C(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function $s(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$s.prototype.h=function(){this.defaultPrevented=!0};var _3e=function(){if(!rn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{rn.addEventListener("test",TE,e),rn.removeEventListener("test",TE,e)}catch{}return t}();function CE(t){return/^[\s\xa0]*$/.test(t)}var rV=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function TP(t,e){return t<e?-1:t>e?1:0}function wC(){var t=rn.navigator;return t&&(t=t.userAgent)?t:""}function bu(t){return wC().indexOf(t)!=-1}function fO(t){return fO[" "](t),t}fO[" "]=TE;function w3e(t){var e=M3e;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var S3e=bu("Opera"),C0=bu("Trident")||bu("MSIE"),cq=bu("Edge"),RI=cq||C0,fq=bu("Gecko")&&!(wC().toLowerCase().indexOf("webkit")!=-1&&!bu("Edge"))&&!(bu("Trident")||bu("MSIE"))&&!bu("Edge"),b3e=wC().toLowerCase().indexOf("webkit")!=-1&&!bu("Edge");function hq(){var t=rn.document;return t?t.documentMode:void 0}var AE;e:{var CP="",AP=function(){var t=wC();if(fq)return/rv:([^\);]+)(\)|;)/.exec(t);if(cq)return/Edge\/([\d\.]+)/.exec(t);if(C0)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(b3e)return/WebKit\/(\S+)/.exec(t);if(S3e)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(AP&&(CP=AP?AP[1]:""),C0){var PP=hq();if(PP!=null&&PP>parseFloat(CP)){AE=String(PP);break e}}AE=CP}var M3e={};function E3e(){return w3e(function(){let t=0;const e=rV(String(AE)).split("."),n=rV("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=TP(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||TP(i[2].length==0,s[2].length==0)||TP(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var II;if(rn.document&&C0){var iV=hq();II=iV||parseInt(AE,10)||void 0}else II=void 0;var T3e=II;function L1(t,e){if($s.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fq){e:{try{fO(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:C3e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&L1.X.h.call(this)}}bs(L1,$s);var C3e={2:"touch",3:"pen",4:"mouse"};L1.prototype.h=function(){L1.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var z_="closure_listenable_"+(1e6*Math.random()|0),A3e=0;function P3e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++A3e,this.ba=this.ea=!1}function SC(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function hO(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function dq(t){const e={};for(const n in t)e[n]=t[n];return e}const sV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pq(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<sV.length;s++)n=sV[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bC(t){this.src=t,this.g={},this.h=0}bC.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=LI(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new P3e(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function kI(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=uq(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(SC(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function LI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var dO="closure_lm_"+(1e6*Math.random()|0),RP={};function mq(t,e,n,r,i){if(r&&r.once)return vq(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mq(t,e[s],n,r,i);return null}return n=gO(n),t&&t[z_]?t.N(e,n,F_(r)?!!r.capture:!!r,i):gq(t,e,n,!1,r,i)}function gq(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=F_(i)?!!i.capture:!!i,a=mO(t);if(a||(t[dO]=a=new bC(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=R3e(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_3e||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xq(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function R3e(){function t(n){return e.call(t.src,t.listener,n)}const e=I3e;return t}function vq(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)vq(t,e[s],n,r,i);return null}return n=gO(n),t&&t[z_]?t.O(e,n,F_(r)?!!r.capture:!!r,i):gq(t,e,n,!0,r,i)}function yq(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yq(t,e[s],n,r,i);else r=F_(r)?!!r.capture:!!r,n=gO(n),t&&t[z_]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=LI(s,n,r,i),-1<n&&(SC(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=mO(t))&&(e=t.g[e.toString()],t=-1,e&&(t=LI(e,n,r,i)),(n=-1<t?e[t]:null)&&pO(n))}function pO(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[z_])kI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xq(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mO(e))?(kI(n,t),n.h==0&&(n.src=null,e[dO]=null)):SC(t)}}}function xq(t){return t in RP?RP[t]:RP[t]="on"+t}function I3e(t,e){if(t.ba)t=!0;else{e=new L1(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&pO(t),t=n.call(r,e)}return t}function mO(t){return t=t[dO],t instanceof bC?t:null}var IP="__closure_events_fn_"+(1e9*Math.random()>>>0);function gO(t){return typeof t=="function"?t:(t[IP]||(t[IP]=function(e){return t.handleEvent(e)}),t[IP])}function is(){Fh.call(this),this.i=new bC(this),this.P=this,this.I=null}bs(is,Fh);is.prototype[z_]=!0;is.prototype.removeEventListener=function(t,e,n,r){yq(this,t,e,n,r)};function _s(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new $s(e,t);else if(e instanceof $s)e.target=e.target||t;else{var i=e;e=new $s(r,t),pq(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Tb(o,r,!0,e)&&i}if(o=e.g=t,i=Tb(o,r,!0,e)&&i,i=Tb(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Tb(o,r,!1,e)&&i}is.prototype.M=function(){if(is.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)SC(n[r]);delete t.g[e],t.h--}}this.I=null};is.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};is.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Tb(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&kI(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var vO=rn.JSON.stringify;function k3e(){var t=Sq;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class L3e{constructor(){this.h=this.g=null}add(e,n){const r=_q.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _q=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new D3e,t=>t.reset());class D3e{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function O3e(t){rn.setTimeout(()=>{throw t},0)}function wq(t,e){DI||N3e(),OI||(DI(),OI=!0),Sq.add(t,e)}var DI;function N3e(){var t=rn.Promise.resolve(void 0);DI=function(){t.then(F3e)}}var OI=!1,Sq=new L3e;function F3e(){for(var t;t=k3e();){try{t.h.call(t.g)}catch(n){O3e(n)}var e=_q;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}OI=!1}function MC(t,e){is.call(this),this.h=t||1,this.g=e||rn,this.j=Ws(this.lb,this),this.l=Date.now()}bs(MC,is);It=MC.prototype;It.ca=!1;It.R=null;It.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),_s(this,"tick"),this.ca&&(yO(this),this.start()))}};It.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function yO(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}It.M=function(){MC.X.M.call(this),yO(this),delete this.g};function xO(t,e,n){if(typeof t=="function")n&&(t=Ws(t,n));else if(t&&typeof t.handleEvent=="function")t=Ws(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:rn.setTimeout(t,e||0)}function bq(t){t.g=xO(()=>{t.g=null,t.i&&(t.i=!1,bq(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class z3e extends Fh{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bq(this)}M(){super.M(),this.g&&(rn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function D1(t){Fh.call(this),this.h=t,this.g={}}bs(D1,Fh);var oV=[];function Mq(t,e,n,r){Array.isArray(n)||(n&&(oV[0]=n.toString()),n=oV);for(var i=0;i<n.length;i++){var s=mq(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Eq(t){hO(t.g,function(e,n){this.g.hasOwnProperty(n)&&pO(e)},t),t.g={}}D1.prototype.M=function(){D1.X.M.call(this),Eq(this)};D1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function EC(){this.g=!0}EC.prototype.Aa=function(){this.g=!1};function B3e(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var p=c.split("_");o=2<=p.length&&p[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function U3e(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Og(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+H3e(t,n)+(r?" "+r:"")})}function V3e(t,e){t.info(function(){return"TIMEOUT: "+e})}EC.prototype.info=function(){};function H3e(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return vO(n)}catch{return e}}var tm={},aV=null;function TC(){return aV=aV||new is}tm.Pa="serverreachability";function Tq(t){$s.call(this,tm.Pa,t)}bs(Tq,$s);function O1(t){const e=TC();_s(e,new Tq(e))}tm.STAT_EVENT="statevent";function Cq(t,e){$s.call(this,tm.STAT_EVENT,t),this.stat=e}bs(Cq,$s);function go(t){const e=TC();_s(e,new Cq(e,t))}tm.Qa="timingevent";function Aq(t,e){$s.call(this,tm.Qa,t),this.size=e}bs(Aq,$s);function B_(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return rn.setTimeout(function(){t()},e)}var CC={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Pq={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function _O(){}_O.prototype.h=null;function lV(t){return t.h||(t.h=t.i())}function Rq(){}var U_={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function wO(){$s.call(this,"d")}bs(wO,$s);function SO(){$s.call(this,"c")}bs(SO,$s);var NI;function AC(){}bs(AC,_O);AC.prototype.g=function(){return new XMLHttpRequest};AC.prototype.i=function(){return{}};NI=new AC;function V_(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new D1(this),this.O=W3e,t=RI?125:void 0,this.T=new MC(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Iq}function Iq(){this.i=null,this.g="",this.h=!1}var W3e=45e3,FI={},PE={};It=V_.prototype;It.setTimeout=function(t){this.O=t};function zI(t,e,n){t.K=1,t.v=RC(Wc(e)),t.s=n,t.P=!0,kq(t,null)}function kq(t,e){t.F=Date.now(),H_(t),t.A=Wc(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Uq(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Iq,t.g=aX(t.l,n?e:null,!t.s),0<t.N&&(t.L=new z3e(Ws(t.La,t,t.g),t.N)),Mq(t.S,t.g,"readystatechange",t.ib),e=t.H?dq(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),O1(),B3e(t.j,t.u,t.A,t.m,t.U,t.s)}It.ib=function(t){t=t.target;const e=this.L;e&&Ac(t)==3?e.l():this.La(t)};It.La=function(t){try{if(t==this.g)e:{const c=Ac(this.g);var e=this.g.Ea();const p=this.g.aa();if(!(3>c)&&(c!=3||RI||this.g&&(this.h.h||this.g.fa()||hV(this.g)))){this.I||c!=4||e==7||(e==8||0>=p?O1(3):O1(2)),PC(this);var n=this.g.aa();this.Y=n;t:if(Lq(this)){var r=hV(this.g);t="";var i=r.length,s=Ac(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ip(this),_x(this);var o="";break t}this.h.i=new rn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,U3e(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!CE(a)){var u=a;break t}}u=null}if(n=u)Og(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,BI(this,n);else{this.i=!1,this.o=3,go(12),ip(this),_x(this);break e}}this.P?(Dq(this,c,o),RI&&this.i&&c==3&&(Mq(this.S,this.T,"tick",this.hb),this.T.start())):(Og(this.j,this.m,o,null),BI(this,o)),c==4&&ip(this),this.i&&!this.I&&(c==4?rX(this.l,this):(this.i=!1,H_(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,go(12)):(this.o=0,go(13)),ip(this),_x(this)}}}catch{}finally{}};function Lq(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Dq(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=$3e(t,n),i==PE){e==4&&(t.o=4,go(14),r=!1),Og(t.j,t.m,null,"[Incomplete Response]");break}else if(i==FI){t.o=4,go(15),Og(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Og(t.j,t.m,i,null),BI(t,i);Lq(t)&&i!=PE&&i!=FI&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,go(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),PO(e),e.K=!0,go(11))):(Og(t.j,t.m,n,"[Invalid Chunked Response]"),ip(t),_x(t))}It.hb=function(){if(this.g){var t=Ac(this.g),e=this.g.fa();this.C<e.length&&(PC(this),Dq(this,t,e),this.i&&t!=4&&H_(this))}};function $3e(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?PE:(n=Number(e.substring(n,r)),isNaN(n)?FI:(r+=1,r+n>e.length?PE:(e=e.substr(r,n),t.C=r+n,e)))}It.cancel=function(){this.I=!0,ip(this)};function H_(t){t.V=Date.now()+t.O,Oq(t,t.O)}function Oq(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=B_(Ws(t.gb,t),e)}function PC(t){t.B&&(rn.clearTimeout(t.B),t.B=null)}It.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(V3e(this.j,this.A),this.K!=2&&(O1(),go(17)),ip(this),this.o=2,_x(this)):Oq(this,this.V-t)};function _x(t){t.l.G==0||t.I||rX(t.l,t)}function ip(t){PC(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,yO(t.T),Eq(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function BI(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||UI(n.h,t))){if(!t.J&&UI(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)kE(n),LC(n);else break e;AO(n),go(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=B_(Ws(n.cb,n),6e3));if(1>=Wq(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else sp(n,11)}else if((t.J||n.g==t)&&kE(n),!CE(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const p=u[4];p!=null&&(n.Ca=p,n.j.info("SVER="+n.Ca));const m=u[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const y=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.h;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(bO(s,s.h),s.h=null))}if(r.D){const x=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.za=x,Rr(r.F,r.D,x))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=oX(r,r.H?r.ka:null,r.V),o.J){$q(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(PC(a),H_(a)),r.g=o}else tX(r);0<n.i.length&&DC(n)}else u[0]!="stop"&&u[0]!="close"||sp(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?sp(n,7):CO(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}O1(4)}catch{}}function G3e(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_C(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function j3e(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_C(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Nq(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_C(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=j3e(t),r=G3e(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Fq=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function q3e(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function xp(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof xp){this.h=e!==void 0?e:t.h,RE(this,t.j),this.s=t.s,this.g=t.g,IE(this,t.m),this.l=t.l,e=t.i;var n=new N1;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),uV(this,n),this.o=t.o}else t&&(n=String(t).match(Fq))?(this.h=!!e,RE(this,n[1]||"",!0),this.s=Uy(n[2]||""),this.g=Uy(n[3]||"",!0),IE(this,n[4]),this.l=Uy(n[5]||"",!0),uV(this,n[6]||"",!0),this.o=Uy(n[7]||"")):(this.h=!!e,this.i=new N1(null,this.h))}xp.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Vy(e,cV,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Vy(e,cV,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Vy(n,n.charAt(0)=="/"?Q3e:Y3e,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Vy(n,Z3e)),t.join("")};function Wc(t){return new xp(t)}function RE(t,e,n){t.j=n?Uy(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function IE(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function uV(t,e,n){e instanceof N1?(t.i=e,J3e(t.i,t.h)):(n||(e=Vy(e,K3e)),t.i=new N1(e,t.h))}function Rr(t,e,n){t.i.set(e,n)}function RC(t){return Rr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Uy(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vy(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,X3e),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function X3e(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var cV=/[#\/\?@]/g,Y3e=/[#\?:]/g,Q3e=/[#\?]/g,K3e=/[#\?@]/g,Z3e=/#/g;function N1(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function zh(t){t.g||(t.g=new Map,t.h=0,t.i&&q3e(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}It=N1.prototype;It.add=function(t,e){zh(this),this.i=null,t=nv(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function zq(t,e){zh(t),e=nv(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Bq(t,e){return zh(t),e=nv(t,e),t.g.has(e)}It.forEach=function(t,e){zh(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};It.oa=function(){zh(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};It.W=function(t){zh(this);let e=[];if(typeof t=="string")Bq(this,t)&&(e=e.concat(this.g.get(nv(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};It.set=function(t,e){return zh(this),this.i=null,t=nv(this,t),Bq(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};It.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function Uq(t,e,n){zq(t,e),0<n.length&&(t.i=null,t.g.set(nv(t,e),cO(n)),t.h+=n.length)}It.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function nv(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function J3e(t,e){e&&!t.j&&(zh(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(zq(this,r),Uq(this,i,n))},t)),t.j=e}var eIe=class{constructor(t,e){this.h=t,this.g=e}};function Vq(t){this.l=t||tIe,rn.PerformanceNavigationTiming?(t=rn.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(rn.g&&rn.g.Ga&&rn.g.Ga()&&rn.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tIe=10;function Hq(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Wq(t){return t.h?1:t.g?t.g.size:0}function UI(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function bO(t,e){t.g?t.g.add(e):t.h=e}function $q(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Vq.prototype.cancel=function(){if(this.i=Gq(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Gq(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return cO(t.i)}function MO(){}MO.prototype.stringify=function(t){return rn.JSON.stringify(t,void 0)};MO.prototype.parse=function(t){return rn.JSON.parse(t,void 0)};function nIe(){this.g=new MO}function rIe(t,e,n){const r=n||"";try{Nq(t,function(i,s){let o=i;F_(i)&&(o=vO(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function iIe(t,e){const n=new EC;if(rn.Image){const r=new Image;r.onload=Eb(Cb,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Eb(Cb,n,r,"TestLoadImage: error",!1,e),r.onabort=Eb(Cb,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Eb(Cb,n,r,"TestLoadImage: timeout",!1,e),rn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Cb(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function W_(t){this.l=t.ac||null,this.j=t.jb||!1}bs(W_,_O);W_.prototype.g=function(){return new IC(this.l,this.j)};W_.prototype.i=function(t){return function(){return t}}({});function IC(t,e){is.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=EO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bs(IC,is);var EO=0;It=IC.prototype;It.open=function(t,e){if(this.readyState!=EO)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,F1(this)};It.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||rn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$_(this)),this.readyState=EO};It.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,F1(this)),this.g&&(this.readyState=3,F1(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof rn.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jq(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function jq(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}It.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$_(this):F1(this),this.readyState==3&&jq(this)}};It.Va=function(t){this.g&&(this.response=this.responseText=t,$_(this))};It.Ua=function(t){this.g&&(this.response=t,$_(this))};It.ga=function(){this.g&&$_(this)};function $_(t){t.readyState=4,t.l=null,t.j=null,t.A=null,F1(t)}It.setRequestHeader=function(t,e){this.v.append(t,e)};It.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};It.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function F1(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(IC.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var sIe=rn.JSON.parse;function ni(t){is.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qq,this.K=this.L=!1}bs(ni,is);var qq="",oIe=/^https?$/i,aIe=["POST","PUT"];It=ni.prototype;It.Ka=function(t){this.L=t};It.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():NI.g(),this.C=this.u?lV(this.u):lV(NI),this.g.onreadystatechange=Ws(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){fV(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=rn.FormData&&t instanceof rn.FormData,!(0<=uq(aIe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qq(this),0<this.B&&((this.K=lIe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ws(this.qa,this)):this.A=xO(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){fV(this,s)}};function lIe(t){return C0&&E3e()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}It.qa=function(){typeof uO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_s(this,"timeout"),this.abort(8))};function fV(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Xq(t),kC(t)}function Xq(t){t.D||(t.D=!0,_s(t,"complete"),_s(t,"error"))}It.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_s(this,"complete"),_s(this,"abort"),kC(this))};It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kC(this,!0)),ni.X.M.call(this)};It.Ha=function(){this.s||(this.F||this.v||this.l?Yq(this):this.fb())};It.fb=function(){Yq(this)};function Yq(t){if(t.h&&typeof uO<"u"&&(!t.C[1]||Ac(t)!=4||t.aa()!=2)){if(t.v&&Ac(t)==4)xO(t.Ha,0,t);else if(_s(t,"readystatechange"),Ac(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Fq)[1]||null;if(!i&&rn.self&&rn.self.location){var s=rn.self.location.protocol;i=s.substr(0,s.length-1)}r=!oIe.test(i?i.toLowerCase():"")}n=r}if(n)_s(t,"complete"),_s(t,"success");else{t.m=6;try{var o=2<Ac(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",Xq(t)}}finally{kC(t)}}}}function kC(t,e){if(t.g){Qq(t);const n=t.g,r=t.C[0]?TE:null;t.g=null,t.C=null,e||_s(t,"ready");try{n.onreadystatechange=r}catch{}}}function Qq(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(rn.clearTimeout(t.A),t.A=null)}function Ac(t){return t.g?t.g.readyState:0}It.aa=function(){try{return 2<Ac(this)?this.g.status:-1}catch{return-1}};It.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};It.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),sIe(e)}};function hV(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case qq:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}It.Ea=function(){return this.m};It.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Kq(t){let e="";return hO(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function TO(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kq(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Rr(t,e,n))}function Ay(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Zq(t){this.Ca=0,this.i=[],this.j=new EC,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ay("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ay("baseRetryDelayMs",5e3,t),this.bb=Ay("retryDelaySeedMs",1e4,t),this.$a=Ay("forwardChannelMaxRetries",2,t),this.ta=Ay("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Vq(t&&t.concurrentRequestLimit),this.Fa=new nIe,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}It=Zq.prototype;It.ma=8;It.G=1;function CO(t){if(Jq(t),t.G==3){var e=t.U++,n=Wc(t.F);Rr(n,"SID",t.I),Rr(n,"RID",e),Rr(n,"TYPE","terminate"),G_(t,n),e=new V_(t,t.j,e,void 0),e.K=2,e.v=RC(Wc(n)),n=!1,rn.navigator&&rn.navigator.sendBeacon&&(n=rn.navigator.sendBeacon(e.v.toString(),"")),!n&&rn.Image&&(new Image().src=e.v,n=!0),n||(e.g=aX(e.l,null),e.g.da(e.v)),e.F=Date.now(),H_(e)}sX(t)}function LC(t){t.g&&(PO(t),t.g.cancel(),t.g=null)}function Jq(t){LC(t),t.u&&(rn.clearTimeout(t.u),t.u=null),kE(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&rn.clearTimeout(t.m),t.m=null)}function DC(t){Hq(t.h)||t.m||(t.m=!0,wq(t.Ja,t),t.C=0)}function uIe(t,e){return Wq(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=B_(Ws(t.Ja,t,e),iX(t,t.C)),t.C++,!0)}It.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new V_(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=dq(s),pq(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=eX(this,i,e),n=Wc(this.F),Rr(n,"RID",t),Rr(n,"CVER",22),this.D&&Rr(n,"X-HTTP-Session-Id",this.D),G_(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Kq(s)))+"&"+e:this.o&&TO(n,this.o,s)),bO(this.h,i),this.Ya&&Rr(n,"TYPE","init"),this.O?(Rr(n,"$req",e),Rr(n,"SID","null"),i.Z=!0,zI(i,n,null)):zI(i,n,e),this.G=2}}else this.G==3&&(t?dV(this,t):this.i.length==0||Hq(this.h)||dV(this))};function dV(t,e){var n;e?n=e.m:n=t.U++;const r=Wc(t.F);Rr(r,"SID",t.I),Rr(r,"RID",n),Rr(r,"AID",t.T),G_(t,r),t.o&&t.s&&TO(r,t.o,t.s),n=new V_(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=eX(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),bO(t.h,n),zI(n,r,e)}function G_(t,e){t.ia&&hO(t.ia,function(n,r){Rr(e,r,n)}),t.l&&Nq({},function(n,r){Rr(e,r,n)})}function eX(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Ws(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{rIe(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function tX(t){t.g||t.u||(t.Z=1,wq(t.Ia,t),t.A=0)}function AO(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=B_(Ws(t.Ia,t),iX(t,t.A)),t.A++,!0)}It.Ia=function(){if(this.u=null,nX(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=B_(Ws(this.eb,this),t)}};It.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,go(10),LC(this),nX(this))};function PO(t){t.B!=null&&(rn.clearTimeout(t.B),t.B=null)}function nX(t){t.g=new V_(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Wc(t.sa);Rr(e,"RID","rpc"),Rr(e,"SID",t.I),Rr(e,"CI",t.L?"0":"1"),Rr(e,"AID",t.T),Rr(e,"TYPE","xmlhttp"),G_(t,e),t.o&&t.s&&TO(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=RC(Wc(e)),n.s=null,n.P=!0,kq(n,t)}It.cb=function(){this.v!=null&&(this.v=null,LC(this),AO(this),go(19))};function kE(t){t.v!=null&&(rn.clearTimeout(t.v),t.v=null)}function rX(t,e){var n=null;if(t.g==e){kE(t),PO(t),t.g=null;var r=2}else if(UI(t.h,e))n=e.D,$q(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=TC(),_s(r,new Aq(r,n)),DC(t)}else tX(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&uIe(t,e)||r==2&&AO(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:sp(t,5);break;case 4:sp(t,10);break;case 3:sp(t,6);break;default:sp(t,2)}}}function iX(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function sp(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Ws(t.kb,t);n||(n=new xp("//www.google.com/images/cleardot.gif"),rn.location&&rn.location.protocol=="http"||RE(n,"https"),RC(n)),iIe(n.toString(),r)}else go(2);t.G=0,t.l&&t.l.va(e),sX(t),Jq(t)}It.kb=function(t){t?(this.j.info("Successfully pinged google.com"),go(2)):(this.j.info("Failed to ping google.com"),go(1))};function sX(t){if(t.G=0,t.la=[],t.l){const e=Gq(t.h);(e.length!=0||t.i.length!=0)&&(nV(t.la,e),nV(t.la,t.i),t.h.i.length=0,cO(t.i),t.i.length=0),t.l.ua()}}function oX(t,e,n){var r=n instanceof xp?Wc(n):new xp(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),IE(r,r.m);else{var i=rn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new xp(null,void 0);r&&RE(s,r),e&&(s.g=e),i&&IE(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Rr(r,n,e),Rr(r,"VER",t.ma),G_(t,r),r}function aX(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new ni(new W_({jb:!0})):new ni(t.ra),e.Ka(t.H),e}function lX(){}It=lX.prototype;It.xa=function(){};It.wa=function(){};It.va=function(){};It.ua=function(){};It.Ra=function(){};function LE(){if(C0&&!(10<=Number(T3e)))throw Error("Environmental error: no available transport.")}LE.prototype.g=function(t,e){return new _a(t,e)};function _a(t,e){is.call(this),this.g=new Zq(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!CE(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!CE(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new rv(this)}bs(_a,is);_a.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;go(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=oX(t,null,t.V),DC(t)};_a.prototype.close=function(){CO(this.g)};_a.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=vO(t),t=n);e.i.push(new eIe(e.ab++,t)),e.G==3&&DC(e)};_a.prototype.M=function(){this.g.l=null,delete this.j,CO(this.g),delete this.g,_a.X.M.call(this)};function uX(t){wO.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}bs(uX,wO);function cX(){SO.call(this),this.status=1}bs(cX,SO);function rv(t){this.g=t}bs(rv,lX);rv.prototype.xa=function(){_s(this.g,"a")};rv.prototype.wa=function(t){_s(this.g,new uX(t))};rv.prototype.va=function(t){_s(this.g,new cX)};rv.prototype.ua=function(){_s(this.g,"b")};LE.prototype.createWebChannel=LE.prototype.g;_a.prototype.send=_a.prototype.u;_a.prototype.open=_a.prototype.m;_a.prototype.close=_a.prototype.close;CC.NO_ERROR=0;CC.TIMEOUT=8;CC.HTTP_ERROR=6;Pq.COMPLETE="complete";Rq.EventType=U_;U_.OPEN="a";U_.CLOSE="b";U_.ERROR="c";U_.MESSAGE="d";is.prototype.listen=is.prototype.N;ni.prototype.listenOnce=ni.prototype.O;ni.prototype.getLastError=ni.prototype.Oa;ni.prototype.getLastErrorCode=ni.prototype.Ea;ni.prototype.getStatus=ni.prototype.aa;ni.prototype.getResponseJson=ni.prototype.Sa;ni.prototype.getResponseText=ni.prototype.fa;ni.prototype.send=ni.prototype.da;ni.prototype.setWithCredentials=ni.prototype.Ka;var cIe=function(){return new LE},fIe=function(){return TC()},kP=CC,hIe=Pq,dIe=tm,pV={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},pIe=W_,Ab=Rq,mIe=ni;const mV="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fs.UNAUTHENTICATED=new Fs(null),Fs.GOOGLE_CREDENTIALS=new Fs("google-credentials-uid"),Fs.FIRST_PARTY=new Fs("first-party-uid"),Fs.MOCK_USER=new Fs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iv="9.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=new rq("@firebase/firestore");function gV(){return Fp.logLevel}function Dt(t,...e){if(Fp.logLevel<=Zn.DEBUG){const n=e.map(RO);Fp.debug(`Firestore (${iv}): ${t}`,...n)}}function $c(t,...e){if(Fp.logLevel<=Zn.ERROR){const n=e.map(RO);Fp.error(`Firestore (${iv}): ${t}`,...n)}}function VI(t,...e){if(Fp.logLevel<=Zn.WARN){const n=e.map(RO);Fp.warn(`Firestore (${iv}): ${t}`,...n)}}function RO(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t="Unexpected state"){const e=`FIRESTORE (${iv}) INTERNAL ASSERTION FAILED: `+t;throw $c(e),new Error(e)}function _r(t,e){t||hn()}function dn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends tv{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gIe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fs.UNAUTHENTICATED))}shutdown(){}}class vIe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yIe{constructor(e){this.t=e,this.currentUser=Fs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Nl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_r(typeof r.accessToken=="string"),new fX(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _r(e===null||typeof e=="string"),new Fs(e)}}class xIe{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Fs.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(_r(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class _Ie{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new xIe(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Fs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wIe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SIe{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&Dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,Dt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_r(typeof n.token=="string"),this.A=n.token,new wIe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bIe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bIe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Jn(t,e){return t<e?-1:t>e?1:0}function A0(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ot(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ot(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ot(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Di.fromMillis(Date.now())}static fromDate(e){return Di.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Di(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jn(this.nanoseconds,e.nanoseconds):Jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.timestamp=e}static fromTimestamp(e){return new An(e)}static min(){return new An(new Di(0,0))}static max(){return new An(new Di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r){n===void 0?n=0:n>e.length&&hn(),r===void 0?r=e.length-n:r>e.length-n&&hn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return z1.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof z1?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ir extends z1{construct(e,n,r){return new Ir(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ot(Xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ir(n)}static emptyPath(){return new Ir([])}}const MIe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vs extends z1{construct(e,n,r){return new Vs(e,n,r)}static isValidIdentifier(e){return MIe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vs(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ot(Xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ot(Xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ot(Xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ot(Xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vs(n)}static emptyPath(){return new Vs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(Ir.fromString(e))}static fromName(e){return new Ut(Ir.fromString(e).popFirst(5))}static empty(){return new Ut(Ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ir.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ir.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new Ir(e.slice()))}}function EIe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=An.fromTimestamp(r===1e9?new Di(n+1,0):new Di(n,r));return new Eh(i,Ut.empty(),e)}function TIe(t){return new Eh(t.readTime,t.key,-1)}class Eh{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Eh(An.min(),Ut.empty(),-1)}static max(){return new Eh(An.max(),Ut.empty(),-1)}}function CIe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ut.comparator(t.documentKey,e.documentKey),n!==0?n:Jn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AIe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PIe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j_(t){if(t.code!==Xe.FAILED_PRECONDITION||t.message!==AIe)throw t;Dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&hn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new tt((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):tt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):tt.reject(n)}static resolve(e){return new tt((n,r)=>{n(e)})}static reject(e){return new tt((n,r)=>{r(e)})}static waitFor(e){return new tt((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=tt.resolve(!1);for(const r of e)n=n.next(i=>i?tt.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new tt((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new tt((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function q_(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sv(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */IO.at=-1;class zi{constructor(e,n){this.comparator=e,this.root=n||ds.EMPTY}insert(e,n){return new zi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ds.BLACK,null,null))}remove(e){return new zi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ds.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pb(this.root,e,this.comparator,!0)}}class Pb{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ds{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:ds.RED,this.left=i!=null?i:ds.EMPTY,this.right=s!=null?s:ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ds(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ds.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hn();const e=this.left.check();if(e!==this.right.check())throw hn();return e+(this.isRed()?0:1)}}ds.EMPTY=null,ds.RED=!0,ds.BLACK=!1;ds.EMPTY=new class{constructor(){this.size=0}get key(){throw hn()}get value(){throw hn()}get color(){throw hn()}get left(){throw hn()}get right(){throw hn()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ds(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.comparator=e,this.data=new zi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yV(this.data.getIterator())}getIteratorFrom(e){return new yV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Oi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oi(this.comparator);return n.data=e,n}}class yV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.fields=e,e.sort(Vs.comparator)}static empty(){return new Iu([])}unionWith(e){let n=new Oi(Vs.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Iu(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return A0(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new qs(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new qs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qs.EMPTY_BYTE_STRING=new qs("");const RIe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Th(t){if(_r(!!t),typeof t=="string"){let e=0;const n=RIe.exec(t);if(_r(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Si(t.seconds),nanos:Si(t.nanos)}}function Si(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function P0(t){return typeof t=="string"?qs.fromBase64String(t):qs.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pX(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mX(t){const e=t.mapValue.fields.__previous_value__;return pX(e)?mX(e):e}function B1(t){const e=Th(t.mapValue.fields.__local_write_time__.timestampValue);return new Di(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IIe{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class U1{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new U1("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof U1&&e.projectId===this.projectId&&e.database===this.database}}function OC(t){return t==null}function DE(t){return t===0&&1/t==-1/0}function kIe(t){return typeof t=="number"&&Number.isInteger(t)&&!DE(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pX(t)?4:LIe(t)?9007199254740991:10:hn()}function Nu(t,e){if(t===e)return!0;const n=zp(t);if(n!==zp(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return B1(t).isEqual(B1(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Th(r.timestampValue),o=Th(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return P0(r.bytesValue).isEqual(P0(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Si(r.geoPointValue.latitude)===Si(i.geoPointValue.latitude)&&Si(r.geoPointValue.longitude)===Si(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Si(r.integerValue)===Si(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Si(r.doubleValue),o=Si(i.doubleValue);return s===o?DE(s)===DE(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return A0(t.arrayValue.values||[],e.arrayValue.values||[],Nu);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(vV(s)!==vV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Nu(s[a],o[a])))return!1;return!0}(t,e);default:return hn()}}function V1(t,e){return(t.values||[]).find(n=>Nu(n,e))!==void 0}function R0(t,e){if(t===e)return 0;const n=zp(t),r=zp(e);if(n!==r)return Jn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jn(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Si(i.integerValue||i.doubleValue),a=Si(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return xV(t.timestampValue,e.timestampValue);case 4:return xV(B1(t),B1(e));case 5:return Jn(t.stringValue,e.stringValue);case 6:return function(i,s){const o=P0(i),a=P0(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Jn(o[l],a[l]);if(u!==0)return u}return Jn(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Jn(Si(i.latitude),Si(s.latitude));return o!==0?o:Jn(Si(i.longitude),Si(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=R0(o[l],a[l]);if(u)return u}return Jn(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Rb.mapValue&&s===Rb.mapValue)return 0;if(i===Rb.mapValue)return 1;if(s===Rb.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const p=Jn(a[c],u[c]);if(p!==0)return p;const m=R0(o[a[c]],l[u[c]]);if(m!==0)return m}return Jn(a.length,u.length)}(t.mapValue,e.mapValue);default:throw hn()}}function xV(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Jn(t,e);const n=Th(t),r=Th(e),i=Jn(n.seconds,r.seconds);return i!==0?i:Jn(n.nanos,r.nanos)}function Jg(t){return HI(t)}function HI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Th(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?P0(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ut.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=HI(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${HI(r.fields[a])}`;return s+"}"}(t.mapValue):hn();var e,n}function WI(t){return!!t&&"integerValue"in t}function kO(t){return!!t&&"arrayValue"in t}function _V(t){return!!t&&"nullValue"in t}function wV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fM(t){return!!t&&"mapValue"in t}function wx(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return sv(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wx(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wx(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LIe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.value=e}static empty(){return new Ga({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fM(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wx(n)}setAll(e){let n=Vs.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wx(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fM(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fM(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){sv(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ga(wx(this.value))}}function gX(t){const e=[];return sv(t.fields,(n,r)=>{const i=new Vs([n]);if(fM(r)){const s=gX(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Iu(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new gs(e,0,An.min(),An.min(),Ga.empty(),0)}static newFoundDocument(e,n,r){return new gs(e,1,n,An.min(),r,0)}static newNoDocument(e,n){return new gs(e,2,n,An.min(),Ga.empty(),0)}static newUnknownDocument(e,n){return new gs(e,3,n,An.min(),Ga.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ga.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ga.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=An.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gs(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DIe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function SV(t,e=null,n=[],r=[],i=null,s=null,o=null){return new DIe(t,e,n,r,i,s,o)}function LO(t){const e=dn(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Jg(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),OC(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jg(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jg(r)).join(",")),e.ht=n}return e.ht}function OIe(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Jg(r.value)}`;var r}).join(", ")}]`),OC(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Jg(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Jg(n)).join(",")),`Target(${e})`}function DO(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!WIe(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Nu(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MV(t.startAt,e.startAt)&&MV(t.endAt,e.endAt)}function $I(t){return Ut.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Do extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new NIe(e,n,r):n==="array-contains"?new BIe(e,r):n==="in"?new UIe(e,r):n==="not-in"?new VIe(e,r):n==="array-contains-any"?new HIe(e,r):new Do(e,n,r)}static lt(e,n,r){return n==="in"?new FIe(e,r):new zIe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(R0(n,this.value)):n!==null&&zp(this.value)===zp(n)&&this.ft(R0(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return hn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class NIe extends Do{constructor(e,n,r){super(e,n,r),this.key=Ut.fromName(r.referenceValue)}matches(e){const n=Ut.comparator(e.key,this.key);return this.ft(n)}}class FIe extends Do{constructor(e,n){super(e,"in",n),this.keys=vX("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zIe extends Do{constructor(e,n){super(e,"not-in",n),this.keys=vX("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vX(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ut.fromName(r.referenceValue))}class BIe extends Do{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kO(n)&&V1(n.arrayValue,this.value)}}class UIe extends Do{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&V1(this.value.arrayValue,n)}}class VIe extends Do{constructor(e,n){super(e,"not-in",n)}matches(e){if(V1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!V1(this.value.arrayValue,n)}}class HIe extends Do{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kO(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>V1(this.value.arrayValue,r))}}class OE{constructor(e,n){this.position=e,this.inclusive=n}}class e0{constructor(e,n="asc"){this.field=e,this.dir=n}}function WIe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function bV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ut.comparator(Ut.fromName(o.referenceValue),n.key):r=R0(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function MV(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function $Ie(t,e,n,r,i,s,o,a){return new X_(t,e,n,r,i,s,o,a)}function NC(t){return new X_(t)}function EV(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yX(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xX(t){for(const e of t.filters)if(e.dt())return e.field;return null}function GIe(t){return t.collectionGroup!==null}function H1(t){const e=dn(t);if(e._t===null){e._t=[];const n=xX(e),r=yX(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new e0(n)),e._t.push(new e0(Vs.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new e0(Vs.keyField(),s))}}}return e._t}function Gc(t){const e=dn(t);if(!e.wt)if(e.limitType==="F")e.wt=SV(e.path,e.collectionGroup,H1(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of H1(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new e0(s.field,o))}const r=e.endAt?new OE(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new OE(e.startAt.position,e.startAt.inclusive):null;e.wt=SV(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function GI(t,e,n){return new X_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function FC(t,e){return DO(Gc(t),Gc(e))&&t.limitType===e.limitType}function _X(t){return`${LO(Gc(t))}|lt:${t.limitType}`}function jI(t){return`Query(target=${OIe(Gc(t))}; limitType=${t.limitType})`}function OO(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ut.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=bV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,H1(n),r)||n.endAt&&!function(i,s,o){const a=bV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,H1(n),r))}(t,e)}function jIe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wX(t){return(e,n)=>{let r=!1;for(const i of H1(t)){const s=qIe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qIe(t,e,n){const r=t.field.isKeyField()?Ut.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?R0(a,l):hn()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return hn()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SX(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:DE(e)?"-0":e}}function bX(t){return{integerValue:""+t}}function XIe(t,e){return kIe(e)?bX(e):SX(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this._=void 0}}function YIe(t,e,n){return t instanceof NE?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof W1?EX(t,e):t instanceof $1?TX(t,e):function(r,i){const s=MX(r,i),o=TV(s)+TV(r.yt);return WI(s)&&WI(r.yt)?bX(o):SX(r.It,o)}(t,e)}function QIe(t,e,n){return t instanceof W1?EX(t,e):t instanceof $1?TX(t,e):n}function MX(t,e){return t instanceof FE?WI(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class NE extends zC{}class W1 extends zC{constructor(e){super(),this.elements=e}}function EX(t,e){const n=CX(e);for(const r of t.elements)n.some(i=>Nu(i,r))||n.push(r);return{arrayValue:{values:n}}}class $1 extends zC{constructor(e){super(),this.elements=e}}function TX(t,e){let n=CX(e);for(const r of t.elements)n=n.filter(i=>!Nu(i,r));return{arrayValue:{values:n}}}class FE extends zC{constructor(e,n){super(),this.It=e,this.yt=n}}function TV(t){return Si(t.integerValue||t.doubleValue)}function CX(t){return kO(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KIe(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof W1&&r instanceof W1||n instanceof $1&&r instanceof $1?A0(n.elements,r.elements,Nu):n instanceof FE&&r instanceof FE?Nu(n.yt,r.yt):n instanceof NE&&r instanceof NE}(t.transform,e.transform)}class ZIe{constructor(e,n){this.version=e,this.transformResults=n}}class Ic{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ic}static exists(e){return new Ic(void 0,e)}static updateTime(e){return new Ic(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hM(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class BC{}function AX(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new RX(t.key,Ic.none()):new Y_(t.key,t.data,Ic.none());{const n=t.data,r=Ga.empty();let i=new Oi(Vs.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new nm(t.key,r,new Iu(i.toArray()),Ic.none())}}function JIe(t,e,n){t instanceof Y_?function(r,i,s){const o=r.value.clone(),a=AV(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof nm?function(r,i,s){if(!hM(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=AV(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(PX(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Sx(t,e,n,r){return t instanceof Y_?function(i,s,o,a){if(!hM(i.precondition,s))return o;const l=i.value.clone(),u=PV(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof nm?function(i,s,o,a){if(!hM(i.precondition,s))return o;const l=PV(i.fieldTransforms,a,s),u=s.data;return u.setAll(PX(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return hM(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function eke(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=MX(r.transform,i||null);s!=null&&(n===null&&(n=Ga.empty()),n.set(r.field,s))}return n||null}function CV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&A0(n,r,(i,s)=>KIe(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Y_ extends BC{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nm extends BC{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PX(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AV(t,e,n){const r=new Map;_r(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,QIe(o,a,n[i]))}return r}function PV(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,YIe(s,o,e))}return r}class RX extends BC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tke extends BC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nke{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi,Nn;function rke(t){switch(t){default:return hn();case Xe.CANCELLED:case Xe.UNKNOWN:case Xe.DEADLINE_EXCEEDED:case Xe.RESOURCE_EXHAUSTED:case Xe.INTERNAL:case Xe.UNAVAILABLE:case Xe.UNAUTHENTICATED:return!1;case Xe.INVALID_ARGUMENT:case Xe.NOT_FOUND:case Xe.ALREADY_EXISTS:case Xe.PERMISSION_DENIED:case Xe.FAILED_PRECONDITION:case Xe.ABORTED:case Xe.OUT_OF_RANGE:case Xe.UNIMPLEMENTED:case Xe.DATA_LOSS:return!0}}function IX(t){if(t===void 0)return $c("GRPC error has no .code"),Xe.UNKNOWN;switch(t){case wi.OK:return Xe.OK;case wi.CANCELLED:return Xe.CANCELLED;case wi.UNKNOWN:return Xe.UNKNOWN;case wi.DEADLINE_EXCEEDED:return Xe.DEADLINE_EXCEEDED;case wi.RESOURCE_EXHAUSTED:return Xe.RESOURCE_EXHAUSTED;case wi.INTERNAL:return Xe.INTERNAL;case wi.UNAVAILABLE:return Xe.UNAVAILABLE;case wi.UNAUTHENTICATED:return Xe.UNAUTHENTICATED;case wi.INVALID_ARGUMENT:return Xe.INVALID_ARGUMENT;case wi.NOT_FOUND:return Xe.NOT_FOUND;case wi.ALREADY_EXISTS:return Xe.ALREADY_EXISTS;case wi.PERMISSION_DENIED:return Xe.PERMISSION_DENIED;case wi.FAILED_PRECONDITION:return Xe.FAILED_PRECONDITION;case wi.ABORTED:return Xe.ABORTED;case wi.OUT_OF_RANGE:return Xe.OUT_OF_RANGE;case wi.UNIMPLEMENTED:return Xe.UNIMPLEMENTED;case wi.DATA_LOSS:return Xe.DATA_LOSS;default:return hn()}}(Nn=wi||(wi={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sv(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dX(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ike=new zi(Ut.comparator);function jc(){return ike}const kX=new zi(Ut.comparator);function Hy(...t){let e=kX;for(const n of t)e=e.insert(n.key,n);return e}function LX(t){let e=kX;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function op(){return bx()}function DX(){return bx()}function bx(){return new ov(t=>t.toString(),(t,e)=>t.isEqual(e))}const ske=new zi(Ut.comparator),oke=new Oi(Ut.comparator);function In(...t){let e=oke;for(const n of t)e=e.add(n);return e}const ake=new Oi(Jn);function OX(){return ake}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Q_.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new UC(An.min(),i,OX(),jc(),In())}}class Q_{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Q_(r,n,In(),In(),In())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class NX{constructor(e,n){this.targetId=e,this.At=n}}class FX{constructor(e,n,r=qs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class RV{constructor(){this.Rt=0,this.bt=kV(),this.Pt=qs.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=In(),n=In(),r=In();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:hn()}}),new Q_(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=kV()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class lke{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=jc(),this.qt=IV(),this.Kt=new Oi(Jn)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:hn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if($I(s))if(r===0){const o=new Ut(s.path);this.jt(n,o,gs.newNoDocument(o,An.min()))}else _r(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&$I(a.target)){const l=new Ut(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,gs.newNoDocument(l,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=In();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new UC(e,n,this.Kt,this.Ut,r);return this.Ut=jc(),this.qt=IV(),this.Kt=new Oi(Jn),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new RV,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Oi(Jn),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||Dt("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new RV),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function IV(){return new zi(Ut.comparator)}function kV(){return new zi(Ut.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uke=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),cke=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class fke{constructor(e,n){this.databaseId=e,this.gt=n}}function zE(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zX(t,e){return t.gt?e.toBase64():e.toUint8Array()}function hke(t,e){return zE(t,e.toTimestamp())}function kc(t){return _r(!!t),An.fromTimestamp(function(e){const n=Th(e);return new Di(n.seconds,n.nanos)}(t))}function NO(t,e){return function(n){return new Ir(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function BX(t){const e=Ir.fromString(t);return _r(HX(e)),e}function qI(t,e){return NO(t.databaseId,e.path)}function LP(t,e){const n=BX(e);if(n.get(1)!==t.databaseId.projectId)throw new Ot(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ot(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ut(UX(n))}function XI(t,e){return NO(t.databaseId,e)}function dke(t){const e=BX(t);return e.length===4?Ir.emptyPath():UX(e)}function YI(t){return new Ir(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UX(t){return _r(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LV(t,e,n){return{name:qI(t,e),fields:n.value.mapValue.fields}}function pke(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:hn()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.gt?(_r(u===void 0||typeof u=="string"),qs.fromBase64String(u||"")):(_r(u===void 0||u instanceof Uint8Array),qs.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?Xe.UNKNOWN:IX(l.code);return new Ot(u,l.message||"")}(o);n=new FX(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=LP(t,r.document.name),s=kc(r.document.updateTime),o=new Ga({mapValue:{fields:r.document.fields}}),a=gs.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new dM(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=LP(t,r.document),s=r.readTime?kc(r.readTime):An.min(),o=gs.newNoDocument(i,s),a=r.removedTargetIds||[];n=new dM([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=LP(t,r.document),s=r.removedTargetIds||[];n=new dM([],s,i,null)}else{if(!("filter"in e))return hn();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new nke(i),o=r.targetId;n=new NX(o,s)}}return n}function mke(t,e){let n;if(e instanceof Y_)n={update:LV(t,e.key,e.value)};else if(e instanceof RX)n={delete:qI(t,e.key)};else if(e instanceof nm)n={update:LV(t,e.key,e.data),updateMask:Eke(e.fieldMask)};else{if(!(e instanceof tke))return hn();n={verify:qI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof NE)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof W1)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $1)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof FE)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw hn()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:hke(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:hn()}(t,e.precondition)),n}function gke(t,e){return t&&t.length>0?(_r(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?kc(r.updateTime):kc(i);return s.isEqual(An.min())&&(s=kc(i)),new ZIe(s,r.transformResults||[])}(n,e))):[]}function vke(t,e){return{documents:[XI(t,e.path)]}}function yke(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=XI(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=XI(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(p){if(p.op==="=="){if(wV(p.value))return{unaryFilter:{field:fg(p.field),op:"IS_NAN"}};if(_V(p.value))return{unaryFilter:{field:fg(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(wV(p.value))return{unaryFilter:{field:fg(p.field),op:"IS_NOT_NAN"}};if(_V(p.value))return{unaryFilter:{field:fg(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fg(p.field),op:Ske(p.op),value:p.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:fg(c.field),direction:wke(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.gt||OC(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function xke(t){let e=dke(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_r(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=VX(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(p){return new e0(Ng(p.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(c)));let a=null;n.limit&&(a=function(c){let p;return p=typeof c=="object"?c.value:c,OC(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(c){const p=!!c.before,m=c.values||[];return new OE(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const p=!c.before,m=c.values||[];return new OE(m,p)}(n.endAt)),$Ie(e,i,o,s,a,"F",l,u)}function _ke(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hn()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function VX(t){return t?t.unaryFilter!==void 0?[Mke(t)]:t.fieldFilter!==void 0?[bke(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>VX(e)).reduce((e,n)=>e.concat(n)):hn():[]}function wke(t){return uke[t]}function Ske(t){return cke[t]}function fg(t){return{fieldPath:t.canonicalString()}}function Ng(t){return Vs.fromServerFormat(t.fieldPath)}function bke(t){return Do.create(Ng(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hn()}}(t.fieldFilter.op),t.fieldFilter.value)}function Mke(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ng(t.unaryFilter.field);return Do.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ng(t.unaryFilter.field);return Do.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ng(t.unaryFilter.field);return Do.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ng(t.unaryFilter.field);return Do.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hn()}}function Eke(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HX(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tke{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&JIe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sx(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sx(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DX();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=AX(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(An.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),In())}isEqual(e){return this.batchId===e.batchId&&A0(this.mutations,e.mutations,(n,r)=>CV(n,r))&&A0(this.baseMutations,e.baseMutations,(n,r)=>CV(n,r))}}class FO{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_r(e.mutations.length===r.length);let i=ske;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new FO(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cke{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,r,i,s=An.min(),o=An.min(),a=qs.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new _p(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new _p(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _p(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ake{constructor(e){this.re=e}}function Pke(t){const e=xke({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?GI(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rke{constructor(){this.Ye=new Ike}addToCollectionParentIndex(e,n){return this.Ye.add(n),tt.resolve()}getCollectionParents(e,n){return tt.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return tt.resolve()}deleteFieldIndex(e,n){return tt.resolve()}getDocumentsMatchingTarget(e,n){return tt.resolve(null)}getIndexType(e,n){return tt.resolve(0)}getFieldIndexes(e,n){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,n){return tt.resolve(Eh.min())}getMinOffsetFromCollectionGroup(e,n){return tt.resolve(Eh.min())}updateCollectionGroup(e,n,r){return tt.resolve()}updateIndexEntries(e,n){return tt.resolve()}}class Ike{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Oi(Ir.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Oi(Ir.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new I0(0)}static vn(){return new I0(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kke{constructor(){this.changes=new ov(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?tt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lke{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dke{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&Sx(r.mutation,i,Iu.empty(),Di.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,In()).next(()=>r))}getLocalViewOfDocuments(e,n,r=In()){const i=op();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Hy();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=op();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,In()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jc();const o=bx(),a=bx();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof nm)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),Sx(c.mutation,u,c.mutation.getFieldMask(),Di.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var p;return a.set(u,new Lke(c,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bx();let i=new zi((o,a)=>o-a),s=In();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Iu.empty();c=a.applyToLocalView(u,c),r.set(l,c);const p=(i.get(a.batchId)||In()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,p=DX();c.forEach(m=>{if(!s.has(m)){const v=AX(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return tt.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Ut.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GIe(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):tt.resolve(op());let a=-1,l=s;return o.next(u=>tt.forEach(u,(c,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(c)?tt.resolve():this.getBaseDocument(e,c,p).next(m=>{l=l.insert(c,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,In())).next(c=>({batchId:a,changes:LX(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ut(n)).next(r=>{let i=Hy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Hy();return this.indexManager.getCollectionParents(e,i).next(o=>tt.forEach(o,a=>{const l=function(u,c){return new X_(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,p)=>{s=s.insert(c,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,gs.newInvalidDocument(u)))});let o=Hy();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Sx(u.mutation,l,Iu.empty(),Di.now()),OO(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):tt.resolve(gs.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oke{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return tt.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:kc(r.createTime)}),tt.resolve()}getNamedQuery(e,n){return tt.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:Pke(r.bundledQuery),readTime:kc(r.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nke{constructor(){this.overlays=new zi(Ut.comparator),this.es=new Map}getOverlay(e,n){return tt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=op();return tt.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),tt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),tt.resolve()}getOverlaysForCollection(e,n,r){const i=op(),s=n.length+1,o=new Ut(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return tt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new zi((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=op(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=op(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return tt.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Cke(n,r));let s=this.es.get(n);s===void 0&&(s=In(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.ns=new Oi(Ki.ss),this.rs=new Oi(Ki.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Ki(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Ki(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new Ut(new Ir([])),r=new Ki(n,e),i=new Ki(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Ut(new Ir([])),r=new Ki(n,e),i=new Ki(n,e+1);let s=In();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ki(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ki{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Ut.comparator(e.key,n.key)||Jn(e._s,n._s)}static os(e,n){return Jn(e._s,n._s)||Ut.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fke{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Oi(Ki.ss)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Tke(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Ki(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return tt.resolve(o)}lookupMutationBatch(e,n){return tt.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return tt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ki(n,0),i=new Ki(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),tt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Oi(Jn);return n.forEach(i=>{const s=new Ki(i,0),o=new Ki(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),tt.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ut.isDocumentKey(s)||(s=s.child(""));const o=new Ki(new Ut(s),0);let a=new Oi(Jn);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),tt.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_r(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return tt.forEach(n.mutations,i=>{const s=new Ki(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Ki(n,0),i=this.gs.firstAfterOrEqual(r);return tt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zke{constructor(e){this.Es=e,this.docs=new zi(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return tt.resolve(r?r.document.mutableCopy():gs.newInvalidDocument(n))}getEntries(e,n){let r=jc();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():gs.newInvalidDocument(i))}),tt.resolve(r)}getAllFromCollection(e,n,r){let i=jc();const s=new Ut(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||CIe(TIe(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return tt.resolve(i)}getAllFromCollectionGroup(e,n,r,i){hn()}As(e,n){return tt.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Bke(this)}getSize(e){return tt.resolve(this.size)}}class Bke extends kke{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),tt.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uke{constructor(e){this.persistence=e,this.Rs=new ov(n=>LO(n),DO),this.lastRemoteSnapshotVersion=An.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zO,this.targetCount=0,this.vs=I0.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),tt.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new I0(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,tt.resolve()}updateTargetData(e,n){return this.Dn(n),tt.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),tt.waitFor(s).next(()=>i)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return tt.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),tt.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),tt.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),tt.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return tt.resolve(r)}containsKey(e,n){return tt.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vke{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new IO(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Uke(this),this.indexManager=new Rke,this.remoteDocumentCache=function(r){return new zke(r)}(r=>this.referenceDelegate.xs(r)),this.It=new Ake(n),this.Ns=new Oke(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Nke,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new Fke(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){Dt("MemoryPersistence","Starting transaction:",e);const i=new Hke(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return tt.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class Hke extends PIe{constructor(e){super(),this.currentSequenceNumber=e}}class BO{constructor(e){this.persistence=e,this.Fs=new zO,this.$s=null}static Bs(e){return new BO(e)}get Ls(){if(this.$s)return this.$s;throw hn()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),tt.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),tt.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.Ls,r=>{const i=Ut.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,An.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return tt.or([()=>tt.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=In(),i=In();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new UO(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wke{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(EV(n))return tt.resolve(null);let r=Gc(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=GI(n,null,"F"),r=Gc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=In(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,GI(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return EV(n)||i.isEqual(An.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(gV()<=Zn.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jI(n)),this.Bi(e,o,n,EIe(i,-1)))})}Fi(e,n){let r=new Oi(wX(e));return n.forEach((i,s)=>{OO(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return gV()<=Zn.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",jI(n)),this.Ni.getDocumentsMatchingQuery(e,n,Eh.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ke{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new zi(Jn),this.qi=new ov(s=>LO(s),DO),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dke(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Gke(t,e,n,r){return new $ke(t,e,n,r)}async function WX(t,e){const n=dn(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=In();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function jke(t,e){const n=dn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,p=c.keys();let m=tt.resolve();return p.forEach(v=>{m=m.next(()=>u.getEntry(a,v)).next(y=>{const x=l.docVersions.get(v);_r(x!==null),y.version.compareTo(x)<0&&(c.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=In();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $X(t){const e=dn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function qke(t,e){const n=dn(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((c,p)=>{const m=i.get(p);if(!m)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,p).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(p)?v=v.withResumeToken(qs.EMPTY_BYTE_STRING,An.min()).withLastLimboFreeSnapshotVersion(An.min()):c.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(c.resumeToken,r)),i=i.insert(p,v),function(y,x,_){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,v,c)&&a.push(n.Cs.updateTargetData(s,v))});let l=jc(),u=In();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Xke(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(An.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(p=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return tt.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ui=i,s))}function Xke(t,e,n){let r=In(),i=In();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jc();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(An.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Dt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function Yke(t,e){const n=dn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Qke(t,e){const n=dn(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,tt.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new _p(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function QI(t,e,n){const r=dn(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!q_(o))throw o;Dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function KI(t,e,n){const r=dn(t);let i=An.min(),s=In();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=dn(a),p=c.qi.get(u);return p!==void 0?tt.resolve(c.Ui.get(p)):c.Cs.getTargetData(l,u)}(r,o,Gc(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:An.min(),n?s:In())).next(a=>(Kke(r,jIe(e),a),{documents:a,Hi:s})))}function Kke(t,e,n){let r=t.Ki.get(e)||An.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class DV{constructor(){this.activeTargetIds=OX()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zke{constructor(){this.Lr=new DV,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new DV,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jke{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eLe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tLe{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nLe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);Dt("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(Dt("RestConnection","Received: ",l),l),l=>{throw VI("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+iv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=eLe[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new mIe;a.setWithCredentials(!0),a.listenOnce(hIe.COMPLETE,()=>{var u;try{switch(a.getLastErrorCode()){case kP.NO_ERROR:const c=a.getResponseJson();Dt("Connection","XHR received:",JSON.stringify(c)),s(c);break;case kP.TIMEOUT:Dt("Connection",'RPC "'+e+'" timed out'),o(new Ot(Xe.DEADLINE_EXCEEDED,"Request time out"));break;case kP.HTTP_ERROR:const p=a.getStatus();if(Dt("Connection",'RPC "'+e+'" failed with status:',p,"response text:",a.getResponseText()),p>0){let m=a.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=(u=m)===null||u===void 0?void 0:u.error;if(v&&v.status&&v.message){const y=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(Xe).indexOf(_)>=0?_:Xe.UNKNOWN}(v.status);o(new Ot(y,v.message))}else o(new Ot(Xe.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ot(Xe.UNAVAILABLE,"Connection failed."));break;default:hn()}}finally{Dt("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cIe(),o=fIe(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new pIe({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");Dt("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,p=!1;const m=new tLe({Hr:y=>{p?Dt("Connection","Not sending because WebChannel is closed:",y):(c||(Dt("Connection","Opening WebChannel transport."),u.open(),c=!0),Dt("Connection","WebChannel sending:",y),u.send(y))},Jr:()=>u.close()}),v=(y,x,_)=>{y.listen(x,b=>{try{_(b)}catch(M){setTimeout(()=>{throw M},0)}})};return v(u,Ab.EventType.OPEN,()=>{p||Dt("Connection","WebChannel transport opened.")}),v(u,Ab.EventType.CLOSE,()=>{p||(p=!0,Dt("Connection","WebChannel transport closed"),m.io())}),v(u,Ab.EventType.ERROR,y=>{p||(p=!0,VI("Connection","WebChannel transport errored:",y),m.io(new Ot(Xe.UNAVAILABLE,"The operation could not be completed")))}),v(u,Ab.EventType.MESSAGE,y=>{var x;if(!p){const _=y.data[0];_r(!!_);const b=_,M=b.error||((x=b[0])===null||x===void 0?void 0:x.error);if(M){Dt("Connection","WebChannel received error:",M);const w=M.status;let T=function(k){const L=wi[k];if(L!==void 0)return IX(L)}(w),A=M.message;T===void 0&&(T=Xe.INTERNAL,A="Unknown error status: "+w+" with message "+M.message),p=!0,m.io(new Ot(T,A)),u.close()}else Dt("Connection","WebChannel received:",_),m.ro(_)}}),v(o,dIe.STAT_EVENT,y=>{y.stat===pV.PROXY?Dt("Connection","Detected buffering proxy"):y.stat===pV.NOPROXY&&Dt("Connection","Detected no buffering proxy")}),setTimeout(()=>{m.so()},0),m}}function DP(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){return new fke(t,!0)}class GX{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Dt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new GX(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===Xe.RESOURCE_EXHAUSTED?($c(n.toString()),$c("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new Ot(Xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return Dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rLe extends jX{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=pke(this.It,e),r=function(i){if(!("targetChange"in i))return An.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?An.min():s.readTime?kc(s.readTime):An.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=YI(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=$I(a)?{documents:vke(i,a)}:{query:yke(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=zX(i,s.resumeToken):s.snapshotVersion.compareTo(An.min())>0&&(o.readTime=zE(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=_ke(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=YI(this.It),n.removeTarget=e,this.Bo(n)}}class iLe extends jX{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(_r(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=gke(e.writeResults,e.commitTime),r=kc(e.commitTime);return this.listener.Zo(r,n)}return _r(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=YI(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mke(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sLe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Ot(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ot(Xe.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ot(Xe.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class oLe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?($c(n),this.ou=!1):Dt("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aLe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(o=>{r.enqueueAndForget(async()=>{rm(this)&&(Dt("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=dn(a);l._u.add(4),await K_(l),l.gu.set("Unknown"),l._u.delete(4),await HC(l)}(this))})}),this.gu=new oLe(r,i)}}async function HC(t){if(rm(t))for(const e of t.wu)await e(!0)}async function K_(t){for(const e of t.wu)await e(!1)}function qX(t,e){const n=dn(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),WO(n)?HO(n):av(n).ko()&&VO(n,e))}function XX(t,e){const n=dn(t),r=av(n);n.du.delete(e),r.ko()&&YX(n,e),n.du.size===0&&(r.ko()?r.Fo():rm(n)&&n.gu.set("Unknown"))}function VO(t,e){t.yu.Mt(e.targetId),av(t).zo(e)}function YX(t,e){t.yu.Mt(e),av(t).Ho(e)}function HO(t){t.yu=new lke({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),av(t).start(),t.gu.uu()}function WO(t){return rm(t)&&!av(t).No()&&t.du.size>0}function rm(t){return dn(t)._u.size===0}function QX(t){t.yu=void 0}async function lLe(t){t.du.forEach((e,n)=>{VO(t,e)})}async function uLe(t,e){QX(t),WO(t)?(t.gu.hu(e),HO(t)):t.gu.set("Unknown")}async function cLe(t,e,n){if(t.gu.set("Online"),e instanceof FX&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){Dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await BE(t,r)}else if(e instanceof dM?t.yu.Gt(e):e instanceof NX?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(An.min()))try{const r=await $X(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(qs.EMPTY_BYTE_STRING,l.snapshotVersion)),YX(i,a);const u=new _p(l.target,a,1,l.sequenceNumber);VO(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Dt("RemoteStore","Failed to raise snapshot:",r),await BE(t,r)}}async function BE(t,e,n){if(!q_(e))throw e;t._u.add(1),await K_(t),t.gu.set("Offline"),n||(n=()=>$X(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Dt("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await HC(t)})}function KX(t,e){return e().catch(n=>BE(t,n,e))}async function WC(t){const e=dn(t),n=Ch(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;fLe(e);)try{const i=await Yke(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,hLe(e,i)}catch(i){await BE(e,i)}ZX(e)&&JX(e)}function fLe(t){return rm(t)&&t.fu.length<10}function hLe(t,e){t.fu.push(e);const n=Ch(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function ZX(t){return rm(t)&&!Ch(t).No()&&t.fu.length>0}function JX(t){Ch(t).start()}async function dLe(t){Ch(t).eu()}async function pLe(t){const e=Ch(t);for(const n of t.fu)e.Xo(n.mutations)}async function mLe(t,e,n){const r=t.fu.shift(),i=FO.from(r,e,n);await KX(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await WC(t)}async function gLe(t,e){e&&Ch(t).Yo&&await async function(n,r){if(i=r.code,rke(i)&&i!==Xe.ABORTED){const s=n.fu.shift();Ch(n).Mo(),await KX(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await WC(n)}var i}(t,e),ZX(t)&&JX(t)}async function NV(t,e){const n=dn(t);n.asyncQueue.verifyOperationInProgress(),Dt("RemoteStore","RemoteStore received new credentials");const r=rm(n);n._u.add(3),await K_(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await HC(n)}async function vLe(t,e){const n=dn(t);e?(n._u.delete(2),await HC(n)):e||(n._u.add(2),await K_(n),n.gu.set("Unknown"))}function av(t){return t.pu||(t.pu=function(e,n,r){const i=dn(e);return i.su(),new rLe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:lLe.bind(null,t),Zr:uLe.bind(null,t),Wo:cLe.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),WO(t)?HO(t):t.gu.set("Unknown")):(await t.pu.stop(),QX(t))})),t.pu}function Ch(t){return t.Iu||(t.Iu=function(e,n,r){const i=dn(e);return i.su(),new iLe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:dLe.bind(null,t),Zr:gLe.bind(null,t),tu:pLe.bind(null,t),Zo:mLe.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await WC(t)):(await t.Iu.stop(),t.fu.length>0&&(Dt("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $O(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ot(Xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z_(t,e){if($c("AsyncQueue",`${e}: ${t}`),q_(t))return new Ot(Xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ut.comparator(n.key,r.key):(n,r)=>Ut.comparator(n.key,r.key),this.keyedMap=Hy(),this.sortedSet=new zi(this.comparator)}static emptySet(e){return new t0(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t0)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new t0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.Tu=new zi(Ut.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):hn():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class k0{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new k0(e,n,t0.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&FC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yLe{constructor(){this.Au=void 0,this.listeners=[]}}class xLe{constructor(){this.queries=new ov(e=>_X(e),FC),this.onlineState="Unknown",this.Ru=new Set}}async function GO(t,e){const n=dn(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new yLe),i)try{s.Au=await n.onListen(r)}catch(o){const a=Z_(o,`Initialization of query '${jI(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&qO(n)}async function jO(t,e){const n=dn(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function _Le(t,e){const n=dn(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&qO(n)}function wLe(t,e,n){const r=dn(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function qO(t){t.Ru.forEach(e=>{e.next()})}class XO{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new k0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=k0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e){this.key=e}}class tY{constructor(e){this.key=e}}class nY{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=In(),this.mutatedKeys=In(),this.Gu=wX(e),this.Qu=new t0(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new FV,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,p)=>{const m=i.get(c),v=OO(this.query,p)?p:null,y=!!m&&this.mutatedKeys.has(m.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;m&&v?m.data.isEqual(v.data)?y!==x&&(r.track({type:3,doc:v}),_=!0):this.Hu(m,v)||(r.track({type:2,doc:v}),_=!0,(l&&this.Gu(v,l)>0||u&&this.Gu(v,u)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),_=!0):m&&!v&&(r.track({type:1,doc:m}),_=!0,(l||u)&&(a=!0)),_&&(v?(o=o.add(v),s=x?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((u,c)=>function(p,m){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hn()}};return v(p)-v(m)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new k0(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new FV,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=In(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new tY(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new eY(r))}),n}tc(e){this.Uu=e.Hi,this.Ku=In();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return k0.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class SLe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bLe{constructor(e){this.key=e,this.nc=!1}}class MLe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ov(a=>_X(a),FC),this.rc=new Map,this.oc=new Set,this.uc=new zi(Ut.comparator),this.cc=new Map,this.ac=new zO,this.hc={},this.lc=new Map,this.fc=I0.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function ELe(t,e){const n=OLe(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await Qke(n.localStore,Gc(e));n.isPrimaryClient&&qX(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await TLe(n,e,r,a==="current",o.resumeToken)}return i}async function TLe(t,e,n,r,i){t._c=(p,m,v)=>async function(y,x,_,b){let M=x.view.Wu(_);M.$i&&(M=await KI(y.localStore,x.query,!1).then(({documents:A})=>x.view.Wu(A,M)));const w=b&&b.targetChanges.get(x.targetId),T=x.view.applyChanges(M,y.isPrimaryClient,w);return BV(y,x.targetId,T.Xu),T.snapshot}(t,p,m,v);const s=await KI(t.localStore,e,!0),o=new nY(e,s.Hi),a=o.Wu(s.documents),l=Q_.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);BV(t,n,u.Xu);const c=new SLe(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function CLe(t,e){const n=dn(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!FC(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await QI(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),XX(n.remoteStore,r.targetId),ZI(n,r.targetId)}).catch(j_)):(ZI(n,r.targetId),await QI(n.localStore,r.targetId,!0))}async function ALe(t,e,n){const r=NLe(t);try{const i=await function(s,o){const a=dn(s),l=Di.now(),u=o.reduce((m,v)=>m.add(v.key),In());let c,p;return a.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=jc(),y=In();return a.Gi.getEntries(m,u).next(x=>{v=x,v.forEach((_,b)=>{b.isValidDocument()||(y=y.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(m,v)).next(x=>{c=x;const _=[];for(const b of o){const M=eke(b,c.get(b.key).overlayedDocument);M!=null&&_.push(new nm(b.key,M,gX(M.value.mapValue),Ic.exists(!0)))}return a.mutationQueue.addMutationBatch(m,l,_,o)}).next(x=>{p=x;const _=x.applyToLocalDocumentSet(c,y);return a.documentOverlayCache.saveOverlays(m,x.batchId,_)})}).then(()=>({batchId:p.batchId,changes:LX(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new zi(Jn)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await J_(r,i.changes),await WC(r.remoteStore)}catch(i){const s=Z_(i,"Failed to persist write");n.reject(s)}}async function rY(t,e){const n=dn(t);try{const r=await qke(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(_r(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?_r(o.nc):i.removedDocuments.size>0&&(_r(o.nc),o.nc=!1))}),await J_(n,r,e)}catch(r){await j_(r)}}function zV(t,e,n){const r=dn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=dn(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const p of c.listeners)p.bu(o)&&(l=!0)}),l&&qO(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PLe(t,e,n){const r=dn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new zi(Ut.comparator);o=o.insert(s,gs.newNoDocument(s,An.min()));const a=In().add(s),l=new UC(An.min(),new Map,new Oi(Jn),o,a);await rY(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),YO(r)}else await QI(r.localStore,e,!1).then(()=>ZI(r,e,n)).catch(j_)}async function RLe(t,e){const n=dn(t),r=e.batch.batchId;try{const i=await jke(n.localStore,e);sY(n,r,null),iY(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await J_(n,i)}catch(i){await j_(i)}}async function ILe(t,e,n){const r=dn(t);try{const i=await function(s,o){const a=dn(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(_r(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);sY(r,e,n),iY(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await J_(r,i)}catch(i){await j_(i)}}function iY(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function sY(t,e,n){const r=dn(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function ZI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||oY(t,r)})}function oY(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(XX(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),YO(t))}function BV(t,e,n){for(const r of n)r instanceof eY?(t.ac.addReference(r.key,e),kLe(t,r)):r instanceof tY?(Dt("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||oY(t,r.key)):hn()}function kLe(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(Dt("SyncEngine","New document in limbo: "+n),t.oc.add(r),YO(t))}function YO(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new Ut(Ir.fromString(e)),r=t.fc.next();t.cc.set(r,new bLe(n)),t.uc=t.uc.insert(n,r),qX(t.remoteStore,new _p(Gc(NC(n.path)),r,2,IO.at))}}async function J_(t,e,n){const r=dn(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=UO.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=dn(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>tt.forEach(l,p=>tt.forEach(p.Si,m=>u.persistence.referenceDelegate.addReference(c,p.targetId,m)).next(()=>tt.forEach(p.Di,m=>u.persistence.referenceDelegate.removeReference(c,p.targetId,m)))))}catch(c){if(!q_(c))throw c;Dt("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const p=c.targetId;if(!c.fromCache){const m=u.Ui.get(p),v=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(v);u.Ui=u.Ui.insert(p,y)}}}(r.localStore,s))}async function LLe(t,e){const n=dn(t);if(!n.currentUser.isEqual(e)){Dt("SyncEngine","User change. New user:",e.toKey());const r=await WX(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new Ot(Xe.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await J_(n,r.ji)}}function DLe(t,e){const n=dn(t),r=n.cc.get(e);if(r&&r.nc)return In().add(r.key);{let i=In();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function OLe(t){const e=dn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rY.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DLe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PLe.bind(null,e),e.sc.Wo=_Le.bind(null,e.eventManager),e.sc.wc=wLe.bind(null,e.eventManager),e}function NLe(t){const e=dn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RLe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ILe.bind(null,e),e}class FLe{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=VC(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return Gke(this.persistence,new Wke,e.initialUser,this.It)}yc(e){return new Vke(BO.Bs,this.It)}gc(e){return new Zke}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zLe{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zV(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LLe.bind(null,this.syncEngine),await vLe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xLe}createDatastore(e){const n=VC(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new nLe(i));var i;return function(s,o,a,l){return new sLe(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>zV(this.syncEngine,a,0),o=OV.C()?new OV:new Jke,new aLe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new MLe(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=dn(e);Dt("RemoteStore","RemoteStore shutting down."),n._u.add(5),await K_(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aY(t,e,n){if(!n)throw new Ot(Xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BLe(t,e,n,r){if(e===!0&&r===!0)throw new Ot(Xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UV(t){if(!Ut.isDocumentKey(t))throw new Ot(Xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VV(t){if(Ut.isDocumentKey(t))throw new Ot(Xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function QO(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":hn()}function rs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ot(Xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=QO(t);throw new Ot(Xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=new Map;class WV{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ot(Xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ot(Xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,BLe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ot(Xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ot(Xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WV(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new gIe;switch(n.type){case"gapi":const r=n.client;return new _Ie(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ot(Xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=HV.get(e);n&&(Dt("ComponentProvider","Removing Datastore"),HV.delete(e),n.terminate())}(this),Promise.resolve()}}function ULe(t,e,n,r={}){var i;const s=(t=rs(t,$C))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&VI("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Fs.MOCK_USER;else{o=nRe(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Ot(Xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Fs(l)}t._authCredentials=new vIe(new fX(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gs(this.firestore,e,this._key)}}class Bh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bh(this.firestore,e,this._query)}}class gh extends Bh{constructor(e,n,r){super(e,n,NC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gs(this.firestore,null,new Ut(e))}withConverter(e){return new gh(this.firestore,e,this._path)}}function VLe(t,e,...n){if(t=T0(t),aY("collection","path",e),t instanceof $C){const r=Ir.fromString(e,...n);return VV(r),new gh(t,null,r)}{if(!(t instanceof Gs||t instanceof gh))throw new Ot(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ir.fromString(e,...n));return VV(r),new gh(t.firestore,null,r)}}function lY(t,e,...n){if(t=T0(t),arguments.length===1&&(e=hX.R()),aY("doc","path",e),t instanceof $C){const r=Ir.fromString(e,...n);return UV(r),new Gs(t,null,new Ut(r))}{if(!(t instanceof Gs||t instanceof gh))throw new Ot(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ir.fromString(e,...n));return UV(r),new Gs(t.firestore,t instanceof gh?t.converter:null,new Ut(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):$c("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HLe{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fs.UNAUTHENTICATED,this.clientId=hX.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Dt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Dt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ot(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Z_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function WLe(t,e){t.asyncQueue.verifyOperationInProgress(),Dt("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WX(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function $Le(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uY(t);Dt("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>NV(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>NV(e.remoteStore,s)),t.onlineComponents=e}async function uY(t){return t.offlineComponents||(Dt("FirestoreClient","Using default OfflineComponentProvider"),await WLe(t,new FLe)),t.offlineComponents}async function cY(t){return t.onlineComponents||(Dt("FirestoreClient","Using default OnlineComponentProvider"),await $Le(t,new zLe)),t.onlineComponents}function fY(t){return uY(t).then(e=>e.localStore)}function GLe(t){return cY(t).then(e=>e.syncEngine)}async function UE(t){const e=await cY(t),n=e.eventManager;return n.onListen=ELe.bind(null,e.syncEngine),n.onUnlisten=CLe.bind(null,e.syncEngine),n}function jLe(t,e){const n=new Nl;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const u=dn(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new Ot(Xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=Z_(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await fY(t),e,n)),n.promise}function hY(t,e,n={}){const r=new Nl;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new KO({next:p=>{s.enqueueAndForget(()=>jO(i,c));const m=p.docs.has(o);!m&&p.fromCache?l.reject(new Ot(Xe.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&a&&a.source==="server"?l.reject(new Ot(Xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),c=new XO(NC(o.path),u,{includeMetadataChanges:!0,Nu:!0});return GO(i,c)}(await UE(t),t.asyncQueue,e,n,r)),r.promise}function qLe(t,e){const n=new Nl;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await KI(r,i,!0),a=new nY(i,o.Hi),l=a.Wu(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=Z_(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await fY(t),e,n)),n.promise}function dY(t,e,n={}){const r=new Nl;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new KO({next:p=>{s.enqueueAndForget(()=>jO(i,c)),p.fromCache&&a.source==="server"?l.reject(new Ot(Xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),c=new XO(o,u,{includeMetadataChanges:!0,Nu:!0});return GO(i,c)}(await UE(t),t.asyncQueue,e,n,r)),r.promise}class XLe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new GX(this,"async_queue_retry"),this.Wc=()=>{const n=DP();n&&Dt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=DP();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=DP();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new Nl;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!q_(e))throw e;Dt("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw $c("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=$O.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&hn()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}function $V(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Fu extends $C{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new XLe,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pY(this),this._firestoreClient.terminate()}}function YLe(t,e){const n=typeof t=="object"?t:i3e(),r=typeof t=="string"?t:e||"(default)",i=e3e(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=JPe("firestore");s&&ULe(i,...s)}return i}function Uh(t){return t._firestoreClient||pY(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pY(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new IIe(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new HLe(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new L0(qs.fromBase64String(e))}catch(n){throw new Ot(Xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new L0(qs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ot(Xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ot(Xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ot(Xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jn(this._lat,e._lat)||Jn(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QLe=/^__.*__$/;class KLe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new nm(e,this.data,this.fieldMask,n,this.fieldTransforms):new Y_(e,this.data,n,this.fieldTransforms)}}function gY(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hn()}}class eN{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new eN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return VE(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(gY(this.sa)&&QLe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class ZLe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||VC(e)}da(e,n,r,i=!1){return new eN({sa:e,methodName:n,fa:r,path:Vs.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function JLe(t){const e=t._freezeSettings(),n=VC(t._databaseId);return new ZLe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eDe(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);_Y("Data must be an object, but it was:",o,r);const a=yY(r,o);let l,u;if(s.merge)l=new Iu(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const p of s.mergeFields){const m=tDe(e,p,n);if(!o.contains(m))throw new Ot(Xe.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);rDe(c,m)||c.push(m)}l=new Iu(c),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new KLe(new Ga(a),l,u)}function vY(t,e){if(xY(t=T0(t)))return _Y("Unsupported field value:",e,t),yY(t,e);if(t instanceof mY)return function(n,r){if(!gY(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=vY(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=T0(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return XIe(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Di.fromDate(n);return{timestampValue:zE(r.It,i)}}if(n instanceof Di){const i=new Di(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:zE(r.It,i)}}if(n instanceof JO)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof L0)return{bytesValue:zX(r.It,n._byteString)};if(n instanceof Gs){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:NO(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${QO(n)}`)}(t,e)}function yY(t,e){const n={};return dX(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sv(t,(r,i)=>{const s=vY(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xY(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Di||t instanceof JO||t instanceof L0||t instanceof Gs||t instanceof mY)}function _Y(t,e,n){if(!xY(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=QO(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function tDe(t,e,n){if((e=T0(e))instanceof ZO)return e._internalPath;if(typeof e=="string")return wY(t,e);throw VE("Field path arguments must be of type string or ",t,!1,void 0,n)}const nDe=new RegExp("[~\\*/\\[\\]]");function wY(t,e,n){if(e.search(nDe)>=0)throw VE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ZO(...e.split("."))._internalPath}catch{throw VE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function VE(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ot(Xe.INVALID_ARGUMENT,a+t+l)}function rDe(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iDe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iDe extends SY{data(){return super.data()}}function tN(t,e){return typeof e=="string"?wY(t,e):e instanceof ZO?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bY(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ot(Xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sDe{}function oDe(t,...e){for(const n of e)t=n._apply(t);return t}class aDe extends sDe{constructor(e,n){super(),this.ma=e,this.pa=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Ot(Xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Ot(Xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new e0(i,s);return function(a,l){if(yX(a)===null){const u=xX(a);u!==null&&uDe(a,u,l.field)}}(r,o),o}(e._query,this.ma,this.pa);return new Bh(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new X_(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function lDe(t,e="asc"){const n=e,r=tN("orderBy",t);return new aDe(r,n)}function uDe(t,e,n){if(!n.isEqual(e))throw new Ot(Xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cDe{convertValue(e,n="none"){switch(zp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(P0(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw hn()}}convertObject(e,n){const r={};return sv(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new JO(Si(e.latitude),Si(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mX(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(B1(e));default:return null}}convertTimestamp(e){const n=Th(e);return new Di(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ir.fromString(e);_r(HX(r));const i=new U1(r.get(1),r.get(3)),s=new Ut(r.popFirst(5));return i.isEqual(n)||$c(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fDe(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nN extends SY{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pM extends nN{data(e={}){return super.data(e)}}class GC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pM(this._firestore,this._userDataWriter,r.key,r,new Fg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ot(Xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new pM(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Fg(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new pM(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Fg(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:hDe(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hDe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hn()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dDe(t){t=rs(t,Gs);const e=rs(t.firestore,Fu);return hY(Uh(e),t._key).then(n=>rN(e,t,n))}class lv extends cDe{constructor(e){super(),this.firestore=e}convertBytes(e){return new L0(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,n)}}function pDe(t){t=rs(t,Gs);const e=rs(t.firestore,Fu),n=Uh(e),r=new lv(e);return jLe(n,t._key).then(i=>new nN(e,r,t._key,i,new Fg(i!==null&&i.hasLocalMutations,!0),t.converter))}function mDe(t){t=rs(t,Gs);const e=rs(t.firestore,Fu);return hY(Uh(e),t._key,{source:"server"}).then(n=>rN(e,t,n))}function gDe(t){t=rs(t,Bh);const e=rs(t.firestore,Fu),n=Uh(e),r=new lv(e);return bY(t._query),dY(n,t._query).then(i=>new GC(e,r,t,i))}function vDe(t){t=rs(t,Bh);const e=rs(t.firestore,Fu),n=Uh(e),r=new lv(e);return qLe(n,t._query).then(i=>new GC(e,r,t,i))}function yDe(t){t=rs(t,Bh);const e=rs(t.firestore,Fu),n=Uh(e),r=new lv(e);return dY(n,t._query,{source:"server"}).then(i=>new GC(e,r,t,i))}function xDe(t,e,n){t=rs(t,Gs);const r=rs(t.firestore,Fu),i=fDe(t.converter,e,n);return _De(r,[eDe(JLe(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ic.none())])}function MY(t,...e){var n,r,i;t=T0(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||$V(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if($V(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,c;if(t instanceof Gs)u=rs(t.firestore,Fu),c=NC(t._key.path),l={next:p=>{e[o]&&e[o](rN(u,t,p))},error:e[o+1],complete:e[o+2]};else{const p=rs(t,Bh);u=rs(p.firestore,Fu),c=p._query;const m=new lv(u);l={next:v=>{e[o]&&e[o](new GC(u,m,p,v))},error:e[o+1],complete:e[o+2]},bY(t._query)}return function(p,m,v,y){const x=new KO(y),_=new XO(m,x,v);return p.asyncQueue.enqueueAndForget(async()=>GO(await UE(p),_)),()=>{x.bc(),p.asyncQueue.enqueueAndForget(async()=>jO(await UE(p),_))}}(Uh(u),c,a,l)}function _De(t,e){return function(n,r){const i=new Nl;return n.asyncQueue.enqueueAndForget(async()=>ALe(await GLe(n),r,i)),i.promise}(Uh(t),e)}function rN(t,e,n){const r=n.docs.get(e._key),i=new lv(t);return new nN(t,i,e._key,r,new Fg(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){iv=n})(r3e),EE(new I1("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Fu(new yIe(n.getProvider("auth-internal")),new SIe(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ot(Xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new U1(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Zg(mV,"3.7.3",t),Zg(mV,"3.7.3","esm2017")})();var ew=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}(),HE=typeof window>"u";function Ns(){}function wDe(t,e){return typeof t=="function"?t(e):t}function JI(t){return typeof t=="number"&&t>=0&&t!==1/0}function WE(t){return Array.isArray(t)?t:[t]}function EY(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mM(t,e,n){return jC(t)?typeof e=="function"?Un({},n,{queryKey:t,queryFn:e}):Un({},e,{queryKey:t}):t}function Hf(t,e,n){return jC(t)?[Un({},e,{queryKey:t}),n]:[t||{},e]}function SDe(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t!=null?t:!e;return n?"active":"inactive"}function GV(t,e){var n=t.active,r=t.exact,i=t.fetching,s=t.inactive,o=t.predicate,a=t.queryKey,l=t.stale;if(jC(a)){if(r){if(e.queryHash!==iN(a,e.options))return!1}else if(!$E(e.queryKey,a))return!1}var u=SDe(n,s);if(u==="none")return!1;if(u!=="all"){var c=e.isActive();if(u==="active"&&!c||u==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function jV(t,e){var n=t.exact,r=t.fetching,i=t.predicate,s=t.mutationKey;if(jC(s)){if(!e.options.mutationKey)return!1;if(n){if(eh(e.options.mutationKey)!==eh(s))return!1}else if(!$E(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function iN(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||eh;return n(t)}function eh(t){var e=WE(t);return bDe(e)}function bDe(t){return JSON.stringify(t,function(e,n){return ek(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function $E(t,e){return TY(WE(t),WE(e))}function TY(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!TY(t[n],e[n])}):!1}function GE(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||ek(t)&&ek(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{},a=0,l=0;l<s;l++){var u=n?l:i[l];o[u]=GE(t[u],e[u]),o[u]===t[u]&&a++}return r===s&&a===r?t:o}return e}function MDe(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function ek(t){if(!qV(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!qV(n)||!n.hasOwnProperty("isPrototypeOf"))}function qV(t){return Object.prototype.toString.call(t)==="[object Object]"}function jC(t){return typeof t=="string"||Array.isArray(t)}function EDe(t){return new Promise(function(e){setTimeout(e,t)})}function XV(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function CY(){if(typeof AbortController=="function")return new AbortController}var TDe=function(t){u_(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!HE&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(ew),Mx=new TDe,CDe=function(t){u_(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!HE&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(ew),gM=new CDe;function ADe(t){return Math.min(1e3*Math.pow(2,t),3e4)}function jE(t){return typeof(t==null?void 0:t.cancel)=="function"}var AY=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function vM(t){return t instanceof AY}var PY=function(e){var n=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(m){return i==null?void 0:i(m)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(m,v){o=m,a=v});var l=function(v){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(v),s==null||s(),o(v))},u=function(v){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(v),s==null||s(),a(v))},c=function(){return new Promise(function(v){s=v,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},p=function m(){if(!n.isResolved){var v;try{v=e.fn()}catch(y){v=Promise.reject(y)}i=function(x){if(!n.isResolved&&(u(new AY(x)),n.abort==null||n.abort(),jE(v)))try{v.cancel()}catch{}},n.isTransportCancelable=jE(v),Promise.resolve(v).then(l).catch(function(y){var x,_;if(!n.isResolved){var b=(x=e.retry)!=null?x:3,M=(_=e.retryDelay)!=null?_:ADe,w=typeof M=="function"?M(n.failureCount,y):M,T=b===!0||typeof b=="number"&&n.failureCount<b||typeof b=="function"&&b(n.failureCount,y);if(r||!T){u(y);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,y),EDe(w).then(function(){if(!Mx.isFocused()||!gM.isOnline())return c()}).then(function(){r?u(y):m()})}})}};p()},PDe=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):XV(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&XV(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),Zr=new PDe,RY=console;function qE(){return RY}function RDe(t){RY=t}var IDe=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=Un({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),JI(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,l=wDe(r,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,l)?l=a:this.options.structuralSharing!==!1&&(l=GE(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(Ns).catch(Ns):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!EY(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i==null?void 0:i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var c=this.observers.find(function(M){return M.options.queryFn});c&&this.setOptions(c.options)}var p=WE(this.queryKey),m=CY(),v={queryKey:p,pageParam:void 0,meta:this.meta};Object.defineProperty(v,"signal",{enumerable:!0,get:function(){if(m)return s.abortSignalConsumed=!0,m.signal}});var y=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(v)):Promise.reject("Missing queryFn")},x={fetchOptions:i,options:this.options,queryKey:p,state:this.state,fetchFn:y,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var _;(_=this.options.behavior)==null||_.onFetch(x)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=x.fetchOptions)==null?void 0:a.meta)){var b;this.dispatch({type:"fetch",meta:(b=x.fetchOptions)==null?void 0:b.meta})}return this.retryer=new PY({fn:x.fetchFn,abort:m==null||(l=m.abort)==null?void 0:l.bind(m),onSuccess:function(w){s.setData(w),s.cache.config.onSuccess==null||s.cache.config.onSuccess(w,s),s.cacheTime===0&&s.optionalRemove()},onError:function(w){vM(w)&&w.silent||s.dispatch({type:"error",error:w}),vM(w)||(s.cache.config.onError==null||s.cache.config.onError(w,s),qE().error(w)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Zr.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o!=null?o:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return Un({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Un({},r,{isPaused:!0});case"continue":return Un({},r,{isPaused:!1});case"fetch":return Un({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Un({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return vM(a)&&a.revert&&this.revertState?Un({},this.revertState):Un({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Un({},r,{isInvalidated:!0});case"setState":return Un({},r,i.state);default:return r}},t}(),kDe=function(t){u_(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,s,o){var a,l=s.queryKey,u=(a=s.queryHash)!=null?a:iN(l,s),c=this.get(u);return c||(c=new IDe({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(l),meta:s.meta}),this.add(c)),c},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;Zr.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var o=Hf(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return GV(a,l)})},n.findAll=function(i,s){var o=Hf(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return GV(a,l)}):this.queries},n.notify=function(i){var s=this;Zr.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;Zr.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;Zr.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(ew),LDe=function(){function t(n){this.options=Un({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||DDe(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Ns).catch(Ns)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),qE().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new PY({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=ODe(this.state,r),Zr.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function DDe(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function ODe(t,e){switch(e.type){case"failed":return Un({},t,{failureCount:t.failureCount+1});case"pause":return Un({},t,{isPaused:!0});case"continue":return Un({},t,{isPaused:!1});case"loading":return Un({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Un({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Un({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Un({},t,e.state);default:return t}}var NDe=function(t){u_(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,s,o){var a=new LDe({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;Zr.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return jV(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return jV(i,s)})},n.notify=function(i){var s=this;Zr.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return Zr.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(Ns)})},Promise.resolve())})},e}(ew);function FDe(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,s,o,a,l=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,c=u==null?void 0:u.pageParam,p=(u==null?void 0:u.direction)==="forward",m=(u==null?void 0:u.direction)==="backward",v=((o=e.state.data)==null?void 0:o.pages)||[],y=((a=e.state.data)==null?void 0:a.pageParams)||[],x=CY(),_=x==null?void 0:x.signal,b=y,M=!1,w=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},T=function(ee,ue,ae,fe){return b=fe?[ue].concat(b):[].concat(b,[ue]),fe?[ae].concat(ee):[].concat(ee,[ae])},A=function(ee,ue,ae,fe){if(M)return Promise.reject("Cancelled");if(typeof ae>"u"&&!ue&&ee.length)return Promise.resolve(ee);var z={queryKey:e.queryKey,signal:_,pageParam:ae,meta:e.meta},Y=w(z),Z=Promise.resolve(Y).then(function(G){return T(ee,ae,G,fe)});if(jE(Y)){var B=Z;B.cancel=Y.cancel}return Z},k;if(!v.length)k=A([]);else if(p){var L=typeof c<"u",P=L?c:YV(e.options,v);k=A(v,L,P)}else if(m){var O=typeof c<"u",N=O?c:zDe(e.options,v);k=A(v,O,N,!0)}else(function(){b=[];var te=typeof e.options.getNextPageParam>"u",ee=l&&v[0]?l(v[0],0,v):!0;k=ee?A([],te,y[0]):Promise.resolve(T([],y[0],v[0]));for(var ue=function(z){k=k.then(function(Y){var Z=l&&v[z]?l(v[z],z,v):!0;if(Z){var B=te?y[z]:YV(e.options,Y);return A(Y,te,B)}return Promise.resolve(T(Y,y[z],v[z]))})},ae=1;ae<v.length;ae++)ue(ae)})();var H=k.then(function(te){return{pages:te,pageParams:b}}),ie=H;return ie.cancel=function(){M=!0,x==null||x.abort(),jE(k)&&k.cancel()},H}}}}function YV(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function zDe(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var BDe=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new kDe,this.mutationCache=n.mutationCache||new NDe,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=Mx.subscribe(function(){Mx.isFocused()&&gM.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=gM.subscribe(function(){Mx.isFocused()&&gM.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=Hf(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(Un({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=mM(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return Zr.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=Hf(r,i),o=s[0],a=this.queryCache;Zr.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,s){var o=this,a=Hf(r,i,s),l=a[0],u=a[1],c=this.queryCache,p=Un({},l,{active:!0});return Zr.batch(function(){return c.findAll(l).forEach(function(m){m.reset()}),o.refetchQueries(p,u)})},e.cancelQueries=function(r,i,s){var o=this,a=Hf(r,i,s),l=a[0],u=a[1],c=u===void 0?{}:u;typeof c.revert>"u"&&(c.revert=!0);var p=Zr.batch(function(){return o.queryCache.findAll(l).map(function(m){return m.cancel(c)})});return Promise.all(p).then(Ns).catch(Ns)},e.invalidateQueries=function(r,i,s){var o,a,l,u=this,c=Hf(r,i,s),p=c[0],m=c[1],v=Un({},p,{active:(o=(a=p.refetchActive)!=null?a:p.active)!=null?o:!0,inactive:(l=p.refetchInactive)!=null?l:!1});return Zr.batch(function(){return u.queryCache.findAll(p).forEach(function(y){y.invalidate()}),u.refetchQueries(v,m)})},e.refetchQueries=function(r,i,s){var o=this,a=Hf(r,i,s),l=a[0],u=a[1],c=Zr.batch(function(){return o.queryCache.findAll(l).map(function(m){return m.fetch(void 0,Un({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),p=Promise.all(c).then(Ns);return u!=null&&u.throwOnError||(p=p.catch(Ns)),p},e.fetchQuery=function(r,i,s){var o=mM(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(Ns).catch(Ns)},e.fetchInfiniteQuery=function(r,i,s){var o=mM(r,i,s);return o.behavior=FDe(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(Ns).catch(Ns)},e.cancelMutations=function(){var r=this,i=Zr.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(Ns).catch(Ns)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return eh(r)===eh(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return $E(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return eh(r)===eh(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return $E(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=Un({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=iN(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Un({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),UDe=function(t){u_(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),QV(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return tk(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return tk(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&KV(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,s){var o=this,a={},l=function(c){o.trackedProps.includes(c)||o.trackedProps.push(c)};return Object.keys(i).forEach(function(u){Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:function(){return l(u),i[u]}})}),(s.useErrorBoundary||s.suspense)&&l("error"),a},n.getNextResult=function(i){var s=this;return new Promise(function(o,a){var l=s.subscribe(function(u){u.isFetching||(l(),u.isError&&(i==null?void 0:i.throwOnError)?a(u.error):o(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(Un({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},n.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},n.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(s=s.catch(Ns)),s},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(HE||this.currentResult.isStale||!JI(this.options.staleTime))){var s=EY(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(HE||this.options.enabled===!1||!JI(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||Mx.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,s){var o=this.currentQuery,a=this.options,l=this.currentResult,u=this.currentResultState,c=this.currentResultOptions,p=i!==o,m=p?i.state:this.currentQueryInitialState,v=p?this.currentResult:this.previousQueryResult,y=i.state,x=y.dataUpdatedAt,_=y.error,b=y.errorUpdatedAt,M=y.isFetching,w=y.status,T=!1,A=!1,k;if(s.optimisticResults){var L=this.hasListeners(),P=!L&&QV(i,s),O=L&&KV(i,o,s,a);(P||O)&&(M=!0,x||(w="loading"))}if(s.keepPreviousData&&!y.dataUpdateCount&&(v==null?void 0:v.isSuccess)&&w!=="error")k=v.data,x=v.dataUpdatedAt,w=v.status,T=!0;else if(s.select&&typeof y.data<"u")if(l&&y.data===(u==null?void 0:u.data)&&s.select===this.selectFn)k=this.selectResult;else try{this.selectFn=s.select,k=s.select(y.data),s.structuralSharing!==!1&&(k=GE(l==null?void 0:l.data,k)),this.selectResult=k,this.selectError=null}catch(ie){qE().error(ie),this.selectError=ie}else k=y.data;if(typeof s.placeholderData<"u"&&typeof k>"u"&&(w==="loading"||w==="idle")){var N;if((l==null?void 0:l.isPlaceholderData)&&s.placeholderData===(c==null?void 0:c.placeholderData))N=l.data;else if(N=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof N<"u")try{N=s.select(N),s.structuralSharing!==!1&&(N=GE(l==null?void 0:l.data,N)),this.selectError=null}catch(ie){qE().error(ie),this.selectError=ie}typeof N<"u"&&(w="success",k=N,A=!0)}this.selectError&&(_=this.selectError,k=this.selectResult,b=Date.now(),w="error");var H={status:w,isLoading:w==="loading",isSuccess:w==="success",isError:w==="error",isIdle:w==="idle",data:k,dataUpdatedAt:x,error:_,errorUpdatedAt:b,failureCount:y.fetchFailureCount,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>m.dataUpdateCount||y.errorUpdateCount>m.errorUpdateCount,isFetching:M,isRefetching:M&&w!=="loading",isLoadingError:w==="error"&&y.dataUpdatedAt===0,isPlaceholderData:A,isPreviousData:T,isRefetchError:w==="error"&&y.dataUpdatedAt!==0,isStale:sN(i,s),refetch:this.refetch,remove:this.remove};return H},n.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var u=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(c){var p=c,m=i[p]!==s[p],v=u==null?void 0:u.some(function(x){return x===c}),y=l==null?void 0:l.some(function(x){return x===c});return m&&!y&&(!u||v)})},n.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!MDe(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(Un({},o,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!vM(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var s=this;Zr.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(ew);function VDe(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function QV(t,e){return VDe(t,e)||t.state.dataUpdatedAt>0&&tk(t,e,e.refetchOnMount)}function tk(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&sN(t,e)}return!1}function KV(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&sN(t,n)}function sN(t,e){return t.isStaleByTime(e.staleTime)}var HDe=Pne.unstable_batchedUpdates;Zr.setBatchNotifyFunction(HDe);var WDe=console;RDe(WDe);var ZV=Ye.createContext(void 0),IY=Ye.createContext(!1);function kY(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ZV),window.ReactQueryClientContext):ZV}var LY=function(){var e=Ye.useContext(kY(Ye.useContext(IY)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$De=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;Ye.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=kY(i);return J(IY.Provider,{value:i,children:J(o.Provider,{value:n,children:s})})};function GDe(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var jDe=Ye.createContext(GDe()),qDe=function(){return Ye.useContext(jDe)};function XDe(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function YDe(t,e){var n=Ye.useRef(!1),r=Ye.useState(0),i=r[1],s=LY(),o=qDe(),a=s.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=Zr.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Zr.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Zr.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l=Ye.useState(function(){return new e(s,a)}),u=l[0],c=u.getOptimisticResult(a);if(Ye.useEffect(function(){n.current=!0,o.clearReset();var p=u.subscribe(Zr.batchCalls(function(){n.current&&i(function(m){return m+1})}));return u.updateResult(),function(){n.current=!1,p()}},[o,u]),Ye.useEffect(function(){u.setOptions(a,{listeners:!1})},[a,u]),a.suspense&&c.isLoading)throw u.fetchOptimistic(a).then(function(p){var m=p.data;a.onSuccess==null||a.onSuccess(m),a.onSettled==null||a.onSettled(m,null)}).catch(function(p){o.clearReset(),a.onError==null||a.onError(p),a.onSettled==null||a.onSettled(void 0,p)});if(c.isError&&!o.isReset()&&!c.isFetching&&XDe(a.suspense,a.useErrorBoundary,[c.error,u.getCurrentQuery()]))throw c.error;return a.notifyOnChangeProps==="tracked"&&(c=u.trackResult(c,a)),c}function QDe(t,e,n){var r=mM(t,e,n);return YDe(r,UDe)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bs=function(){return Bs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bs.apply(this,arguments)};function uv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(p){o(p)}}function l(c){try{u(r.throw(c))}catch(p){o(p)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function cv(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var XE={},YE={},Ud={};function JV(t){var e=XE[t];e&&typeof e=="function"&&e(),delete XE[t],delete Ud[t]}function KDe(t){var e=YE[t];e&&(e(),delete YE[t])}function DY(t,e,n,r){var i=this,s,o=(r==null?void 0:r.queryKeyHashFn)||eh,a=o(e),l=LY(),u=function(){return null},c=function(){return null},p=new Promise(function(_,b){u=_,c=b});if(p.cancel=function(){l.invalidateQueries(t)},r!=null&&r.onlyOnce)if(r.fetchFn){var m=(s=r==null?void 0:r.enabled)!==null&&s!==void 0?s:!0;m&&r.fetchFn().then(u).catch(function(_){c(_)})}else throw new Error("You must specify fetchFn if using onlyOnce mode.");else{var v=!!YE[a];if(!v){var y=l.getQueryCache();YE[a]=y.subscribe(function(_){if(!(!_||_.query.queryHash!==o(t))){var b=_.query,M=_.type;if(M==="queryRemoved"&&(delete Ud[a],KDe(a),JV(a)),M==="observerAdded"||M==="observerRemoved"){var w=b.getObserversCount();if(w===0)JV(a);else{var T=!!XE[a];if(T){var A=l.getQueryData(t),k=!!Ud[a];k&&u(A!=null?A:null)}else XE[a]=n(function(L){return uv(i,void 0,void 0,function(){var P;return cv(this,function(O){return(P=Ud[a])!==null&&P!==void 0||(Ud[a]=0),Ud[a]++,Ud[a]===1?u(L||null):l.setQueryData(t,L),[2]})})})}}}})}}var x=function(){return p};return QDe(Bs(Bs({},r),{queryFn:x,queryKey:t,retry:!1,staleTime:1/0,refetchInterval:void 0,refetchOnMount:!0,refetchOnWindowFocus:!1,refetchOnReconnect:!1}))}function ZDe(t,e,n,r){var i=this;if((r==null?void 0:r.enabled)&&!e)throw new Error("useFirestoreDocumentData with key "+JSON.stringify(t)+`  expected to recieve a document reference, but got "undefined".
      Did you forget to set the options "enabled" to false?`);var s=!!(n!=null&&n.subscribe),o,a;(n==null?void 0:n.subscribe)===void 0&&(o=n==null?void 0:n.source),n!=null&&n.subscribe&&(a=n.includeMetadataChanges);var l=U.exports.useCallback(function(c){var p=function(){};return e&&(p=MY(e,{includeMetadataChanges:a},function(m){var v,y=m.data({serverTimestamps:n==null?void 0:n.serverTimestamps});y&&(n==null?void 0:n.idField)&&(y=Bs(Bs({},y),(v={},v[n.idField]=m.id,v)));var x=y;c(x)})),p},[e]),u=function(){return uv(i,void 0,void 0,function(){return cv(this,function(c){return e?[2,eOe(e,o).then(function(p){var m,v=p.data({serverTimestamps:n==null?void 0:n.serverTimestamps});return v&&(n==null?void 0:n.idField)&&(v=Bs(Bs({},v),(m={},m[n.idField]=p.id,m))),v})]:[2,null]})})};return DY(t,["useFirestoreDocument",t],l,Bs(Bs({},r),{onlyOnce:!s,fetchFn:u}))}function JDe(t,e,n,r){var i=this;if((r==null?void 0:r.enabled)&&!e)throw new Error("useFirestoreQueryData with key "+JSON.stringify(t)+`  expected to recieve a query or named query, but got "undefined".
      Did you forget to set the options "enabled" to false?`);var s=!!(n!=null&&n.subscribe),o,a;(n==null?void 0:n.subscribe)===void 0&&(o=n==null?void 0:n.source),n!=null&&n.subscribe&&(a=n.includeMetadataChanges);var l=U.exports.useCallback(function(c){var p=function(){};return e&&e6(e).then(function(m){p=MY(m,{includeMetadataChanges:a},function(v){var y=v.docs.map(function(x){var _,b=x.data({serverTimestamps:n==null?void 0:n.serverTimestamps});if(n!=null&&n.idField){var M=Bs(Bs({},b),(_={},_[n.idField]=x.id,_));return M}return b});c(y)})}),p},[e,t]),u=function(){return uv(i,void 0,void 0,function(){var c,p;return cv(this,function(m){switch(m.label){case 0:return e?[4,e6(e)]:[2,null];case 1:return c=m.sent(),[4,tOe(c,o)];case 2:return p=m.sent(),[2,p.docs.map(function(v){var y,x=v.data({serverTimestamps:n==null?void 0:n.serverTimestamps});return n!=null&&n.idField&&(x=Bs(Bs({},x),(y={},y[n.idField]=v.id,y))),x})]}})})};return DY(t,["useFirestoreDocument",t],l,Bs(Bs({},r),{onlyOnce:!s,fetchFn:u}))}function eOe(t,e){return uv(this,void 0,void 0,function(){var n;return cv(this,function(r){switch(r.label){case 0:return e!=="cache"?[3,2]:[4,pDe(t)];case 1:return n=r.sent(),[3,6];case 2:return e!=="server"?[3,4]:[4,mDe(t)];case 3:return n=r.sent(),[3,6];case 4:return[4,dDe(t)];case 5:n=r.sent(),r.label=6;case 6:return[2,n]}})})}function tOe(t,e){return uv(this,void 0,void 0,function(){var n;return cv(this,function(r){switch(r.label){case 0:return e!=="cache"?[3,2]:[4,vDe(t)];case 1:return n=r.sent(),[3,6];case 2:return e!=="server"?[3,4]:[4,yDe(t)];case 3:return n=r.sent(),[3,6];case 4:return[4,gDe(t)];case 5:n=r.sent(),r.label=6;case 6:return[2,n]}})})}function nOe(t){return typeof t=="function"}function e6(t){return uv(this,void 0,void 0,function(){var e;return cv(this,function(n){switch(n.label){case 0:return nOe(t)?typeof t!="function"?[3,2]:[4,t()]:[3,3];case 1:return e=n.sent(),[2,e];case 2:return[2,t];case 3:return[2,t]}})})}var rOe="firebase",iOe="9.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zg(rOe,iOe,"app");const sOe={apiKey:"AIzaSyCrKdSzsn0uuj1AGiQGHUqnvBCldUXnW-I",authDomain:"typer-pro.firebaseapp.com",projectId:"typer-pro",storageBucket:"typer-pro.appspot.com",messagingSenderId:"891894353184",appId:"1:891894353184:web:2ecca0d122b7e47b31db45"},oOe=oq(sOe),oN=YLe(oOe),aOe=({id:t,name:e})=>e+"<span>#"+t.slice(0,5)+"</span>",lOe=({data:t,playerId:e})=>J(wde,{h:"100%",w:"100%",border:"1px solid",borderColor:"#414141",overflowY:"auto",borderRadius:"md",sx:{"&::-webkit-scrollbar":{width:"12px",bg:"#2F2F2F",borderTopRightRadius:"md",borderBottomRightRadius:"md",overflow:"hidden"},"&::-webkit-scrollbar-track":{width:"6px",overflow:"hidden"},"&::-webkit-scrollbar-thumb":{background:"#454545",borderTopRightRadius:"md",borderBottomRightRadius:"md"}},children:jt(pG,{children:[J(bde,{position:"sticky",top:"0",zIndex:"1",children:jt(pA,{children:[J(dA,{}),J(dA,{w:"100%",children:"Player"}),J(dA,{children:"wpm"})]})}),jt(Mde,{children:[!t.length&&J(pA,{children:J(PS,{colSpan:4,p:"4",children:J(vs,{align:"center",children:"No leaderboard data found"})})}),t.map(({id:n,name:r,wpm:i},s)=>{const o=n===e;return jt(pA,{bg:o?"primary":void 0,color:o?"white":void 0,children:[J(PS,{children:s+1}),J(PS,{sx:{span:{fontSize:"12px",opacity:.4,ml:1}},dangerouslySetInnerHTML:{__html:aOe({id:n,name:r})}}),J(PS,{children:i})]},n)})]})]})}),uOe=({id:t})=>{const{id:e}=R1(o=>o),n=VLe(oN,`leaderboard/${t}/players`),r=oDe(n,lDe("wpm","desc")),{isLoading:i,data:s}=JDe(["leaderboard",t],r,{subscribe:!0});return i||!s?J(WT,{children:J(s_,{color:"primary"})}):J(lOe,{data:s,playerId:e})};function OY(t){return Z0({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.75 8a4.5 4.5 0 0 1-8.61 1.834l-1.391.565A6.001 6.001 0 0 0 14.25 8 6 6 0 0 0 3.5 4.334V2.5H2v4l.75.75h3.5v-1.5H4.352A4.5 4.5 0 0 1 12.75 8z"}}]})(t)}const t6=()=>{var i;const t=N_(),e=em(),n=(i=e==null?void 0:e.state)==null?void 0:i.stats,{textId:r}=$j();return r?J(ts.div,{style:{width:"100%"},initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},children:jt(o_,{w:"100%",mx:"auto",maxW:"2xl",h:"100%",spacing:"6",align:"stretch",maxH:"268px",children:[n&&jt(Gp,{fontSize:"2xl",align:"stretch",justify:"space-between",children:[jt(ya,{children:[J(vs,{children:"wpm"}),J(vs,{children:J(HPe,{end:n==null?void 0:n.wpm,duration:.6})})]}),J(Y$,{}),J(s1,{label:"Try again",placement:"top",hasArrow:!0,children:J(Cp,{variant:"outline",size:"lg","aria-label":"Try again",onClick:()=>t(`/singleplayer/${r}`),icon:J(OY,{})})}),J(s1,{label:"Start a new game",placement:"top",hasArrow:!0,children:J(Cp,{variant:"outline",size:"lg","aria-label":"New game",onClick:()=>t("/singleplayer"),icon:J(Nj,{})})})]}),J(ya,{flexGrow:1,children:J(uOe,{id:r})})]})}):J("p",{children:"Leaderboard for joke not found"})},cOe=t=>{const[e,n]=U.exports.useState(),[r,i]=Ap(),s=l=>{const c=l.joke.replace(/\s+/g," ").trim().replaceAll("\u2013","-").replaceAll("\u2019","'");return{...l,joke:c.replaceAll('"',"")}},o=async()=>{i.on();let l="https://v2.jokeapi.dev/joke/Any?blacklistFlags=racist,sexist&type=single&amount=1";t&&(l=l+`&idRange=${t}`);const u=await fetch(l);if(u.ok){const c=await u.json();n(s(c))}else console.error("Error fetching jokes api",u);i.off()};return U.exports.useEffect(()=>{r||o()},[t]),{joke:e,isLoading:r,onRestart:()=>{o()}}},n6={start:0,end:0},fOe=(t,e)=>{const n=t.split(" "),[r,i]=U.exports.useState([]),[s,o]=U.exports.useState(0),[a,l]=U.exports.useState(""),[u,c]=U.exports.useState(n6),{onChangeProgress:p,room:m}=aO(),v=n.length<s+1,y=n.length<s+2,x=n[s],_=(x==null?void 0:x.substring(0,a.length))===a,b=()=>{const{start:T,end:A}=u,L=(A||Date.now())-T,P=6e4,O=t.split(" ").length,N=t.length*(P/L),H=O*(P/L);return{wpm:Math.round(H),cpm:Math.round(N)}},M=T=>{u.start||c(N=>({...N,start:Date.now()}));const A=T.currentTarget.value,k=A.slice(-1)===" ",P=(k?A.slice(0,-1):A)===n[s],O=P&&y;O||P&&k?(O&&(c(N=>({...N,end:Date.now()})),e==null||e(b())),i(N=>[...N,A.replaceAll(" ","")]),o(N=>{const H=N+1,ie=H/n.length;return m&&p(ie),H}),l("")):l(A)},w=()=>{l(""),i([]),o(0),c(n6)};return{validText:r.join(" "),wordToType:x,inputValue:a,textToType:n.slice(s+1).join(" "),isFinished:v,hasError:!_,timer:u,onReset:w,handleChange:M}},hOe=({validText:t,currentWord:e,text:n})=>J(ts.div,{initial:{opacity:0,height:"0%"},animate:{opacity:1,height:"100%"},exit:{opacity:0,height:"0%"},transition:{duration:.3},children:jt(vs,{fontSize:"lg",color:"gray.500",children:[jt(vs,{as:"span",color:"text",children:[t," "]}),jt(vs,{as:"span",fontWeight:"bold",color:"primary",children:[e," "]}),J(vs,{as:"span",children:n})]})}),dOe=({value:t,hasError:e,onChange:n})=>{const[r,i]=Ap();return J(h0,{autoFocus:!0,border:"none",fontSize:"6xl",color:e?"red.500":"gray.600",_focus:{boxShadow:"none"},value:t,borderRadius:"none",textAlign:"center",onChange:n,onFocus:i.off,onBlur:i.on,height:"auto",placeholder:r?"Type here":void 0,_placeholder:{color:"gray.500",opacity:.2}})},pOe=({joke:t,onRestart:e,isLoading:n,onFinish:r})=>{const i=(t==null?void 0:t.joke)||"",s=N_(),{textToType:o,validText:a,wordToType:l,inputValue:u,handleChange:c,hasError:p,onReset:m}=fOe(i,r),v=()=>{e==null||e(),m()};return U.exports.useEffect(()=>{m()},[i]),jt(Gp,{spacing:"8",height:"100%",justify:"flex-end",flexGrow:1,children:[J(ya,{maxW:"4xl",children:n?J(ya,{display:"inline",children:J(s_,{size:"xl",color:"secondary"})}):J(hOe,{validText:a,currentWord:l,text:o})}),J(dOe,{value:u,hasError:p,onChange:c}),jt(o_,{children:[J(s1,{label:"Try again",placement:"top",hasArrow:!0,children:J(Cp,{variant:"outline",size:"lg","aria-label":"Try again",onClick:v,icon:J(OY,{})})}),J(s1,{label:"Start a new game",placement:"top",hasArrow:!0,children:J(Cp,{variant:"outline",size:"lg","aria-label":"New game",onClick:()=>s("/singleplayer"),icon:J(Nj,{})})})]})]})},mOe=t=>{const{nickname:e,id:n}=R1(i=>i);return async i=>{if(!t)return!1;const s=lY(oN,`leaderboard/${t}/players/${n}`);try{return await xDe(s,{name:e,wpm:i.wpm,id:n}),!0}catch(o){return console.error("playerdata was not added",o),!1}}},gOe=t=>{const{id:e}=R1(),n=t?lY(oN,`leaderboard/${t}/players/${e}`):void 0;return ZDe(["player-stats",e,t],n)},r6=()=>{const{textId:t}=$j(),{joke:e,isLoading:n,onRestart:r}=cOe(t),i=mOe(t||(e==null?void 0:e.id)),{isLoading:s,data:o,refetch:a}=gOe(t||(e==null?void 0:e.id)),l=N_(),u=async c=>{(!o||c.wpm>o.wpm)&&await i(c),e&&l(`/leaderboard/${e.id}`,{state:{stats:c,textId:e.id}})};return U.exports.useEffect(()=>{(e==null?void 0:e.id)&&!t&&l(`/singleplayer/${e.id}`,{replace:!0})},[e==null?void 0:e.id]),U.exports.useEffect(()=>{a()},[]),J(ts.div,{style:{flexGrow:1},initial:{transform:"scale(0.1)"},animate:{transform:"scale(1)"},exit:{transform:"scale(0.1)",opacity:0},transition:{duration:.2},children:J(WT,{h:"100%",px:"5",children:J(pOe,{joke:e,isLoading:n||s,onRestart:r,onFinish:c=>{u(c)}})})})},vOe=()=>{const{nickname:t}=aO(),[e,n]=U.exports.useState(t||""),[r,i]=U.exports.useState(""),s=o=>{o.preventDefault()};return jt(ts.div,{initial:{transform:"scale(0.1)"},animate:{transform:"scale(1)"},exit:{transform:"scale(0.1)",opacity:0},children:[J(vs,{children:"Want to chat while playing TyperPro? Set a nickname and join a room!"}),jt(Gp,{mt:"6",align:"stretch",spacing:"3",children:[J(h0,{placeholder:"Nickname",name:"nickname",autoFocus:!0,value:e,onChange:o=>n(o.currentTarget.value.trim())}),J(h0,{placeholder:"Room",name:"room",value:r,onChange:o=>i(o.currentTarget.value.trim())})]}),J(VT,{onClick:s,children:"Join"})]})},yOe=()=>{const t=em();return J(Lu,{mode:"wait",children:jt(XAe,{location:t,children:[J(Ff,{path:"/",element:J(lPe,{})}),J(Ff,{path:"/player",element:J(zPe,{})}),J(Ff,{path:"/singleplayer",element:J(r6,{}),children:J(Ff,{path:":textId",element:J(r6,{})})}),J(Ff,{path:"/leaderboard",element:J(t6,{}),children:J(Ff,{path:":textId",element:J(t6,{})})}),J(Ff,{path:"/multiplayer",element:J(vOe,{})})]},(()=>t.pathname.includes("/singleplayer/")?"/singleplayer":t.pathname)())})},xOe=cM(U2e),_Oe=({hoveringItem:t})=>{const e=U.exports.useRef(null),n=U.exports.useRef(null),[r,i]=Ap(),[s,o]=Ap(),a=["#9d0054","#008888","#202020"];Q0((y,x)=>{e.current&&(e.current.rotation.y+=x*2)});const[{wobble:l,coat:u,color:c,ambient:p,env:m}]=b2e({wobble:r||s?1.2:1,coat:10,ambient:s?.5:1.5,env:s?1:.4,color:a[t],config:y=>y==="wobble"&&s&&{mass:2,tension:1e3,friction:10}||{}},[s,r,t]),v=cM.ambientLight;return jt(ga,{children:[jt(N2e,{makeDefault:!0,position:[0,0,4],fov:75,children:[J(v,{intensity:p}),J(cM.pointLight,{ref:n,"position-z":-15,intensity:m,color:"#F8C069"})]}),jt(U.exports.Suspense,{fallback:null,children:[jt(cM.mesh,{ref:e,scale:l,onPointerOver:o.on,onPointerOut:o.off,onPointerDown:i.on,onPointerUp:i.off,children:[J("sphereGeometry",{args:[1,64,64]}),J(xOe,{color:c,envMapIntensity:m,clearcoat:u,clearcoatRoughness:0,metalness:.1})]}),J(j2e,{preset:"warehouse"}),J(q2e,{rotation:[Math.PI/2,0,0],position:[0,-1.5,0],opacity:.4,width:1,height:1,blur:2.5,far:1.5})]})]})},wOe=new BDe,SOe=()=>{const t=()=>localStorage.getItem("theme")==="dark",[e,n]=Ap(t()),[r,i]=Ap(),s=()=>{e?localStorage.setItem("theme","light"):localStorage.setItem("theme","dark"),n.toggle()};return J($De,{client:wOe,children:J(uxe,{theme:Q2e,children:jt($T,{templateRows:"repeat(2, 50vh)",bg:"background",h:"100vh",overflow:"hidden",w:"100%",transition:"0.2s",color:"text",children:[jt(fCe,{className:"canvas",dpr:[1,2],children:[J(_Oe,{hoveringItem:0}),J(F2e,{enablePan:!1,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2})]}),J(nPe,{isDarkTheme:e,onThemeChange:s,onTransitionEnd:i.on}),jt(ya,{transition:"0.2s",w:"100%",children:[r&&J(yOe,{}),J(oPe,{})]})]})})})},bOe="modulepreload",MOe=function(t){return"/"+t},i6={},EOe=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=MOe(s),s in i6)return;i6[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const p=i[c];if(p.href===s&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":bOe,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,p)=>{u.addEventListener("load",c),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())},TOe=async t=>{if(t&&t instanceof Function){const e=await EOe(()=>import("./web-vitals.67dce932.js"),[]),{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=e;n(t),r(t),i(t),s(t),o(t)}},COe=OP.createRoot(document.getElementById("root"));COe.render(J(JAe,{children:J(SOe,{})}));TOe();
